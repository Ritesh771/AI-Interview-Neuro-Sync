var yW=Object.create;var Uc=Object.defineProperty;var hP=Object.getOwnPropertyDescriptor;var _W=Object.getOwnPropertyNames;var wW=Object.getPrototypeOf,EW=Object.prototype.hasOwnProperty;var G=(t,r)=>()=>(t&&(r=t(t=0)),r);var R=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),Vt=(t,r)=>{for(var e in r)Uc(t,e,{get:r[e],enumerable:!0})},mP=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of _W(r))!EW.call(t,i)&&i!==e&&Uc(t,i,{get:()=>r[i],enumerable:!(n=hP(r,i))||n.enumerable});return t};var wr=(t,r,e)=>(e=t!=null?yW(wW(t)):{},mP(r||!t||!t.__esModule?Uc(e,"default",{value:t,enumerable:!0}):e,t)),OW=t=>mP(Uc({},"__esModule",{value:!0}),t),Fe=(t,r,e,n)=>{for(var i=n>1?void 0:n?hP(r,e):r,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(r,e,i):s(i))||i);return n&&i&&Uc(r,e,i),i};var E,v=G(()=>{E={}});var bP=R((iae,vP)=>{v();var Na=1e3,Fa=Na*60,ja=Fa*60,ps=ja*24,PW=ps*7,TW=ps*365.25;vP.exports=function(t,r){r=r||{};var e=typeof t;if(e==="string"&&t.length>0)return xW(t);if(e==="number"&&isFinite(t))return r.long?CW(t):AW(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function xW(t){if(t=String(t),!(t.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(r){var e=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return e*TW;case"weeks":case"week":case"w":return e*PW;case"days":case"day":case"d":return e*ps;case"hours":case"hour":case"hrs":case"hr":case"h":return e*ja;case"minutes":case"minute":case"mins":case"min":case"m":return e*Fa;case"seconds":case"second":case"secs":case"sec":case"s":return e*Na;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}function AW(t){var r=Math.abs(t);return r>=ps?Math.round(t/ps)+"d":r>=ja?Math.round(t/ja)+"h":r>=Fa?Math.round(t/Fa)+"m":r>=Na?Math.round(t/Na)+"s":t+"ms"}function CW(t){var r=Math.abs(t);return r>=ps?Kp(t,r,ps,"day"):r>=ja?Kp(t,r,ja,"hour"):r>=Fa?Kp(t,r,Fa,"minute"):r>=Na?Kp(t,r,Na,"second"):t+" ms"}function Kp(t,r,e,n){var i=r>=e*1.5;return Math.round(t/e)+" "+n+(i?"s":"")}});var r_=R((sae,gP)=>{v();function MW(t){e.debug=e,e.default=e,e.coerce=c,e.disable=o,e.enable=i,e.enabled=s,e.humanize=bP(),e.destroy=l,Object.keys(t).forEach(p=>{e[p]=t[p]}),e.names=[],e.skips=[],e.formatters={};function r(p){let h=0;for(let f=0;f<p.length;f++)h=(h<<5)-h+p.charCodeAt(f),h|=0;return e.colors[Math.abs(h)%e.colors.length]}e.selectColor=r;function e(p){let h,f=null,b,g;function w(..._){if(!w.enabled)return;let S=w,x=Number(new Date),C=x-(h||x);S.diff=C,S.prev=h,S.curr=x,h=x,_[0]=e.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let I=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(P,D)=>{if(P==="%%")return"%";I++;let j=e.formatters[D];if(typeof j=="function"){let L=_[I];P=j.call(S,L),_.splice(I,1),I--}return P}),e.formatArgs.call(S,_),(S.log||e.log).apply(S,_)}return w.namespace=p,w.useColors=e.useColors(),w.color=e.selectColor(p),w.extend=n,w.destroy=e.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(b!==e.namespaces&&(b=e.namespaces,g=e.enabled(p)),g),set:_=>{f=_}}),typeof e.init=="function"&&e.init(w),w}function n(p,h){let f=e(this.namespace+(typeof h>"u"?":":h)+p);return f.log=this.log,f}function i(p){e.save(p),e.namespaces=p,e.names=[],e.skips=[];let h,f=(typeof p=="string"?p:"").split(/[\s,]+/),b=f.length;for(h=0;h<b;h++)f[h]&&(p=f[h].replace(/\*/g,".*?"),p[0]==="-"?e.skips.push(new RegExp("^"+p.slice(1)+"$")):e.names.push(new RegExp("^"+p+"$")))}function o(){let p=[...e.names.map(a),...e.skips.map(a).map(h=>"-"+h)].join(",");return e.enable(""),p}function s(p){if(p[p.length-1]==="*")return!0;let h,f;for(h=0,f=e.skips.length;h<f;h++)if(e.skips[h].test(p))return!1;for(h=0,f=e.names.length;h<f;h++)if(e.names[h].test(p))return!0;return!1}function a(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function c(p){return p instanceof Error?p.stack||p.message:p}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}gP.exports=MW});var yP=R((Hr,Xp)=>{v();Hr.formatArgs=kW;Hr.save=LW;Hr.load=RW;Hr.useColors=IW;Hr.storage=NW();Hr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Hr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function IW(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function kW(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Xp.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let e=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(e++,i==="%c"&&(n=e))}),t.splice(n,0,r)}Hr.log=console.debug||console.log||(()=>{});function LW(t){try{t?Hr.storage.setItem("debug",t):Hr.storage.removeItem("debug")}catch{}}function RW(){let t;try{t=Hr.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=E.DEBUG),t}function NW(){try{return localStorage}catch{}}Xp.exports=r_()(Hr);var{formatters:FW}=Xp.exports;FW.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}});var wP=R((cae,_P)=>{"use strict";v();_P.exports=(t,r=process.argv)=>{let e=t.startsWith("-")?"":t.length===1?"-":"--",n=r.indexOf(e+t),i=r.indexOf("--");return n!==-1&&(i===-1||n<i)}});var SP=R((dae,OP)=>{"use strict";v();var jW=require("os"),EP=require("tty"),pn=wP(),{env:Yt}=process,Qp;pn("no-color")||pn("no-colors")||pn("color=false")||pn("color=never")?Qp=0:(pn("color")||pn("colors")||pn("color=true")||pn("color=always"))&&(Qp=1);function DW(){if("FORCE_COLOR"in Yt)return Yt.FORCE_COLOR==="true"?1:Yt.FORCE_COLOR==="false"?0:Yt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Yt.FORCE_COLOR,10),3)}function qW(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function BW(t,{streamIsTTY:r,sniffFlags:e=!0}={}){let n=DW();n!==void 0&&(Qp=n);let i=e?Qp:n;if(i===0)return 0;if(e){if(pn("color=16m")||pn("color=full")||pn("color=truecolor"))return 3;if(pn("color=256"))return 2}if(t&&!r&&i===void 0)return 0;let o=i||0;if(Yt.TERM==="dumb")return o;if(process.platform==="win32"){let s=jW.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in Yt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(s=>s in Yt)||Yt.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in Yt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Yt.TEAMCITY_VERSION)?1:0;if(Yt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Yt){let s=Number.parseInt((Yt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Yt.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Yt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Yt.TERM)||"COLORTERM"in Yt?1:o}function n_(t,r={}){let e=BW(t,{streamIsTTY:t&&t.isTTY,...r});return qW(e)}OP.exports={supportsColor:n_,stdout:n_({isTTY:EP.isatty(1)}),stderr:n_({isTTY:EP.isatty(2)})}});var TP=R((Kt,tf)=>{v();var WW=require("tty"),ef=require("util");Kt.init=ZW;Kt.log=VW;Kt.formatArgs=UW;Kt.save=HW;Kt.load=GW;Kt.useColors=$W;Kt.destroy=ef.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Kt.colors=[6,2,3,4,5,1];try{let t=SP();t&&(t.stderr||t).level>=2&&(Kt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Kt.inspectOpts=Object.keys(E).filter(t=>/^debug_/i.test(t)).reduce((t,r)=>{let e=r.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=E[r];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[e]=n,t},{});function $W(){return"colors"in Kt.inspectOpts?!!Kt.inspectOpts.colors:WW.isatty(process.stderr.fd)}function UW(t){let{namespace:r,useColors:e}=this;if(e){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${r} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+tf.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=zW()+r+" "+t[0]}function zW(){return Kt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function VW(...t){return process.stderr.write(ef.formatWithOptions(Kt.inspectOpts,...t)+`
`)}function HW(t){t?E.DEBUG=t:delete E.DEBUG}function GW(){return E.DEBUG}function ZW(t){t.inspectOpts={};let r=Object.keys(Kt.inspectOpts);for(let e=0;e<r.length;e++)t.inspectOpts[r[e]]=Kt.inspectOpts[r[e]]}tf.exports=r_()(Kt);var{formatters:PP}=tf.exports;PP.o=function(t){return this.inspectOpts.colors=this.useColors,ef.inspect(t,this.inspectOpts).split(`
`).map(r=>r.trim()).join(" ")};PP.O=function(t){return this.inspectOpts.colors=this.useColors,ef.inspect(t,this.inspectOpts)}});var o_=R((hae,i_)=>{v();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?i_.exports=yP():i_.exports=TP()});var rf=R((Sae,AP)=>{v();function JW(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}AP.exports=JW});var MP=R((Tae,CP)=>{v();var YW=typeof global=="object"&&global&&global.Object===Object&&global;CP.exports=YW});var a_=R((Aae,IP)=>{v();var KW=MP(),XW=typeof self=="object"&&self&&self.Object===Object&&self,QW=KW||XW||Function("return this")();IP.exports=QW});var LP=R((Mae,kP)=>{v();var e$=a_(),t$=function(){return e$.Date.now()};kP.exports=t$});var NP=R((kae,RP)=>{v();var r$=/\s/;function n$(t){for(var r=t.length;r--&&r$.test(t.charAt(r)););return r}RP.exports=n$});var jP=R((Rae,FP)=>{v();var i$=NP(),o$=/^\s+/;function s$(t){return t&&t.slice(0,i$(t)+1).replace(o$,"")}FP.exports=s$});var u_=R((Fae,DP)=>{v();var a$=a_(),u$=a$.Symbol;DP.exports=u$});var $P=R((Dae,WP)=>{v();var qP=u_(),BP=Object.prototype,c$=BP.hasOwnProperty,l$=BP.toString,zc=qP?qP.toStringTag:void 0;function d$(t){var r=c$.call(t,zc),e=t[zc];try{t[zc]=void 0;var n=!0}catch{}var i=l$.call(t);return n&&(r?t[zc]=e:delete t[zc]),i}WP.exports=d$});var zP=R((Bae,UP)=>{v();var p$=Object.prototype,f$=p$.toString;function h$(t){return f$.call(t)}UP.exports=h$});var ZP=R(($ae,GP)=>{v();var VP=u_(),m$=$P(),v$=zP(),b$="[object Null]",g$="[object Undefined]",HP=VP?VP.toStringTag:void 0;function y$(t){return t==null?t===void 0?g$:b$:HP&&HP in Object(t)?m$(t):v$(t)}GP.exports=y$});var YP=R((zae,JP)=>{v();function _$(t){return t!=null&&typeof t=="object"}JP.exports=_$});var XP=R((Hae,KP)=>{v();var w$=ZP(),E$=YP(),O$="[object Symbol]";function S$(t){return typeof t=="symbol"||E$(t)&&w$(t)==O$}KP.exports=S$});var rT=R((Zae,tT)=>{v();var P$=jP(),QP=rf(),T$=XP(),eT=NaN,x$=/^[-+]0x[0-9a-f]+$/i,A$=/^0b[01]+$/i,C$=/^0o[0-7]+$/i,M$=parseInt;function I$(t){if(typeof t=="number")return t;if(T$(t))return eT;if(QP(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=QP(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=P$(t);var e=A$.test(t);return e||C$.test(t)?M$(t.slice(2),e?2:8):x$.test(t)?eT:+t}tT.exports=I$});var oT=R((Yae,iT)=>{v();var k$=rf(),c_=LP(),nT=rT(),L$="Expected a function",R$=Math.max,N$=Math.min;function F$(t,r,e){var n,i,o,s,a,c,l=0,p=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(L$);r=nT(r)||0,k$(e)&&(p=!!e.leading,h="maxWait"in e,o=h?R$(nT(e.maxWait)||0,r):o,f="trailing"in e?!!e.trailing:f);function b(P){var D=n,j=i;return n=i=void 0,l=P,s=t.apply(j,D),s}function g(P){return l=P,a=setTimeout(S,r),p?b(P):s}function w(P){var D=P-c,j=P-l,L=r-D;return h?N$(L,o-j):L}function _(P){var D=P-c,j=P-l;return c===void 0||D>=r||D<0||h&&j>=o}function S(){var P=c_();if(_(P))return x(P);a=setTimeout(S,w(P))}function x(P){return a=void 0,f&&n?b(P):(n=i=void 0,s)}function C(){a!==void 0&&clearTimeout(a),l=0,n=c=i=a=void 0}function I(){return a===void 0?s:x(c_())}function k(){var P=c_(),D=_(P);if(n=arguments,i=this,c=P,D){if(a===void 0)return g(c);if(h)return clearTimeout(a),a=setTimeout(S,r),b(c)}return a===void 0&&(a=setTimeout(S,r)),s}return k.cancel=C,k.flush=I,k}iT.exports=F$});var l_=R((Xae,sT)=>{v();var j$=oT(),D$=rf(),q$="Expected a function";function B$(t,r,e){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(q$);return D$(e)&&(n="leading"in e?!!e.leading:n,i="trailing"in e?!!e.trailing:i),j$(t,r,{leading:n,maxWait:r,trailing:i})}sT.exports=B$});var fs=R((Da,Vc)=>{v();(function(){var t,r="4.17.21",e=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",a=500,c="__lodash_placeholder__",l=1,p=2,h=4,f=1,b=2,g=1,w=2,_=4,S=8,x=16,C=32,I=64,k=128,P=256,D=512,j=30,L="...",B=800,Q=16,ie=1,te=2,be=3,we=1/0,ke=9007199254740991,oe=17976931348623157e292,Ge=NaN,yt=4294967295,Hn=yt-1,Gn=yt>>>1,Pt=[["ary",k],["bind",g],["bindKey",w],["curry",S],["curryRight",x],["flip",D],["partial",C],["partialRight",I],["rearg",P]],Gt="[object Arguments]",Zn="[object Array]",rs="[object AsyncFunction]",Jn="[object Boolean]",Qr="[object Date]",Zt="[object DOMException]",br="[object Error]",nr="[object Function]",en="[object GeneratorFunction]",cr="[object Map]",tn="[object Number]",ga="[object Null]",Pr="[object Object]",V="[object Promise]",X="[object Proxy]",pe="[object RegExp]",ye="[object Set]",ae="[object String]",ot="[object Symbol]",Yn="[object Undefined]",Tr="[object WeakMap]",vi="[object WeakSet]",Kn="[object ArrayBuffer]",_n="[object DataView]",Gi="[object Float32Array]",wn="[object Float64Array]",En="[object Int8Array]",wt="[object Int16Array]",Je="[object Int32Array]",Bt="[object Uint8Array]",rn="[object Uint8ClampedArray]",On="[object Uint16Array]",Zi="[object Uint32Array]",Xn=/\b__p \+= '';/g,bi=/\b(__p \+=) '' \+/g,ya=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ji=/&(?:amp|lt|gt|quot|#39);/g,ns=/[&<>"']/g,gc=RegExp(Ji.source),tg=RegExp(ns.source),rg=/<%-([\s\S]+?)%>/g,ng=/<%([\s\S]+?)%>/g,zd=/<%=([\s\S]+?)%>/g,ig=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,og=/^\w*$/,sg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yc=/[\\^$.*+?()[\]{}|]/g,ag=RegExp(yc.source),_c=/^\s+/,ug=/\s/,cg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lg=/\{\n\/\* \[wrapped with (.+)\] \*/,dg=/,? & /,pg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fg=/[()=,{}\[\]\/\s]/,hg=/\\(\\)?/g,mg=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vd=/\w*$/,vg=/^[-+]0x[0-9a-f]+$/i,bg=/^0b[01]+$/i,gg=/^\[object .+?Constructor\]$/,yg=/^0o[0-7]+$/i,_g=/^(?:0|[1-9]\d*)$/,wg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_a=/($^)/,Eg=/['\n\r\u2028\u2029\\]/g,wa="\\ud800-\\udfff",Og="\\u0300-\\u036f",Sg="\\ufe20-\\ufe2f",Pg="\\u20d0-\\u20ff",Hd=Og+Sg+Pg,Gd="\\u2700-\\u27bf",Zd="a-z\\xdf-\\xf6\\xf8-\\xff",Tg="\\xac\\xb1\\xd7\\xf7",xg="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ag="\\u2000-\\u206f",Cg=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jd="A-Z\\xc0-\\xd6\\xd8-\\xde",Yd="\\ufe0e\\ufe0f",Kd=Tg+xg+Ag+Cg,wc="['\u2019]",Mg="["+wa+"]",Xd="["+Kd+"]",Ea="["+Hd+"]",Qd="\\d+",Ig="["+Gd+"]",ep="["+Zd+"]",tp="[^"+wa+Kd+Qd+Gd+Zd+Jd+"]",Ec="\\ud83c[\\udffb-\\udfff]",kg="(?:"+Ea+"|"+Ec+")",rp="[^"+wa+"]",Oc="(?:\\ud83c[\\udde6-\\uddff]){2}",Sc="[\\ud800-\\udbff][\\udc00-\\udfff]",Yi="["+Jd+"]",np="\\u200d",ip="(?:"+ep+"|"+tp+")",Lg="(?:"+Yi+"|"+tp+")",op="(?:"+wc+"(?:d|ll|m|re|s|t|ve))?",sp="(?:"+wc+"(?:D|LL|M|RE|S|T|VE))?",ap=kg+"?",up="["+Yd+"]?",Rg="(?:"+np+"(?:"+[rp,Oc,Sc].join("|")+")"+up+ap+")*",Ng="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cp=up+ap+Rg,jg="(?:"+[Ig,Oc,Sc].join("|")+")"+cp,Dg="(?:"+[rp+Ea+"?",Ea,Oc,Sc,Mg].join("|")+")",qg=RegExp(wc,"g"),Bg=RegExp(Ea,"g"),Pc=RegExp(Ec+"(?="+Ec+")|"+Dg+cp,"g"),Wg=RegExp([Yi+"?"+ep+"+"+op+"(?="+[Xd,Yi,"$"].join("|")+")",Lg+"+"+sp+"(?="+[Xd,Yi+ip,"$"].join("|")+")",Yi+"?"+ip+"+"+op,Yi+"+"+sp,Fg,Ng,Qd,jg].join("|"),"g"),$g=RegExp("["+np+wa+Hd+Yd+"]"),Ug=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vg=-1,vt={};vt[Gi]=vt[wn]=vt[En]=vt[wt]=vt[Je]=vt[Bt]=vt[rn]=vt[On]=vt[Zi]=!0,vt[Gt]=vt[Zn]=vt[Kn]=vt[Jn]=vt[_n]=vt[Qr]=vt[br]=vt[nr]=vt[cr]=vt[tn]=vt[Pr]=vt[pe]=vt[ye]=vt[ae]=vt[Tr]=!1;var ft={};ft[Gt]=ft[Zn]=ft[Kn]=ft[_n]=ft[Jn]=ft[Qr]=ft[Gi]=ft[wn]=ft[En]=ft[wt]=ft[Je]=ft[cr]=ft[tn]=ft[Pr]=ft[pe]=ft[ye]=ft[ae]=ft[ot]=ft[Bt]=ft[rn]=ft[On]=ft[Zi]=!0,ft[br]=ft[nr]=ft[Tr]=!1;var Hg={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Gg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yg=parseFloat,Kg=parseInt,lp=typeof global=="object"&&global&&global.Object===Object&&global,Xg=typeof self=="object"&&self&&self.Object===Object&&self,Wt=lp||Xg||Function("return this")(),Tc=typeof Da=="object"&&Da&&!Da.nodeType&&Da,gi=Tc&&typeof Vc=="object"&&Vc&&!Vc.nodeType&&Vc,dp=gi&&gi.exports===Tc,xc=dp&&lp.process,xr=function(){try{var W=gi&&gi.require&&gi.require("util").types;return W||xc&&xc.binding&&xc.binding("util")}catch{}}(),yi=xr&&xr.isArrayBuffer,_i=xr&&xr.isDate,nn=xr&&xr.isMap,Qn=xr&&xr.isRegExp,fO=xr&&xr.isSet,hO=xr&&xr.isTypedArray;function Br(W,H,U){switch(U.length){case 0:return W.call(H);case 1:return W.call(H,U[0]);case 2:return W.call(H,U[0],U[1]);case 3:return W.call(H,U[0],U[1],U[2])}return W.apply(H,U)}function $N(W,H,U,de){for(var Le=-1,st=W==null?0:W.length;++Le<st;){var Ut=W[Le];H(de,Ut,U(Ut),W)}return de}function on(W,H){for(var U=-1,de=W==null?0:W.length;++U<de&&H(W[U],U,W)!==!1;);return W}function UN(W,H){for(var U=W==null?0:W.length;U--&&H(W[U],U,W)!==!1;);return W}function mO(W,H){for(var U=-1,de=W==null?0:W.length;++U<de;)if(!H(W[U],U,W))return!1;return!0}function Ki(W,H){for(var U=-1,de=W==null?0:W.length,Le=0,st=[];++U<de;){var Ut=W[U];H(Ut,U,W)&&(st[Le++]=Ut)}return st}function pp(W,H){var U=W==null?0:W.length;return!!U&&Oa(W,H,0)>-1}function Qg(W,H,U){for(var de=-1,Le=W==null?0:W.length;++de<Le;)if(U(H,W[de]))return!0;return!1}function Et(W,H){for(var U=-1,de=W==null?0:W.length,Le=Array(de);++U<de;)Le[U]=H(W[U],U,W);return Le}function Xi(W,H){for(var U=-1,de=H.length,Le=W.length;++U<de;)W[Le+U]=H[U];return W}function ey(W,H,U,de){var Le=-1,st=W==null?0:W.length;for(de&&st&&(U=W[++Le]);++Le<st;)U=H(U,W[Le],Le,W);return U}function zN(W,H,U,de){var Le=W==null?0:W.length;for(de&&Le&&(U=W[--Le]);Le--;)U=H(U,W[Le],Le,W);return U}function ty(W,H){for(var U=-1,de=W==null?0:W.length;++U<de;)if(H(W[U],U,W))return!0;return!1}var VN=ry("length");function HN(W){return W.split("")}function GN(W){return W.match(pg)||[]}function vO(W,H,U){var de;return U(W,function(Le,st,Ut){if(H(Le,st,Ut))return de=st,!1}),de}function fp(W,H,U,de){for(var Le=W.length,st=U+(de?1:-1);de?st--:++st<Le;)if(H(W[st],st,W))return st;return-1}function Oa(W,H,U){return H===H?oF(W,H,U):fp(W,bO,U)}function ZN(W,H,U,de){for(var Le=U-1,st=W.length;++Le<st;)if(de(W[Le],H))return Le;return-1}function bO(W){return W!==W}function gO(W,H){var U=W==null?0:W.length;return U?iy(W,H)/U:Ge}function ry(W){return function(H){return H==null?t:H[W]}}function ny(W){return function(H){return W==null?t:W[H]}}function yO(W,H,U,de,Le){return Le(W,function(st,Ut,bt){U=de?(de=!1,st):H(U,st,Ut,bt)}),U}function JN(W,H){var U=W.length;for(W.sort(H);U--;)W[U]=W[U].value;return W}function iy(W,H){for(var U,de=-1,Le=W.length;++de<Le;){var st=H(W[de]);st!==t&&(U=U===t?st:U+st)}return U}function oy(W,H){for(var U=-1,de=Array(W);++U<W;)de[U]=H(U);return de}function YN(W,H){return Et(H,function(U){return[U,W[U]]})}function _O(W){return W&&W.slice(0,SO(W)+1).replace(_c,"")}function Wr(W){return function(H){return W(H)}}function sy(W,H){return Et(H,function(U){return W[U]})}function Ac(W,H){return W.has(H)}function wO(W,H){for(var U=-1,de=W.length;++U<de&&Oa(H,W[U],0)>-1;);return U}function EO(W,H){for(var U=W.length;U--&&Oa(H,W[U],0)>-1;);return U}function KN(W,H){for(var U=W.length,de=0;U--;)W[U]===H&&++de;return de}var XN=ny(Hg),QN=ny(Gg);function eF(W){return"\\"+Jg[W]}function tF(W,H){return W==null?t:W[H]}function Sa(W){return $g.test(W)}function rF(W){return Ug.test(W)}function nF(W){for(var H,U=[];!(H=W.next()).done;)U.push(H.value);return U}function ay(W){var H=-1,U=Array(W.size);return W.forEach(function(de,Le){U[++H]=[Le,de]}),U}function OO(W,H){return function(U){return W(H(U))}}function Qi(W,H){for(var U=-1,de=W.length,Le=0,st=[];++U<de;){var Ut=W[U];(Ut===H||Ut===c)&&(W[U]=c,st[Le++]=U)}return st}function hp(W){var H=-1,U=Array(W.size);return W.forEach(function(de){U[++H]=de}),U}function iF(W){var H=-1,U=Array(W.size);return W.forEach(function(de){U[++H]=[de,de]}),U}function oF(W,H,U){for(var de=U-1,Le=W.length;++de<Le;)if(W[de]===H)return de;return-1}function sF(W,H,U){for(var de=U+1;de--;)if(W[de]===H)return de;return de}function Pa(W){return Sa(W)?uF(W):VN(W)}function Sn(W){return Sa(W)?cF(W):HN(W)}function SO(W){for(var H=W.length;H--&&ug.test(W.charAt(H)););return H}var aF=ny(Zg);function uF(W){for(var H=Pc.lastIndex=0;Pc.test(W);)++H;return H}function cF(W){return W.match(Pc)||[]}function lF(W){return W.match(Wg)||[]}var dF=function W(H){H=H==null?Wt:eo.defaults(Wt.Object(),H,eo.pick(Wt,zg));var U=H.Array,de=H.Date,Le=H.Error,st=H.Function,Ut=H.Math,bt=H.Object,uy=H.RegExp,pF=H.String,sn=H.TypeError,mp=U.prototype,fF=st.prototype,Ta=bt.prototype,vp=H["__core-js_shared__"],bp=fF.toString,ct=Ta.hasOwnProperty,hF=0,PO=function(){var u=/[^.]+$/.exec(vp&&vp.keys&&vp.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),gp=Ta.toString,mF=bp.call(bt),vF=Wt._,bF=uy("^"+bp.call(ct).replace(yc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yp=dp?H.Buffer:t,to=H.Symbol,_p=H.Uint8Array,TO=yp?yp.allocUnsafe:t,wp=OO(bt.getPrototypeOf,bt),xO=bt.create,AO=Ta.propertyIsEnumerable,Ep=mp.splice,CO=to?to.isConcatSpreadable:t,Cc=to?to.iterator:t,is=to?to.toStringTag:t,Op=function(){try{var u=cs(bt,"defineProperty");return u({},"",{}),u}catch{}}(),gF=H.clearTimeout!==Wt.clearTimeout&&H.clearTimeout,yF=de&&de.now!==Wt.Date.now&&de.now,_F=H.setTimeout!==Wt.setTimeout&&H.setTimeout,Sp=Ut.ceil,Pp=Ut.floor,cy=bt.getOwnPropertySymbols,wF=yp?yp.isBuffer:t,MO=H.isFinite,EF=mp.join,OF=OO(bt.keys,bt),zt=Ut.max,lr=Ut.min,SF=de.now,PF=H.parseInt,IO=Ut.random,TF=mp.reverse,ly=cs(H,"DataView"),Mc=cs(H,"Map"),dy=cs(H,"Promise"),xa=cs(H,"Set"),Ic=cs(H,"WeakMap"),kc=cs(bt,"create"),Tp=Ic&&new Ic,Aa={},xF=ls(ly),AF=ls(Mc),CF=ls(dy),MF=ls(xa),IF=ls(Ic),xp=to?to.prototype:t,Lc=xp?xp.valueOf:t,kO=xp?xp.toString:t;function A(u){if(Mt(u)&&!Ne(u)&&!(u instanceof Ye)){if(u instanceof an)return u;if(ct.call(u,"__wrapped__"))return LS(u)}return new an(u)}var Ca=function(){function u(){}return function(d){if(!Tt(d))return{};if(xO)return xO(d);u.prototype=d;var m=new u;return u.prototype=t,m}}();function Ap(){}function an(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}A.templateSettings={escape:rg,evaluate:ng,interpolate:zd,variable:"",imports:{_:A}},A.prototype=Ap.prototype,A.prototype.constructor=A,an.prototype=Ca(Ap.prototype),an.prototype.constructor=an;function Ye(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=yt,this.__views__=[]}function kF(){var u=new Ye(this.__wrapped__);return u.__actions__=Ar(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Ar(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Ar(this.__views__),u}function LF(){if(this.__filtered__){var u=new Ye(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function RF(){var u=this.__wrapped__.value(),d=this.__dir__,m=Ne(u),y=d<0,O=m?u.length:0,M=Hj(0,O,this.__views__),F=M.start,q=M.end,$=q-F,Z=y?q:F-1,J=this.__iteratees__,Y=J.length,re=0,fe=lr($,this.__takeCount__);if(!m||!y&&O==$&&fe==$)return rS(u,this.__actions__);var Pe=[];e:for(;$--&&re<fe;){Z+=d;for(var Ue=-1,Te=u[Z];++Ue<Y;){var Ze=J[Ue],Ke=Ze.iteratee,zr=Ze.type,_r=Ke(Te);if(zr==te)Te=_r;else if(!_r){if(zr==ie)continue e;break e}}Pe[re++]=Te}return Pe}Ye.prototype=Ca(Ap.prototype),Ye.prototype.constructor=Ye;function os(u){var d=-1,m=u==null?0:u.length;for(this.clear();++d<m;){var y=u[d];this.set(y[0],y[1])}}function NF(){this.__data__=kc?kc(null):{},this.size=0}function FF(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function jF(u){var d=this.__data__;if(kc){var m=d[u];return m===s?t:m}return ct.call(d,u)?d[u]:t}function DF(u){var d=this.__data__;return kc?d[u]!==t:ct.call(d,u)}function qF(u,d){var m=this.__data__;return this.size+=this.has(u)?0:1,m[u]=kc&&d===t?s:d,this}os.prototype.clear=NF,os.prototype.delete=FF,os.prototype.get=jF,os.prototype.has=DF,os.prototype.set=qF;function wi(u){var d=-1,m=u==null?0:u.length;for(this.clear();++d<m;){var y=u[d];this.set(y[0],y[1])}}function BF(){this.__data__=[],this.size=0}function WF(u){var d=this.__data__,m=Cp(d,u);if(m<0)return!1;var y=d.length-1;return m==y?d.pop():Ep.call(d,m,1),--this.size,!0}function $F(u){var d=this.__data__,m=Cp(d,u);return m<0?t:d[m][1]}function UF(u){return Cp(this.__data__,u)>-1}function zF(u,d){var m=this.__data__,y=Cp(m,u);return y<0?(++this.size,m.push([u,d])):m[y][1]=d,this}wi.prototype.clear=BF,wi.prototype.delete=WF,wi.prototype.get=$F,wi.prototype.has=UF,wi.prototype.set=zF;function Ei(u){var d=-1,m=u==null?0:u.length;for(this.clear();++d<m;){var y=u[d];this.set(y[0],y[1])}}function VF(){this.size=0,this.__data__={hash:new os,map:new(Mc||wi),string:new os}}function HF(u){var d=Wp(this,u).delete(u);return this.size-=d?1:0,d}function GF(u){return Wp(this,u).get(u)}function ZF(u){return Wp(this,u).has(u)}function JF(u,d){var m=Wp(this,u),y=m.size;return m.set(u,d),this.size+=m.size==y?0:1,this}Ei.prototype.clear=VF,Ei.prototype.delete=HF,Ei.prototype.get=GF,Ei.prototype.has=ZF,Ei.prototype.set=JF;function ss(u){var d=-1,m=u==null?0:u.length;for(this.__data__=new Ei;++d<m;)this.add(u[d])}function YF(u){return this.__data__.set(u,s),this}function KF(u){return this.__data__.has(u)}ss.prototype.add=ss.prototype.push=YF,ss.prototype.has=KF;function Pn(u){var d=this.__data__=new wi(u);this.size=d.size}function XF(){this.__data__=new wi,this.size=0}function QF(u){var d=this.__data__,m=d.delete(u);return this.size=d.size,m}function ej(u){return this.__data__.get(u)}function tj(u){return this.__data__.has(u)}function rj(u,d){var m=this.__data__;if(m instanceof wi){var y=m.__data__;if(!Mc||y.length<e-1)return y.push([u,d]),this.size=++m.size,this;m=this.__data__=new Ei(y)}return m.set(u,d),this.size=m.size,this}Pn.prototype.clear=XF,Pn.prototype.delete=QF,Pn.prototype.get=ej,Pn.prototype.has=tj,Pn.prototype.set=rj;function LO(u,d){var m=Ne(u),y=!m&&ds(u),O=!m&&!y&&so(u),M=!m&&!y&&!O&&La(u),F=m||y||O||M,q=F?oy(u.length,pF):[],$=q.length;for(var Z in u)(d||ct.call(u,Z))&&!(F&&(Z=="length"||O&&(Z=="offset"||Z=="parent")||M&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||Ti(Z,$)))&&q.push(Z);return q}function RO(u){var d=u.length;return d?u[Ey(0,d-1)]:t}function nj(u,d){return $p(Ar(u),as(d,0,u.length))}function ij(u){return $p(Ar(u))}function py(u,d,m){(m!==t&&!Tn(u[d],m)||m===t&&!(d in u))&&Oi(u,d,m)}function Rc(u,d,m){var y=u[d];(!(ct.call(u,d)&&Tn(y,m))||m===t&&!(d in u))&&Oi(u,d,m)}function Cp(u,d){for(var m=u.length;m--;)if(Tn(u[m][0],d))return m;return-1}function oj(u,d,m,y){return ro(u,function(O,M,F){d(y,O,m(O),F)}),y}function NO(u,d){return u&&ti(d,Jt(d),u)}function sj(u,d){return u&&ti(d,Mr(d),u)}function Oi(u,d,m){d=="__proto__"&&Op?Op(u,d,{configurable:!0,enumerable:!0,value:m,writable:!0}):u[d]=m}function fy(u,d){for(var m=-1,y=d.length,O=U(y),M=u==null;++m<y;)O[m]=M?t:Gy(u,d[m]);return O}function as(u,d,m){return u===u&&(m!==t&&(u=u<=m?u:m),d!==t&&(u=u>=d?u:d)),u}function un(u,d,m,y,O,M){var F,q=d&l,$=d&p,Z=d&h;if(m&&(F=O?m(u,y,O,M):m(u)),F!==t)return F;if(!Tt(u))return u;var J=Ne(u);if(J){if(F=Zj(u),!q)return Ar(u,F)}else{var Y=dr(u),re=Y==nr||Y==en;if(so(u))return oS(u,q);if(Y==Pr||Y==Gt||re&&!O){if(F=$||re?{}:SS(u),!q)return $?jj(u,sj(F,u)):Fj(u,NO(F,u))}else{if(!ft[Y])return O?u:{};F=Jj(u,Y,q)}}M||(M=new Pn);var fe=M.get(u);if(fe)return fe;M.set(u,F),QS(u)?u.forEach(function(Te){F.add(un(Te,d,m,Te,u,M))}):KS(u)&&u.forEach(function(Te,Ze){F.set(Ze,un(Te,d,m,Ze,u,M))});var Pe=Z?$?Ly:ky:$?Mr:Jt,Ue=J?t:Pe(u);return on(Ue||u,function(Te,Ze){Ue&&(Ze=Te,Te=u[Ze]),Rc(F,Ze,un(Te,d,m,Ze,u,M))}),F}function aj(u){var d=Jt(u);return function(m){return FO(m,u,d)}}function FO(u,d,m){var y=m.length;if(u==null)return!y;for(u=bt(u);y--;){var O=m[y],M=d[O],F=u[O];if(F===t&&!(O in u)||!M(F))return!1}return!0}function jO(u,d,m){if(typeof u!="function")throw new sn(i);return Wc(function(){u.apply(t,m)},d)}function Nc(u,d,m,y){var O=-1,M=pp,F=!0,q=u.length,$=[],Z=d.length;if(!q)return $;m&&(d=Et(d,Wr(m))),y?(M=Qg,F=!1):d.length>=e&&(M=Ac,F=!1,d=new ss(d));e:for(;++O<q;){var J=u[O],Y=m==null?J:m(J);if(J=y||J!==0?J:0,F&&Y===Y){for(var re=Z;re--;)if(d[re]===Y)continue e;$.push(J)}else M(d,Y,y)||$.push(J)}return $}var ro=lS(ei),DO=lS(my,!0);function uj(u,d){var m=!0;return ro(u,function(y,O,M){return m=!!d(y,O,M),m}),m}function Mp(u,d,m){for(var y=-1,O=u.length;++y<O;){var M=u[y],F=d(M);if(F!=null&&(q===t?F===F&&!Ur(F):m(F,q)))var q=F,$=M}return $}function cj(u,d,m,y){var O=u.length;for(m=Be(m),m<0&&(m=-m>O?0:O+m),y=y===t||y>O?O:Be(y),y<0&&(y+=O),y=m>y?0:tP(y);m<y;)u[m++]=d;return u}function qO(u,d){var m=[];return ro(u,function(y,O,M){d(y,O,M)&&m.push(y)}),m}function ir(u,d,m,y,O){var M=-1,F=u.length;for(m||(m=Kj),O||(O=[]);++M<F;){var q=u[M];d>0&&m(q)?d>1?ir(q,d-1,m,y,O):Xi(O,q):y||(O[O.length]=q)}return O}var hy=dS(),BO=dS(!0);function ei(u,d){return u&&hy(u,d,Jt)}function my(u,d){return u&&BO(u,d,Jt)}function Ip(u,d){return Ki(d,function(m){return xi(u[m])})}function us(u,d){d=io(d,u);for(var m=0,y=d.length;u!=null&&m<y;)u=u[ri(d[m++])];return m&&m==y?u:t}function WO(u,d,m){var y=d(u);return Ne(u)?y:Xi(y,m(u))}function gr(u){return u==null?u===t?Yn:ga:is&&is in bt(u)?Vj(u):iD(u)}function vy(u,d){return u>d}function lj(u,d){return u!=null&&ct.call(u,d)}function dj(u,d){return u!=null&&d in bt(u)}function pj(u,d,m){return u>=lr(d,m)&&u<zt(d,m)}function by(u,d,m){for(var y=m?Qg:pp,O=u[0].length,M=u.length,F=M,q=U(M),$=1/0,Z=[];F--;){var J=u[F];F&&d&&(J=Et(J,Wr(d))),$=lr(J.length,$),q[F]=!m&&(d||O>=120&&J.length>=120)?new ss(F&&J):t}J=u[0];var Y=-1,re=q[0];e:for(;++Y<O&&Z.length<$;){var fe=J[Y],Pe=d?d(fe):fe;if(fe=m||fe!==0?fe:0,!(re?Ac(re,Pe):y(Z,Pe,m))){for(F=M;--F;){var Ue=q[F];if(!(Ue?Ac(Ue,Pe):y(u[F],Pe,m)))continue e}re&&re.push(Pe),Z.push(fe)}}return Z}function fj(u,d,m,y){return ei(u,function(O,M,F){d(y,m(O),M,F)}),y}function Fc(u,d,m){d=io(d,u),u=AS(u,d);var y=u==null?u:u[ri(ln(d))];return y==null?t:Br(y,u,m)}function $O(u){return Mt(u)&&gr(u)==Gt}function hj(u){return Mt(u)&&gr(u)==Kn}function mj(u){return Mt(u)&&gr(u)==Qr}function jc(u,d,m,y,O){return u===d?!0:u==null||d==null||!Mt(u)&&!Mt(d)?u!==u&&d!==d:vj(u,d,m,y,jc,O)}function vj(u,d,m,y,O,M){var F=Ne(u),q=Ne(d),$=F?Zn:dr(u),Z=q?Zn:dr(d);$=$==Gt?Pr:$,Z=Z==Gt?Pr:Z;var J=$==Pr,Y=Z==Pr,re=$==Z;if(re&&so(u)){if(!so(d))return!1;F=!0,J=!1}if(re&&!J)return M||(M=new Pn),F||La(u)?wS(u,d,m,y,O,M):Uj(u,d,$,m,y,O,M);if(!(m&f)){var fe=J&&ct.call(u,"__wrapped__"),Pe=Y&&ct.call(d,"__wrapped__");if(fe||Pe){var Ue=fe?u.value():u,Te=Pe?d.value():d;return M||(M=new Pn),O(Ue,Te,m,y,M)}}return re?(M||(M=new Pn),zj(u,d,m,y,O,M)):!1}function bj(u){return Mt(u)&&dr(u)==cr}function gy(u,d,m,y){var O=m.length,M=O,F=!y;if(u==null)return!M;for(u=bt(u);O--;){var q=m[O];if(F&&q[2]?q[1]!==u[q[0]]:!(q[0]in u))return!1}for(;++O<M;){q=m[O];var $=q[0],Z=u[$],J=q[1];if(F&&q[2]){if(Z===t&&!($ in u))return!1}else{var Y=new Pn;if(y)var re=y(Z,J,$,u,d,Y);if(!(re===t?jc(J,Z,f|b,y,Y):re))return!1}}return!0}function UO(u){if(!Tt(u)||Qj(u))return!1;var d=xi(u)?bF:gg;return d.test(ls(u))}function gj(u){return Mt(u)&&gr(u)==pe}function yj(u){return Mt(u)&&dr(u)==ye}function _j(u){return Mt(u)&&Zp(u.length)&&!!vt[gr(u)]}function zO(u){return typeof u=="function"?u:u==null?Ir:typeof u=="object"?Ne(u)?GO(u[0],u[1]):HO(u):pP(u)}function yy(u){if(!Bc(u))return OF(u);var d=[];for(var m in bt(u))ct.call(u,m)&&m!="constructor"&&d.push(m);return d}function wj(u){if(!Tt(u))return nD(u);var d=Bc(u),m=[];for(var y in u)y=="constructor"&&(d||!ct.call(u,y))||m.push(y);return m}function _y(u,d){return u<d}function VO(u,d){var m=-1,y=Cr(u)?U(u.length):[];return ro(u,function(O,M,F){y[++m]=d(O,M,F)}),y}function HO(u){var d=Ny(u);return d.length==1&&d[0][2]?TS(d[0][0],d[0][1]):function(m){return m===u||gy(m,u,d)}}function GO(u,d){return jy(u)&&PS(d)?TS(ri(u),d):function(m){var y=Gy(m,u);return y===t&&y===d?Zy(m,u):jc(d,y,f|b)}}function kp(u,d,m,y,O){u!==d&&hy(d,function(M,F){if(O||(O=new Pn),Tt(M))Ej(u,d,F,m,kp,y,O);else{var q=y?y(qy(u,F),M,F+"",u,d,O):t;q===t&&(q=M),py(u,F,q)}},Mr)}function Ej(u,d,m,y,O,M,F){var q=qy(u,m),$=qy(d,m),Z=F.get($);if(Z){py(u,m,Z);return}var J=M?M(q,$,m+"",u,d,F):t,Y=J===t;if(Y){var re=Ne($),fe=!re&&so($),Pe=!re&&!fe&&La($);J=$,re||fe||Pe?Ne(q)?J=q:Ft(q)?J=Ar(q):fe?(Y=!1,J=oS($,!0)):Pe?(Y=!1,J=sS($,!0)):J=[]:$c($)||ds($)?(J=q,ds(q)?J=rP(q):(!Tt(q)||xi(q))&&(J=SS($))):Y=!1}Y&&(F.set($,J),O(J,$,y,M,F),F.delete($)),py(u,m,J)}function ZO(u,d){var m=u.length;if(m)return d+=d<0?m:0,Ti(d,m)?u[d]:t}function JO(u,d,m){d.length?d=Et(d,function(M){return Ne(M)?function(F){return us(F,M.length===1?M[0]:M)}:M}):d=[Ir];var y=-1;d=Et(d,Wr(Se()));var O=VO(u,function(M,F,q){var $=Et(d,function(Z){return Z(M)});return{criteria:$,index:++y,value:M}});return JN(O,function(M,F){return Nj(M,F,m)})}function Oj(u,d){return YO(u,d,function(m,y){return Zy(u,y)})}function YO(u,d,m){for(var y=-1,O=d.length,M={};++y<O;){var F=d[y],q=us(u,F);m(q,F)&&Dc(M,io(F,u),q)}return M}function Sj(u){return function(d){return us(d,u)}}function wy(u,d,m,y){var O=y?ZN:Oa,M=-1,F=d.length,q=u;for(u===d&&(d=Ar(d)),m&&(q=Et(u,Wr(m)));++M<F;)for(var $=0,Z=d[M],J=m?m(Z):Z;($=O(q,J,$,y))>-1;)q!==u&&Ep.call(q,$,1),Ep.call(u,$,1);return u}function KO(u,d){for(var m=u?d.length:0,y=m-1;m--;){var O=d[m];if(m==y||O!==M){var M=O;Ti(O)?Ep.call(u,O,1):Py(u,O)}}return u}function Ey(u,d){return u+Pp(IO()*(d-u+1))}function Pj(u,d,m,y){for(var O=-1,M=zt(Sp((d-u)/(m||1)),0),F=U(M);M--;)F[y?M:++O]=u,u+=m;return F}function Oy(u,d){var m="";if(!u||d<1||d>ke)return m;do d%2&&(m+=u),d=Pp(d/2),d&&(u+=u);while(d);return m}function Ve(u,d){return By(xS(u,d,Ir),u+"")}function Tj(u){return RO(Ra(u))}function xj(u,d){var m=Ra(u);return $p(m,as(d,0,m.length))}function Dc(u,d,m,y){if(!Tt(u))return u;d=io(d,u);for(var O=-1,M=d.length,F=M-1,q=u;q!=null&&++O<M;){var $=ri(d[O]),Z=m;if($==="__proto__"||$==="constructor"||$==="prototype")return u;if(O!=F){var J=q[$];Z=y?y(J,$,q):t,Z===t&&(Z=Tt(J)?J:Ti(d[O+1])?[]:{})}Rc(q,$,Z),q=q[$]}return u}var XO=Tp?function(u,d){return Tp.set(u,d),u}:Ir,Aj=Op?function(u,d){return Op(u,"toString",{configurable:!0,enumerable:!1,value:Yy(d),writable:!0})}:Ir;function Cj(u){return $p(Ra(u))}function cn(u,d,m){var y=-1,O=u.length;d<0&&(d=-d>O?0:O+d),m=m>O?O:m,m<0&&(m+=O),O=d>m?0:m-d>>>0,d>>>=0;for(var M=U(O);++y<O;)M[y]=u[y+d];return M}function Mj(u,d){var m;return ro(u,function(y,O,M){return m=d(y,O,M),!m}),!!m}function Lp(u,d,m){var y=0,O=u==null?y:u.length;if(typeof d=="number"&&d===d&&O<=Gn){for(;y<O;){var M=y+O>>>1,F=u[M];F!==null&&!Ur(F)&&(m?F<=d:F<d)?y=M+1:O=M}return O}return Sy(u,d,Ir,m)}function Sy(u,d,m,y){var O=0,M=u==null?0:u.length;if(M===0)return 0;d=m(d);for(var F=d!==d,q=d===null,$=Ur(d),Z=d===t;O<M;){var J=Pp((O+M)/2),Y=m(u[J]),re=Y!==t,fe=Y===null,Pe=Y===Y,Ue=Ur(Y);if(F)var Te=y||Pe;else Z?Te=Pe&&(y||re):q?Te=Pe&&re&&(y||!fe):$?Te=Pe&&re&&!fe&&(y||!Ue):fe||Ue?Te=!1:Te=y?Y<=d:Y<d;Te?O=J+1:M=J}return lr(M,Hn)}function QO(u,d){for(var m=-1,y=u.length,O=0,M=[];++m<y;){var F=u[m],q=d?d(F):F;if(!m||!Tn(q,$)){var $=q;M[O++]=F===0?0:F}}return M}function eS(u){return typeof u=="number"?u:Ur(u)?Ge:+u}function $r(u){if(typeof u=="string")return u;if(Ne(u))return Et(u,$r)+"";if(Ur(u))return kO?kO.call(u):"";var d=u+"";return d=="0"&&1/u==-we?"-0":d}function no(u,d,m){var y=-1,O=pp,M=u.length,F=!0,q=[],$=q;if(m)F=!1,O=Qg;else if(M>=e){var Z=d?null:Wj(u);if(Z)return hp(Z);F=!1,O=Ac,$=new ss}else $=d?[]:q;e:for(;++y<M;){var J=u[y],Y=d?d(J):J;if(J=m||J!==0?J:0,F&&Y===Y){for(var re=$.length;re--;)if($[re]===Y)continue e;d&&$.push(Y),q.push(J)}else O($,Y,m)||($!==q&&$.push(Y),q.push(J))}return q}function Py(u,d){return d=io(d,u),u=AS(u,d),u==null||delete u[ri(ln(d))]}function tS(u,d,m,y){return Dc(u,d,m(us(u,d)),y)}function Rp(u,d,m,y){for(var O=u.length,M=y?O:-1;(y?M--:++M<O)&&d(u[M],M,u););return m?cn(u,y?0:M,y?M+1:O):cn(u,y?M+1:0,y?O:M)}function rS(u,d){var m=u;return m instanceof Ye&&(m=m.value()),ey(d,function(y,O){return O.func.apply(O.thisArg,Xi([y],O.args))},m)}function Ty(u,d,m){var y=u.length;if(y<2)return y?no(u[0]):[];for(var O=-1,M=U(y);++O<y;)for(var F=u[O],q=-1;++q<y;)q!=O&&(M[O]=Nc(M[O]||F,u[q],d,m));return no(ir(M,1),d,m)}function nS(u,d,m){for(var y=-1,O=u.length,M=d.length,F={};++y<O;){var q=y<M?d[y]:t;m(F,u[y],q)}return F}function xy(u){return Ft(u)?u:[]}function Ay(u){return typeof u=="function"?u:Ir}function io(u,d){return Ne(u)?u:jy(u,d)?[u]:kS(ut(u))}var Ij=Ve;function oo(u,d,m){var y=u.length;return m=m===t?y:m,!d&&m>=y?u:cn(u,d,m)}var iS=gF||function(u){return Wt.clearTimeout(u)};function oS(u,d){if(d)return u.slice();var m=u.length,y=TO?TO(m):new u.constructor(m);return u.copy(y),y}function Cy(u){var d=new u.constructor(u.byteLength);return new _p(d).set(new _p(u)),d}function kj(u,d){var m=d?Cy(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.byteLength)}function Lj(u){var d=new u.constructor(u.source,Vd.exec(u));return d.lastIndex=u.lastIndex,d}function Rj(u){return Lc?bt(Lc.call(u)):{}}function sS(u,d){var m=d?Cy(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}function aS(u,d){if(u!==d){var m=u!==t,y=u===null,O=u===u,M=Ur(u),F=d!==t,q=d===null,$=d===d,Z=Ur(d);if(!q&&!Z&&!M&&u>d||M&&F&&$&&!q&&!Z||y&&F&&$||!m&&$||!O)return 1;if(!y&&!M&&!Z&&u<d||Z&&m&&O&&!y&&!M||q&&m&&O||!F&&O||!$)return-1}return 0}function Nj(u,d,m){for(var y=-1,O=u.criteria,M=d.criteria,F=O.length,q=m.length;++y<F;){var $=aS(O[y],M[y]);if($){if(y>=q)return $;var Z=m[y];return $*(Z=="desc"?-1:1)}}return u.index-d.index}function uS(u,d,m,y){for(var O=-1,M=u.length,F=m.length,q=-1,$=d.length,Z=zt(M-F,0),J=U($+Z),Y=!y;++q<$;)J[q]=d[q];for(;++O<F;)(Y||O<M)&&(J[m[O]]=u[O]);for(;Z--;)J[q++]=u[O++];return J}function cS(u,d,m,y){for(var O=-1,M=u.length,F=-1,q=m.length,$=-1,Z=d.length,J=zt(M-q,0),Y=U(J+Z),re=!y;++O<J;)Y[O]=u[O];for(var fe=O;++$<Z;)Y[fe+$]=d[$];for(;++F<q;)(re||O<M)&&(Y[fe+m[F]]=u[O++]);return Y}function Ar(u,d){var m=-1,y=u.length;for(d||(d=U(y));++m<y;)d[m]=u[m];return d}function ti(u,d,m,y){var O=!m;m||(m={});for(var M=-1,F=d.length;++M<F;){var q=d[M],$=y?y(m[q],u[q],q,m,u):t;$===t&&($=u[q]),O?Oi(m,q,$):Rc(m,q,$)}return m}function Fj(u,d){return ti(u,Fy(u),d)}function jj(u,d){return ti(u,ES(u),d)}function Np(u,d){return function(m,y){var O=Ne(m)?$N:oj,M=d?d():{};return O(m,u,Se(y,2),M)}}function Ma(u){return Ve(function(d,m){var y=-1,O=m.length,M=O>1?m[O-1]:t,F=O>2?m[2]:t;for(M=u.length>3&&typeof M=="function"?(O--,M):t,F&&yr(m[0],m[1],F)&&(M=O<3?t:M,O=1),d=bt(d);++y<O;){var q=m[y];q&&u(d,q,y,M)}return d})}function lS(u,d){return function(m,y){if(m==null)return m;if(!Cr(m))return u(m,y);for(var O=m.length,M=d?O:-1,F=bt(m);(d?M--:++M<O)&&y(F[M],M,F)!==!1;);return m}}function dS(u){return function(d,m,y){for(var O=-1,M=bt(d),F=y(d),q=F.length;q--;){var $=F[u?q:++O];if(m(M[$],$,M)===!1)break}return d}}function Dj(u,d,m){var y=d&g,O=qc(u);function M(){var F=this&&this!==Wt&&this instanceof M?O:u;return F.apply(y?m:this,arguments)}return M}function pS(u){return function(d){d=ut(d);var m=Sa(d)?Sn(d):t,y=m?m[0]:d.charAt(0),O=m?oo(m,1).join(""):d.slice(1);return y[u]()+O}}function Ia(u){return function(d){return ey(lP(cP(d).replace(qg,"")),u,"")}}function qc(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var m=Ca(u.prototype),y=u.apply(m,d);return Tt(y)?y:m}}function qj(u,d,m){var y=qc(u);function O(){for(var M=arguments.length,F=U(M),q=M,$=ka(O);q--;)F[q]=arguments[q];var Z=M<3&&F[0]!==$&&F[M-1]!==$?[]:Qi(F,$);if(M-=Z.length,M<m)return bS(u,d,Fp,O.placeholder,t,F,Z,t,t,m-M);var J=this&&this!==Wt&&this instanceof O?y:u;return Br(J,this,F)}return O}function fS(u){return function(d,m,y){var O=bt(d);if(!Cr(d)){var M=Se(m,3);d=Jt(d),m=function(q){return M(O[q],q,O)}}var F=u(d,m,y);return F>-1?O[M?d[F]:F]:t}}function hS(u){return Pi(function(d){var m=d.length,y=m,O=an.prototype.thru;for(u&&d.reverse();y--;){var M=d[y];if(typeof M!="function")throw new sn(i);if(O&&!F&&Bp(M)=="wrapper")var F=new an([],!0)}for(y=F?y:m;++y<m;){M=d[y];var q=Bp(M),$=q=="wrapper"?Ry(M):t;$&&Dy($[0])&&$[1]==(k|S|C|P)&&!$[4].length&&$[9]==1?F=F[Bp($[0])].apply(F,$[3]):F=M.length==1&&Dy(M)?F[q]():F.thru(M)}return function(){var Z=arguments,J=Z[0];if(F&&Z.length==1&&Ne(J))return F.plant(J).value();for(var Y=0,re=m?d[Y].apply(this,Z):J;++Y<m;)re=d[Y].call(this,re);return re}})}function Fp(u,d,m,y,O,M,F,q,$,Z){var J=d&k,Y=d&g,re=d&w,fe=d&(S|x),Pe=d&D,Ue=re?t:qc(u);function Te(){for(var Ze=arguments.length,Ke=U(Ze),zr=Ze;zr--;)Ke[zr]=arguments[zr];if(fe)var _r=ka(Te),Vr=KN(Ke,_r);if(y&&(Ke=uS(Ke,y,O,fe)),M&&(Ke=cS(Ke,M,F,fe)),Ze-=Vr,fe&&Ze<Z){var jt=Qi(Ke,_r);return bS(u,d,Fp,Te.placeholder,m,Ke,jt,q,$,Z-Ze)}var xn=Y?m:this,Ci=re?xn[u]:u;return Ze=Ke.length,q?Ke=oD(Ke,q):Pe&&Ze>1&&Ke.reverse(),J&&$<Ze&&(Ke.length=$),this&&this!==Wt&&this instanceof Te&&(Ci=Ue||qc(Ci)),Ci.apply(xn,Ke)}return Te}function mS(u,d){return function(m,y){return fj(m,u,d(y),{})}}function jp(u,d){return function(m,y){var O;if(m===t&&y===t)return d;if(m!==t&&(O=m),y!==t){if(O===t)return y;typeof m=="string"||typeof y=="string"?(m=$r(m),y=$r(y)):(m=eS(m),y=eS(y)),O=u(m,y)}return O}}function My(u){return Pi(function(d){return d=Et(d,Wr(Se())),Ve(function(m){var y=this;return u(d,function(O){return Br(O,y,m)})})})}function Dp(u,d){d=d===t?" ":$r(d);var m=d.length;if(m<2)return m?Oy(d,u):d;var y=Oy(d,Sp(u/Pa(d)));return Sa(d)?oo(Sn(y),0,u).join(""):y.slice(0,u)}function Bj(u,d,m,y){var O=d&g,M=qc(u);function F(){for(var q=-1,$=arguments.length,Z=-1,J=y.length,Y=U(J+$),re=this&&this!==Wt&&this instanceof F?M:u;++Z<J;)Y[Z]=y[Z];for(;$--;)Y[Z++]=arguments[++q];return Br(re,O?m:this,Y)}return F}function vS(u){return function(d,m,y){return y&&typeof y!="number"&&yr(d,m,y)&&(m=y=t),d=Ai(d),m===t?(m=d,d=0):m=Ai(m),y=y===t?d<m?1:-1:Ai(y),Pj(d,m,y,u)}}function qp(u){return function(d,m){return typeof d=="string"&&typeof m=="string"||(d=dn(d),m=dn(m)),u(d,m)}}function bS(u,d,m,y,O,M,F,q,$,Z){var J=d&S,Y=J?F:t,re=J?t:F,fe=J?M:t,Pe=J?t:M;d|=J?C:I,d&=~(J?I:C),d&_||(d&=~(g|w));var Ue=[u,d,O,fe,Y,Pe,re,q,$,Z],Te=m.apply(t,Ue);return Dy(u)&&CS(Te,Ue),Te.placeholder=y,MS(Te,u,d)}function Iy(u){var d=Ut[u];return function(m,y){if(m=dn(m),y=y==null?0:lr(Be(y),292),y&&MO(m)){var O=(ut(m)+"e").split("e"),M=d(O[0]+"e"+(+O[1]+y));return O=(ut(M)+"e").split("e"),+(O[0]+"e"+(+O[1]-y))}return d(m)}}var Wj=xa&&1/hp(new xa([,-0]))[1]==we?function(u){return new xa(u)}:Qy;function gS(u){return function(d){var m=dr(d);return m==cr?ay(d):m==ye?iF(d):YN(d,u(d))}}function Si(u,d,m,y,O,M,F,q){var $=d&w;if(!$&&typeof u!="function")throw new sn(i);var Z=y?y.length:0;if(Z||(d&=~(C|I),y=O=t),F=F===t?F:zt(Be(F),0),q=q===t?q:Be(q),Z-=O?O.length:0,d&I){var J=y,Y=O;y=O=t}var re=$?t:Ry(u),fe=[u,d,m,y,O,J,Y,M,F,q];if(re&&rD(fe,re),u=fe[0],d=fe[1],m=fe[2],y=fe[3],O=fe[4],q=fe[9]=fe[9]===t?$?0:u.length:zt(fe[9]-Z,0),!q&&d&(S|x)&&(d&=~(S|x)),!d||d==g)var Pe=Dj(u,d,m);else d==S||d==x?Pe=qj(u,d,q):(d==C||d==(g|C))&&!O.length?Pe=Bj(u,d,m,y):Pe=Fp.apply(t,fe);var Ue=re?XO:CS;return MS(Ue(Pe,fe),u,d)}function yS(u,d,m,y){return u===t||Tn(u,Ta[m])&&!ct.call(y,m)?d:u}function _S(u,d,m,y,O,M){return Tt(u)&&Tt(d)&&(M.set(d,u),kp(u,d,t,_S,M),M.delete(d)),u}function $j(u){return $c(u)?t:u}function wS(u,d,m,y,O,M){var F=m&f,q=u.length,$=d.length;if(q!=$&&!(F&&$>q))return!1;var Z=M.get(u),J=M.get(d);if(Z&&J)return Z==d&&J==u;var Y=-1,re=!0,fe=m&b?new ss:t;for(M.set(u,d),M.set(d,u);++Y<q;){var Pe=u[Y],Ue=d[Y];if(y)var Te=F?y(Ue,Pe,Y,d,u,M):y(Pe,Ue,Y,u,d,M);if(Te!==t){if(Te)continue;re=!1;break}if(fe){if(!ty(d,function(Ze,Ke){if(!Ac(fe,Ke)&&(Pe===Ze||O(Pe,Ze,m,y,M)))return fe.push(Ke)})){re=!1;break}}else if(!(Pe===Ue||O(Pe,Ue,m,y,M))){re=!1;break}}return M.delete(u),M.delete(d),re}function Uj(u,d,m,y,O,M,F){switch(m){case _n:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case Kn:return!(u.byteLength!=d.byteLength||!M(new _p(u),new _p(d)));case Jn:case Qr:case tn:return Tn(+u,+d);case br:return u.name==d.name&&u.message==d.message;case pe:case ae:return u==d+"";case cr:var q=ay;case ye:var $=y&f;if(q||(q=hp),u.size!=d.size&&!$)return!1;var Z=F.get(u);if(Z)return Z==d;y|=b,F.set(u,d);var J=wS(q(u),q(d),y,O,M,F);return F.delete(u),J;case ot:if(Lc)return Lc.call(u)==Lc.call(d)}return!1}function zj(u,d,m,y,O,M){var F=m&f,q=ky(u),$=q.length,Z=ky(d),J=Z.length;if($!=J&&!F)return!1;for(var Y=$;Y--;){var re=q[Y];if(!(F?re in d:ct.call(d,re)))return!1}var fe=M.get(u),Pe=M.get(d);if(fe&&Pe)return fe==d&&Pe==u;var Ue=!0;M.set(u,d),M.set(d,u);for(var Te=F;++Y<$;){re=q[Y];var Ze=u[re],Ke=d[re];if(y)var zr=F?y(Ke,Ze,re,d,u,M):y(Ze,Ke,re,u,d,M);if(!(zr===t?Ze===Ke||O(Ze,Ke,m,y,M):zr)){Ue=!1;break}Te||(Te=re=="constructor")}if(Ue&&!Te){var _r=u.constructor,Vr=d.constructor;_r!=Vr&&"constructor"in u&&"constructor"in d&&!(typeof _r=="function"&&_r instanceof _r&&typeof Vr=="function"&&Vr instanceof Vr)&&(Ue=!1)}return M.delete(u),M.delete(d),Ue}function Pi(u){return By(xS(u,t,FS),u+"")}function ky(u){return WO(u,Jt,Fy)}function Ly(u){return WO(u,Mr,ES)}var Ry=Tp?function(u){return Tp.get(u)}:Qy;function Bp(u){for(var d=u.name+"",m=Aa[d],y=ct.call(Aa,d)?m.length:0;y--;){var O=m[y],M=O.func;if(M==null||M==u)return O.name}return d}function ka(u){var d=ct.call(A,"placeholder")?A:u;return d.placeholder}function Se(){var u=A.iteratee||Ky;return u=u===Ky?zO:u,arguments.length?u(arguments[0],arguments[1]):u}function Wp(u,d){var m=u.__data__;return Xj(d)?m[typeof d=="string"?"string":"hash"]:m.map}function Ny(u){for(var d=Jt(u),m=d.length;m--;){var y=d[m],O=u[y];d[m]=[y,O,PS(O)]}return d}function cs(u,d){var m=tF(u,d);return UO(m)?m:t}function Vj(u){var d=ct.call(u,is),m=u[is];try{u[is]=t;var y=!0}catch{}var O=gp.call(u);return y&&(d?u[is]=m:delete u[is]),O}var Fy=cy?function(u){return u==null?[]:(u=bt(u),Ki(cy(u),function(d){return AO.call(u,d)}))}:e_,ES=cy?function(u){for(var d=[];u;)Xi(d,Fy(u)),u=wp(u);return d}:e_,dr=gr;(ly&&dr(new ly(new ArrayBuffer(1)))!=_n||Mc&&dr(new Mc)!=cr||dy&&dr(dy.resolve())!=V||xa&&dr(new xa)!=ye||Ic&&dr(new Ic)!=Tr)&&(dr=function(u){var d=gr(u),m=d==Pr?u.constructor:t,y=m?ls(m):"";if(y)switch(y){case xF:return _n;case AF:return cr;case CF:return V;case MF:return ye;case IF:return Tr}return d});function Hj(u,d,m){for(var y=-1,O=m.length;++y<O;){var M=m[y],F=M.size;switch(M.type){case"drop":u+=F;break;case"dropRight":d-=F;break;case"take":d=lr(d,u+F);break;case"takeRight":u=zt(u,d-F);break}}return{start:u,end:d}}function Gj(u){var d=u.match(lg);return d?d[1].split(dg):[]}function OS(u,d,m){d=io(d,u);for(var y=-1,O=d.length,M=!1;++y<O;){var F=ri(d[y]);if(!(M=u!=null&&m(u,F)))break;u=u[F]}return M||++y!=O?M:(O=u==null?0:u.length,!!O&&Zp(O)&&Ti(F,O)&&(Ne(u)||ds(u)))}function Zj(u){var d=u.length,m=new u.constructor(d);return d&&typeof u[0]=="string"&&ct.call(u,"index")&&(m.index=u.index,m.input=u.input),m}function SS(u){return typeof u.constructor=="function"&&!Bc(u)?Ca(wp(u)):{}}function Jj(u,d,m){var y=u.constructor;switch(d){case Kn:return Cy(u);case Jn:case Qr:return new y(+u);case _n:return kj(u,m);case Gi:case wn:case En:case wt:case Je:case Bt:case rn:case On:case Zi:return sS(u,m);case cr:return new y;case tn:case ae:return new y(u);case pe:return Lj(u);case ye:return new y;case ot:return Rj(u)}}function Yj(u,d){var m=d.length;if(!m)return u;var y=m-1;return d[y]=(m>1?"& ":"")+d[y],d=d.join(m>2?", ":" "),u.replace(cg,`{
/* [wrapped with `+d+`] */
`)}function Kj(u){return Ne(u)||ds(u)||!!(CO&&u&&u[CO])}function Ti(u,d){var m=typeof u;return d=d??ke,!!d&&(m=="number"||m!="symbol"&&_g.test(u))&&u>-1&&u%1==0&&u<d}function yr(u,d,m){if(!Tt(m))return!1;var y=typeof d;return(y=="number"?Cr(m)&&Ti(d,m.length):y=="string"&&d in m)?Tn(m[d],u):!1}function jy(u,d){if(Ne(u))return!1;var m=typeof u;return m=="number"||m=="symbol"||m=="boolean"||u==null||Ur(u)?!0:og.test(u)||!ig.test(u)||d!=null&&u in bt(d)}function Xj(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function Dy(u){var d=Bp(u),m=A[d];if(typeof m!="function"||!(d in Ye.prototype))return!1;if(u===m)return!0;var y=Ry(m);return!!y&&u===y[0]}function Qj(u){return!!PO&&PO in u}var eD=vp?xi:t_;function Bc(u){var d=u&&u.constructor,m=typeof d=="function"&&d.prototype||Ta;return u===m}function PS(u){return u===u&&!Tt(u)}function TS(u,d){return function(m){return m==null?!1:m[u]===d&&(d!==t||u in bt(m))}}function tD(u){var d=Hp(u,function(y){return m.size===a&&m.clear(),y}),m=d.cache;return d}function rD(u,d){var m=u[1],y=d[1],O=m|y,M=O<(g|w|k),F=y==k&&m==S||y==k&&m==P&&u[7].length<=d[8]||y==(k|P)&&d[7].length<=d[8]&&m==S;if(!(M||F))return u;y&g&&(u[2]=d[2],O|=m&g?0:_);var q=d[3];if(q){var $=u[3];u[3]=$?uS($,q,d[4]):q,u[4]=$?Qi(u[3],c):d[4]}return q=d[5],q&&($=u[5],u[5]=$?cS($,q,d[6]):q,u[6]=$?Qi(u[5],c):d[6]),q=d[7],q&&(u[7]=q),y&k&&(u[8]=u[8]==null?d[8]:lr(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=O,u}function nD(u){var d=[];if(u!=null)for(var m in bt(u))d.push(m);return d}function iD(u){return gp.call(u)}function xS(u,d,m){return d=zt(d===t?u.length-1:d,0),function(){for(var y=arguments,O=-1,M=zt(y.length-d,0),F=U(M);++O<M;)F[O]=y[d+O];O=-1;for(var q=U(d+1);++O<d;)q[O]=y[O];return q[d]=m(F),Br(u,this,q)}}function AS(u,d){return d.length<2?u:us(u,cn(d,0,-1))}function oD(u,d){for(var m=u.length,y=lr(d.length,m),O=Ar(u);y--;){var M=d[y];u[y]=Ti(M,m)?O[M]:t}return u}function qy(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var CS=IS(XO),Wc=_F||function(u,d){return Wt.setTimeout(u,d)},By=IS(Aj);function MS(u,d,m){var y=d+"";return By(u,Yj(y,sD(Gj(y),m)))}function IS(u){var d=0,m=0;return function(){var y=SF(),O=Q-(y-m);if(m=y,O>0){if(++d>=B)return arguments[0]}else d=0;return u.apply(t,arguments)}}function $p(u,d){var m=-1,y=u.length,O=y-1;for(d=d===t?y:d;++m<d;){var M=Ey(m,O),F=u[M];u[M]=u[m],u[m]=F}return u.length=d,u}var kS=tD(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(sg,function(m,y,O,M){d.push(O?M.replace(hg,"$1"):y||m)}),d});function ri(u){if(typeof u=="string"||Ur(u))return u;var d=u+"";return d=="0"&&1/u==-we?"-0":d}function ls(u){if(u!=null){try{return bp.call(u)}catch{}try{return u+""}catch{}}return""}function sD(u,d){return on(Pt,function(m){var y="_."+m[0];d&m[1]&&!pp(u,y)&&u.push(y)}),u.sort()}function LS(u){if(u instanceof Ye)return u.clone();var d=new an(u.__wrapped__,u.__chain__);return d.__actions__=Ar(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function aD(u,d,m){(m?yr(u,d,m):d===t)?d=1:d=zt(Be(d),0);var y=u==null?0:u.length;if(!y||d<1)return[];for(var O=0,M=0,F=U(Sp(y/d));O<y;)F[M++]=cn(u,O,O+=d);return F}function uD(u){for(var d=-1,m=u==null?0:u.length,y=0,O=[];++d<m;){var M=u[d];M&&(O[y++]=M)}return O}function cD(){var u=arguments.length;if(!u)return[];for(var d=U(u-1),m=arguments[0],y=u;y--;)d[y-1]=arguments[y];return Xi(Ne(m)?Ar(m):[m],ir(d,1))}var lD=Ve(function(u,d){return Ft(u)?Nc(u,ir(d,1,Ft,!0)):[]}),dD=Ve(function(u,d){var m=ln(d);return Ft(m)&&(m=t),Ft(u)?Nc(u,ir(d,1,Ft,!0),Se(m,2)):[]}),pD=Ve(function(u,d){var m=ln(d);return Ft(m)&&(m=t),Ft(u)?Nc(u,ir(d,1,Ft,!0),t,m):[]});function fD(u,d,m){var y=u==null?0:u.length;return y?(d=m||d===t?1:Be(d),cn(u,d<0?0:d,y)):[]}function hD(u,d,m){var y=u==null?0:u.length;return y?(d=m||d===t?1:Be(d),d=y-d,cn(u,0,d<0?0:d)):[]}function mD(u,d){return u&&u.length?Rp(u,Se(d,3),!0,!0):[]}function vD(u,d){return u&&u.length?Rp(u,Se(d,3),!0):[]}function bD(u,d,m,y){var O=u==null?0:u.length;return O?(m&&typeof m!="number"&&yr(u,d,m)&&(m=0,y=O),cj(u,d,m,y)):[]}function RS(u,d,m){var y=u==null?0:u.length;if(!y)return-1;var O=m==null?0:Be(m);return O<0&&(O=zt(y+O,0)),fp(u,Se(d,3),O)}function NS(u,d,m){var y=u==null?0:u.length;if(!y)return-1;var O=y-1;return m!==t&&(O=Be(m),O=m<0?zt(y+O,0):lr(O,y-1)),fp(u,Se(d,3),O,!0)}function FS(u){var d=u==null?0:u.length;return d?ir(u,1):[]}function gD(u){var d=u==null?0:u.length;return d?ir(u,we):[]}function yD(u,d){var m=u==null?0:u.length;return m?(d=d===t?1:Be(d),ir(u,d)):[]}function _D(u){for(var d=-1,m=u==null?0:u.length,y={};++d<m;){var O=u[d];y[O[0]]=O[1]}return y}function jS(u){return u&&u.length?u[0]:t}function wD(u,d,m){var y=u==null?0:u.length;if(!y)return-1;var O=m==null?0:Be(m);return O<0&&(O=zt(y+O,0)),Oa(u,d,O)}function ED(u){var d=u==null?0:u.length;return d?cn(u,0,-1):[]}var OD=Ve(function(u){var d=Et(u,xy);return d.length&&d[0]===u[0]?by(d):[]}),SD=Ve(function(u){var d=ln(u),m=Et(u,xy);return d===ln(m)?d=t:m.pop(),m.length&&m[0]===u[0]?by(m,Se(d,2)):[]}),PD=Ve(function(u){var d=ln(u),m=Et(u,xy);return d=typeof d=="function"?d:t,d&&m.pop(),m.length&&m[0]===u[0]?by(m,t,d):[]});function TD(u,d){return u==null?"":EF.call(u,d)}function ln(u){var d=u==null?0:u.length;return d?u[d-1]:t}function xD(u,d,m){var y=u==null?0:u.length;if(!y)return-1;var O=y;return m!==t&&(O=Be(m),O=O<0?zt(y+O,0):lr(O,y-1)),d===d?sF(u,d,O):fp(u,bO,O,!0)}function AD(u,d){return u&&u.length?ZO(u,Be(d)):t}var CD=Ve(DS);function DS(u,d){return u&&u.length&&d&&d.length?wy(u,d):u}function MD(u,d,m){return u&&u.length&&d&&d.length?wy(u,d,Se(m,2)):u}function ID(u,d,m){return u&&u.length&&d&&d.length?wy(u,d,t,m):u}var kD=Pi(function(u,d){var m=u==null?0:u.length,y=fy(u,d);return KO(u,Et(d,function(O){return Ti(O,m)?+O:O}).sort(aS)),y});function LD(u,d){var m=[];if(!(u&&u.length))return m;var y=-1,O=[],M=u.length;for(d=Se(d,3);++y<M;){var F=u[y];d(F,y,u)&&(m.push(F),O.push(y))}return KO(u,O),m}function Wy(u){return u==null?u:TF.call(u)}function RD(u,d,m){var y=u==null?0:u.length;return y?(m&&typeof m!="number"&&yr(u,d,m)?(d=0,m=y):(d=d==null?0:Be(d),m=m===t?y:Be(m)),cn(u,d,m)):[]}function ND(u,d){return Lp(u,d)}function FD(u,d,m){return Sy(u,d,Se(m,2))}function jD(u,d){var m=u==null?0:u.length;if(m){var y=Lp(u,d);if(y<m&&Tn(u[y],d))return y}return-1}function DD(u,d){return Lp(u,d,!0)}function qD(u,d,m){return Sy(u,d,Se(m,2),!0)}function BD(u,d){var m=u==null?0:u.length;if(m){var y=Lp(u,d,!0)-1;if(Tn(u[y],d))return y}return-1}function WD(u){return u&&u.length?QO(u):[]}function $D(u,d){return u&&u.length?QO(u,Se(d,2)):[]}function UD(u){var d=u==null?0:u.length;return d?cn(u,1,d):[]}function zD(u,d,m){return u&&u.length?(d=m||d===t?1:Be(d),cn(u,0,d<0?0:d)):[]}function VD(u,d,m){var y=u==null?0:u.length;return y?(d=m||d===t?1:Be(d),d=y-d,cn(u,d<0?0:d,y)):[]}function HD(u,d){return u&&u.length?Rp(u,Se(d,3),!1,!0):[]}function GD(u,d){return u&&u.length?Rp(u,Se(d,3)):[]}var ZD=Ve(function(u){return no(ir(u,1,Ft,!0))}),JD=Ve(function(u){var d=ln(u);return Ft(d)&&(d=t),no(ir(u,1,Ft,!0),Se(d,2))}),YD=Ve(function(u){var d=ln(u);return d=typeof d=="function"?d:t,no(ir(u,1,Ft,!0),t,d)});function KD(u){return u&&u.length?no(u):[]}function XD(u,d){return u&&u.length?no(u,Se(d,2)):[]}function QD(u,d){return d=typeof d=="function"?d:t,u&&u.length?no(u,t,d):[]}function $y(u){if(!(u&&u.length))return[];var d=0;return u=Ki(u,function(m){if(Ft(m))return d=zt(m.length,d),!0}),oy(d,function(m){return Et(u,ry(m))})}function qS(u,d){if(!(u&&u.length))return[];var m=$y(u);return d==null?m:Et(m,function(y){return Br(d,t,y)})}var eq=Ve(function(u,d){return Ft(u)?Nc(u,d):[]}),tq=Ve(function(u){return Ty(Ki(u,Ft))}),rq=Ve(function(u){var d=ln(u);return Ft(d)&&(d=t),Ty(Ki(u,Ft),Se(d,2))}),nq=Ve(function(u){var d=ln(u);return d=typeof d=="function"?d:t,Ty(Ki(u,Ft),t,d)}),iq=Ve($y);function oq(u,d){return nS(u||[],d||[],Rc)}function sq(u,d){return nS(u||[],d||[],Dc)}var aq=Ve(function(u){var d=u.length,m=d>1?u[d-1]:t;return m=typeof m=="function"?(u.pop(),m):t,qS(u,m)});function BS(u){var d=A(u);return d.__chain__=!0,d}function uq(u,d){return d(u),u}function Up(u,d){return d(u)}var cq=Pi(function(u){var d=u.length,m=d?u[0]:0,y=this.__wrapped__,O=function(M){return fy(M,u)};return d>1||this.__actions__.length||!(y instanceof Ye)||!Ti(m)?this.thru(O):(y=y.slice(m,+m+(d?1:0)),y.__actions__.push({func:Up,args:[O],thisArg:t}),new an(y,this.__chain__).thru(function(M){return d&&!M.length&&M.push(t),M}))});function lq(){return BS(this)}function dq(){return new an(this.value(),this.__chain__)}function pq(){this.__values__===t&&(this.__values__=eP(this.value()));var u=this.__index__>=this.__values__.length,d=u?t:this.__values__[this.__index__++];return{done:u,value:d}}function fq(){return this}function hq(u){for(var d,m=this;m instanceof Ap;){var y=LS(m);y.__index__=0,y.__values__=t,d?O.__wrapped__=y:d=y;var O=y;m=m.__wrapped__}return O.__wrapped__=u,d}function mq(){var u=this.__wrapped__;if(u instanceof Ye){var d=u;return this.__actions__.length&&(d=new Ye(this)),d=d.reverse(),d.__actions__.push({func:Up,args:[Wy],thisArg:t}),new an(d,this.__chain__)}return this.thru(Wy)}function vq(){return rS(this.__wrapped__,this.__actions__)}var bq=Np(function(u,d,m){ct.call(u,m)?++u[m]:Oi(u,m,1)});function gq(u,d,m){var y=Ne(u)?mO:uj;return m&&yr(u,d,m)&&(d=t),y(u,Se(d,3))}function yq(u,d){var m=Ne(u)?Ki:qO;return m(u,Se(d,3))}var _q=fS(RS),wq=fS(NS);function Eq(u,d){return ir(zp(u,d),1)}function Oq(u,d){return ir(zp(u,d),we)}function Sq(u,d,m){return m=m===t?1:Be(m),ir(zp(u,d),m)}function WS(u,d){var m=Ne(u)?on:ro;return m(u,Se(d,3))}function $S(u,d){var m=Ne(u)?UN:DO;return m(u,Se(d,3))}var Pq=Np(function(u,d,m){ct.call(u,m)?u[m].push(d):Oi(u,m,[d])});function Tq(u,d,m,y){u=Cr(u)?u:Ra(u),m=m&&!y?Be(m):0;var O=u.length;return m<0&&(m=zt(O+m,0)),Jp(u)?m<=O&&u.indexOf(d,m)>-1:!!O&&Oa(u,d,m)>-1}var xq=Ve(function(u,d,m){var y=-1,O=typeof d=="function",M=Cr(u)?U(u.length):[];return ro(u,function(F){M[++y]=O?Br(d,F,m):Fc(F,d,m)}),M}),Aq=Np(function(u,d,m){Oi(u,m,d)});function zp(u,d){var m=Ne(u)?Et:VO;return m(u,Se(d,3))}function Cq(u,d,m,y){return u==null?[]:(Ne(d)||(d=d==null?[]:[d]),m=y?t:m,Ne(m)||(m=m==null?[]:[m]),JO(u,d,m))}var Mq=Np(function(u,d,m){u[m?0:1].push(d)},function(){return[[],[]]});function Iq(u,d,m){var y=Ne(u)?ey:yO,O=arguments.length<3;return y(u,Se(d,4),m,O,ro)}function kq(u,d,m){var y=Ne(u)?zN:yO,O=arguments.length<3;return y(u,Se(d,4),m,O,DO)}function Lq(u,d){var m=Ne(u)?Ki:qO;return m(u,Gp(Se(d,3)))}function Rq(u){var d=Ne(u)?RO:Tj;return d(u)}function Nq(u,d,m){(m?yr(u,d,m):d===t)?d=1:d=Be(d);var y=Ne(u)?nj:xj;return y(u,d)}function Fq(u){var d=Ne(u)?ij:Cj;return d(u)}function jq(u){if(u==null)return 0;if(Cr(u))return Jp(u)?Pa(u):u.length;var d=dr(u);return d==cr||d==ye?u.size:yy(u).length}function Dq(u,d,m){var y=Ne(u)?ty:Mj;return m&&yr(u,d,m)&&(d=t),y(u,Se(d,3))}var qq=Ve(function(u,d){if(u==null)return[];var m=d.length;return m>1&&yr(u,d[0],d[1])?d=[]:m>2&&yr(d[0],d[1],d[2])&&(d=[d[0]]),JO(u,ir(d,1),[])}),Vp=yF||function(){return Wt.Date.now()};function Bq(u,d){if(typeof d!="function")throw new sn(i);return u=Be(u),function(){if(--u<1)return d.apply(this,arguments)}}function US(u,d,m){return d=m?t:d,d=u&&d==null?u.length:d,Si(u,k,t,t,t,t,d)}function zS(u,d){var m;if(typeof d!="function")throw new sn(i);return u=Be(u),function(){return--u>0&&(m=d.apply(this,arguments)),u<=1&&(d=t),m}}var Uy=Ve(function(u,d,m){var y=g;if(m.length){var O=Qi(m,ka(Uy));y|=C}return Si(u,y,d,m,O)}),VS=Ve(function(u,d,m){var y=g|w;if(m.length){var O=Qi(m,ka(VS));y|=C}return Si(d,y,u,m,O)});function HS(u,d,m){d=m?t:d;var y=Si(u,S,t,t,t,t,t,d);return y.placeholder=HS.placeholder,y}function GS(u,d,m){d=m?t:d;var y=Si(u,x,t,t,t,t,t,d);return y.placeholder=GS.placeholder,y}function ZS(u,d,m){var y,O,M,F,q,$,Z=0,J=!1,Y=!1,re=!0;if(typeof u!="function")throw new sn(i);d=dn(d)||0,Tt(m)&&(J=!!m.leading,Y="maxWait"in m,M=Y?zt(dn(m.maxWait)||0,d):M,re="trailing"in m?!!m.trailing:re);function fe(jt){var xn=y,Ci=O;return y=O=t,Z=jt,F=u.apply(Ci,xn),F}function Pe(jt){return Z=jt,q=Wc(Ze,d),J?fe(jt):F}function Ue(jt){var xn=jt-$,Ci=jt-Z,fP=d-xn;return Y?lr(fP,M-Ci):fP}function Te(jt){var xn=jt-$,Ci=jt-Z;return $===t||xn>=d||xn<0||Y&&Ci>=M}function Ze(){var jt=Vp();if(Te(jt))return Ke(jt);q=Wc(Ze,Ue(jt))}function Ke(jt){return q=t,re&&y?fe(jt):(y=O=t,F)}function zr(){q!==t&&iS(q),Z=0,y=$=O=q=t}function _r(){return q===t?F:Ke(Vp())}function Vr(){var jt=Vp(),xn=Te(jt);if(y=arguments,O=this,$=jt,xn){if(q===t)return Pe($);if(Y)return iS(q),q=Wc(Ze,d),fe($)}return q===t&&(q=Wc(Ze,d)),F}return Vr.cancel=zr,Vr.flush=_r,Vr}var Wq=Ve(function(u,d){return jO(u,1,d)}),$q=Ve(function(u,d,m){return jO(u,dn(d)||0,m)});function Uq(u){return Si(u,D)}function Hp(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new sn(i);var m=function(){var y=arguments,O=d?d.apply(this,y):y[0],M=m.cache;if(M.has(O))return M.get(O);var F=u.apply(this,y);return m.cache=M.set(O,F)||M,F};return m.cache=new(Hp.Cache||Ei),m}Hp.Cache=Ei;function Gp(u){if(typeof u!="function")throw new sn(i);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function zq(u){return zS(2,u)}var Vq=Ij(function(u,d){d=d.length==1&&Ne(d[0])?Et(d[0],Wr(Se())):Et(ir(d,1),Wr(Se()));var m=d.length;return Ve(function(y){for(var O=-1,M=lr(y.length,m);++O<M;)y[O]=d[O].call(this,y[O]);return Br(u,this,y)})}),zy=Ve(function(u,d){var m=Qi(d,ka(zy));return Si(u,C,t,d,m)}),JS=Ve(function(u,d){var m=Qi(d,ka(JS));return Si(u,I,t,d,m)}),Hq=Pi(function(u,d){return Si(u,P,t,t,t,d)});function Gq(u,d){if(typeof u!="function")throw new sn(i);return d=d===t?d:Be(d),Ve(u,d)}function Zq(u,d){if(typeof u!="function")throw new sn(i);return d=d==null?0:zt(Be(d),0),Ve(function(m){var y=m[d],O=oo(m,0,d);return y&&Xi(O,y),Br(u,this,O)})}function Jq(u,d,m){var y=!0,O=!0;if(typeof u!="function")throw new sn(i);return Tt(m)&&(y="leading"in m?!!m.leading:y,O="trailing"in m?!!m.trailing:O),ZS(u,d,{leading:y,maxWait:d,trailing:O})}function Yq(u){return US(u,1)}function Kq(u,d){return zy(Ay(d),u)}function Xq(){if(!arguments.length)return[];var u=arguments[0];return Ne(u)?u:[u]}function Qq(u){return un(u,h)}function e2(u,d){return d=typeof d=="function"?d:t,un(u,h,d)}function t2(u){return un(u,l|h)}function r2(u,d){return d=typeof d=="function"?d:t,un(u,l|h,d)}function n2(u,d){return d==null||FO(u,d,Jt(d))}function Tn(u,d){return u===d||u!==u&&d!==d}var i2=qp(vy),o2=qp(function(u,d){return u>=d}),ds=$O(function(){return arguments}())?$O:function(u){return Mt(u)&&ct.call(u,"callee")&&!AO.call(u,"callee")},Ne=U.isArray,s2=yi?Wr(yi):hj;function Cr(u){return u!=null&&Zp(u.length)&&!xi(u)}function Ft(u){return Mt(u)&&Cr(u)}function a2(u){return u===!0||u===!1||Mt(u)&&gr(u)==Jn}var so=wF||t_,u2=_i?Wr(_i):mj;function c2(u){return Mt(u)&&u.nodeType===1&&!$c(u)}function l2(u){if(u==null)return!0;if(Cr(u)&&(Ne(u)||typeof u=="string"||typeof u.splice=="function"||so(u)||La(u)||ds(u)))return!u.length;var d=dr(u);if(d==cr||d==ye)return!u.size;if(Bc(u))return!yy(u).length;for(var m in u)if(ct.call(u,m))return!1;return!0}function d2(u,d){return jc(u,d)}function p2(u,d,m){m=typeof m=="function"?m:t;var y=m?m(u,d):t;return y===t?jc(u,d,t,m):!!y}function Vy(u){if(!Mt(u))return!1;var d=gr(u);return d==br||d==Zt||typeof u.message=="string"&&typeof u.name=="string"&&!$c(u)}function f2(u){return typeof u=="number"&&MO(u)}function xi(u){if(!Tt(u))return!1;var d=gr(u);return d==nr||d==en||d==rs||d==X}function YS(u){return typeof u=="number"&&u==Be(u)}function Zp(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ke}function Tt(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function Mt(u){return u!=null&&typeof u=="object"}var KS=nn?Wr(nn):bj;function h2(u,d){return u===d||gy(u,d,Ny(d))}function m2(u,d,m){return m=typeof m=="function"?m:t,gy(u,d,Ny(d),m)}function v2(u){return XS(u)&&u!=+u}function b2(u){if(eD(u))throw new Le(n);return UO(u)}function g2(u){return u===null}function y2(u){return u==null}function XS(u){return typeof u=="number"||Mt(u)&&gr(u)==tn}function $c(u){if(!Mt(u)||gr(u)!=Pr)return!1;var d=wp(u);if(d===null)return!0;var m=ct.call(d,"constructor")&&d.constructor;return typeof m=="function"&&m instanceof m&&bp.call(m)==mF}var Hy=Qn?Wr(Qn):gj;function _2(u){return YS(u)&&u>=-ke&&u<=ke}var QS=fO?Wr(fO):yj;function Jp(u){return typeof u=="string"||!Ne(u)&&Mt(u)&&gr(u)==ae}function Ur(u){return typeof u=="symbol"||Mt(u)&&gr(u)==ot}var La=hO?Wr(hO):_j;function w2(u){return u===t}function E2(u){return Mt(u)&&dr(u)==Tr}function O2(u){return Mt(u)&&gr(u)==vi}var S2=qp(_y),P2=qp(function(u,d){return u<=d});function eP(u){if(!u)return[];if(Cr(u))return Jp(u)?Sn(u):Ar(u);if(Cc&&u[Cc])return nF(u[Cc]());var d=dr(u),m=d==cr?ay:d==ye?hp:Ra;return m(u)}function Ai(u){if(!u)return u===0?u:0;if(u=dn(u),u===we||u===-we){var d=u<0?-1:1;return d*oe}return u===u?u:0}function Be(u){var d=Ai(u),m=d%1;return d===d?m?d-m:d:0}function tP(u){return u?as(Be(u),0,yt):0}function dn(u){if(typeof u=="number")return u;if(Ur(u))return Ge;if(Tt(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=Tt(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=_O(u);var m=bg.test(u);return m||yg.test(u)?Kg(u.slice(2),m?2:8):vg.test(u)?Ge:+u}function rP(u){return ti(u,Mr(u))}function T2(u){return u?as(Be(u),-ke,ke):u===0?u:0}function ut(u){return u==null?"":$r(u)}var x2=Ma(function(u,d){if(Bc(d)||Cr(d)){ti(d,Jt(d),u);return}for(var m in d)ct.call(d,m)&&Rc(u,m,d[m])}),nP=Ma(function(u,d){ti(d,Mr(d),u)}),Yp=Ma(function(u,d,m,y){ti(d,Mr(d),u,y)}),A2=Ma(function(u,d,m,y){ti(d,Jt(d),u,y)}),C2=Pi(fy);function M2(u,d){var m=Ca(u);return d==null?m:NO(m,d)}var I2=Ve(function(u,d){u=bt(u);var m=-1,y=d.length,O=y>2?d[2]:t;for(O&&yr(d[0],d[1],O)&&(y=1);++m<y;)for(var M=d[m],F=Mr(M),q=-1,$=F.length;++q<$;){var Z=F[q],J=u[Z];(J===t||Tn(J,Ta[Z])&&!ct.call(u,Z))&&(u[Z]=M[Z])}return u}),k2=Ve(function(u){return u.push(t,_S),Br(iP,t,u)});function L2(u,d){return vO(u,Se(d,3),ei)}function R2(u,d){return vO(u,Se(d,3),my)}function N2(u,d){return u==null?u:hy(u,Se(d,3),Mr)}function F2(u,d){return u==null?u:BO(u,Se(d,3),Mr)}function j2(u,d){return u&&ei(u,Se(d,3))}function D2(u,d){return u&&my(u,Se(d,3))}function q2(u){return u==null?[]:Ip(u,Jt(u))}function B2(u){return u==null?[]:Ip(u,Mr(u))}function Gy(u,d,m){var y=u==null?t:us(u,d);return y===t?m:y}function W2(u,d){return u!=null&&OS(u,d,lj)}function Zy(u,d){return u!=null&&OS(u,d,dj)}var $2=mS(function(u,d,m){d!=null&&typeof d.toString!="function"&&(d=gp.call(d)),u[d]=m},Yy(Ir)),U2=mS(function(u,d,m){d!=null&&typeof d.toString!="function"&&(d=gp.call(d)),ct.call(u,d)?u[d].push(m):u[d]=[m]},Se),z2=Ve(Fc);function Jt(u){return Cr(u)?LO(u):yy(u)}function Mr(u){return Cr(u)?LO(u,!0):wj(u)}function V2(u,d){var m={};return d=Se(d,3),ei(u,function(y,O,M){Oi(m,d(y,O,M),y)}),m}function H2(u,d){var m={};return d=Se(d,3),ei(u,function(y,O,M){Oi(m,O,d(y,O,M))}),m}var G2=Ma(function(u,d,m){kp(u,d,m)}),iP=Ma(function(u,d,m,y){kp(u,d,m,y)}),Z2=Pi(function(u,d){var m={};if(u==null)return m;var y=!1;d=Et(d,function(M){return M=io(M,u),y||(y=M.length>1),M}),ti(u,Ly(u),m),y&&(m=un(m,l|p|h,$j));for(var O=d.length;O--;)Py(m,d[O]);return m});function J2(u,d){return oP(u,Gp(Se(d)))}var Y2=Pi(function(u,d){return u==null?{}:Oj(u,d)});function oP(u,d){if(u==null)return{};var m=Et(Ly(u),function(y){return[y]});return d=Se(d),YO(u,m,function(y,O){return d(y,O[0])})}function K2(u,d,m){d=io(d,u);var y=-1,O=d.length;for(O||(O=1,u=t);++y<O;){var M=u==null?t:u[ri(d[y])];M===t&&(y=O,M=m),u=xi(M)?M.call(u):M}return u}function X2(u,d,m){return u==null?u:Dc(u,d,m)}function Q2(u,d,m,y){return y=typeof y=="function"?y:t,u==null?u:Dc(u,d,m,y)}var sP=gS(Jt),aP=gS(Mr);function eB(u,d,m){var y=Ne(u),O=y||so(u)||La(u);if(d=Se(d,4),m==null){var M=u&&u.constructor;O?m=y?new M:[]:Tt(u)?m=xi(M)?Ca(wp(u)):{}:m={}}return(O?on:ei)(u,function(F,q,$){return d(m,F,q,$)}),m}function tB(u,d){return u==null?!0:Py(u,d)}function rB(u,d,m){return u==null?u:tS(u,d,Ay(m))}function nB(u,d,m,y){return y=typeof y=="function"?y:t,u==null?u:tS(u,d,Ay(m),y)}function Ra(u){return u==null?[]:sy(u,Jt(u))}function iB(u){return u==null?[]:sy(u,Mr(u))}function oB(u,d,m){return m===t&&(m=d,d=t),m!==t&&(m=dn(m),m=m===m?m:0),d!==t&&(d=dn(d),d=d===d?d:0),as(dn(u),d,m)}function sB(u,d,m){return d=Ai(d),m===t?(m=d,d=0):m=Ai(m),u=dn(u),pj(u,d,m)}function aB(u,d,m){if(m&&typeof m!="boolean"&&yr(u,d,m)&&(d=m=t),m===t&&(typeof d=="boolean"?(m=d,d=t):typeof u=="boolean"&&(m=u,u=t)),u===t&&d===t?(u=0,d=1):(u=Ai(u),d===t?(d=u,u=0):d=Ai(d)),u>d){var y=u;u=d,d=y}if(m||u%1||d%1){var O=IO();return lr(u+O*(d-u+Yg("1e-"+((O+"").length-1))),d)}return Ey(u,d)}var uB=Ia(function(u,d,m){return d=d.toLowerCase(),u+(m?uP(d):d)});function uP(u){return Jy(ut(u).toLowerCase())}function cP(u){return u=ut(u),u&&u.replace(wg,XN).replace(Bg,"")}function cB(u,d,m){u=ut(u),d=$r(d);var y=u.length;m=m===t?y:as(Be(m),0,y);var O=m;return m-=d.length,m>=0&&u.slice(m,O)==d}function lB(u){return u=ut(u),u&&tg.test(u)?u.replace(ns,QN):u}function dB(u){return u=ut(u),u&&ag.test(u)?u.replace(yc,"\\$&"):u}var pB=Ia(function(u,d,m){return u+(m?"-":"")+d.toLowerCase()}),fB=Ia(function(u,d,m){return u+(m?" ":"")+d.toLowerCase()}),hB=pS("toLowerCase");function mB(u,d,m){u=ut(u),d=Be(d);var y=d?Pa(u):0;if(!d||y>=d)return u;var O=(d-y)/2;return Dp(Pp(O),m)+u+Dp(Sp(O),m)}function vB(u,d,m){u=ut(u),d=Be(d);var y=d?Pa(u):0;return d&&y<d?u+Dp(d-y,m):u}function bB(u,d,m){u=ut(u),d=Be(d);var y=d?Pa(u):0;return d&&y<d?Dp(d-y,m)+u:u}function gB(u,d,m){return m||d==null?d=0:d&&(d=+d),PF(ut(u).replace(_c,""),d||0)}function yB(u,d,m){return(m?yr(u,d,m):d===t)?d=1:d=Be(d),Oy(ut(u),d)}function _B(){var u=arguments,d=ut(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var wB=Ia(function(u,d,m){return u+(m?"_":"")+d.toLowerCase()});function EB(u,d,m){return m&&typeof m!="number"&&yr(u,d,m)&&(d=m=t),m=m===t?yt:m>>>0,m?(u=ut(u),u&&(typeof d=="string"||d!=null&&!Hy(d))&&(d=$r(d),!d&&Sa(u))?oo(Sn(u),0,m):u.split(d,m)):[]}var OB=Ia(function(u,d,m){return u+(m?" ":"")+Jy(d)});function SB(u,d,m){return u=ut(u),m=m==null?0:as(Be(m),0,u.length),d=$r(d),u.slice(m,m+d.length)==d}function PB(u,d,m){var y=A.templateSettings;m&&yr(u,d,m)&&(d=t),u=ut(u),d=Yp({},d,y,yS);var O=Yp({},d.imports,y.imports,yS),M=Jt(O),F=sy(O,M),q,$,Z=0,J=d.interpolate||_a,Y="__p += '",re=uy((d.escape||_a).source+"|"+J.source+"|"+(J===zd?mg:_a).source+"|"+(d.evaluate||_a).source+"|$","g"),fe="//# sourceURL="+(ct.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vg+"]")+`
`;u.replace(re,function(Te,Ze,Ke,zr,_r,Vr){return Ke||(Ke=zr),Y+=u.slice(Z,Vr).replace(Eg,eF),Ze&&(q=!0,Y+=`' +
__e(`+Ze+`) +
'`),_r&&($=!0,Y+=`';
`+_r+`;
__p += '`),Ke&&(Y+=`' +
((__t = (`+Ke+`)) == null ? '' : __t) +
'`),Z=Vr+Te.length,Te}),Y+=`';
`;var Pe=ct.call(d,"variable")&&d.variable;if(!Pe)Y=`with (obj) {
`+Y+`
}
`;else if(fg.test(Pe))throw new Le(o);Y=($?Y.replace(Xn,""):Y).replace(bi,"$1").replace(ya,"$1;"),Y="function("+(Pe||"obj")+`) {
`+(Pe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var Ue=dP(function(){return st(M,fe+"return "+Y).apply(t,F)});if(Ue.source=Y,Vy(Ue))throw Ue;return Ue}function TB(u){return ut(u).toLowerCase()}function xB(u){return ut(u).toUpperCase()}function AB(u,d,m){if(u=ut(u),u&&(m||d===t))return _O(u);if(!u||!(d=$r(d)))return u;var y=Sn(u),O=Sn(d),M=wO(y,O),F=EO(y,O)+1;return oo(y,M,F).join("")}function CB(u,d,m){if(u=ut(u),u&&(m||d===t))return u.slice(0,SO(u)+1);if(!u||!(d=$r(d)))return u;var y=Sn(u),O=EO(y,Sn(d))+1;return oo(y,0,O).join("")}function MB(u,d,m){if(u=ut(u),u&&(m||d===t))return u.replace(_c,"");if(!u||!(d=$r(d)))return u;var y=Sn(u),O=wO(y,Sn(d));return oo(y,O).join("")}function IB(u,d){var m=j,y=L;if(Tt(d)){var O="separator"in d?d.separator:O;m="length"in d?Be(d.length):m,y="omission"in d?$r(d.omission):y}u=ut(u);var M=u.length;if(Sa(u)){var F=Sn(u);M=F.length}if(m>=M)return u;var q=m-Pa(y);if(q<1)return y;var $=F?oo(F,0,q).join(""):u.slice(0,q);if(O===t)return $+y;if(F&&(q+=$.length-q),Hy(O)){if(u.slice(q).search(O)){var Z,J=$;for(O.global||(O=uy(O.source,ut(Vd.exec(O))+"g")),O.lastIndex=0;Z=O.exec(J);)var Y=Z.index;$=$.slice(0,Y===t?q:Y)}}else if(u.indexOf($r(O),q)!=q){var re=$.lastIndexOf(O);re>-1&&($=$.slice(0,re))}return $+y}function kB(u){return u=ut(u),u&&gc.test(u)?u.replace(Ji,aF):u}var LB=Ia(function(u,d,m){return u+(m?" ":"")+d.toUpperCase()}),Jy=pS("toUpperCase");function lP(u,d,m){return u=ut(u),d=m?t:d,d===t?rF(u)?lF(u):GN(u):u.match(d)||[]}var dP=Ve(function(u,d){try{return Br(u,t,d)}catch(m){return Vy(m)?m:new Le(m)}}),RB=Pi(function(u,d){return on(d,function(m){m=ri(m),Oi(u,m,Uy(u[m],u))}),u});function NB(u){var d=u==null?0:u.length,m=Se();return u=d?Et(u,function(y){if(typeof y[1]!="function")throw new sn(i);return[m(y[0]),y[1]]}):[],Ve(function(y){for(var O=-1;++O<d;){var M=u[O];if(Br(M[0],this,y))return Br(M[1],this,y)}})}function FB(u){return aj(un(u,l))}function Yy(u){return function(){return u}}function jB(u,d){return u==null||u!==u?d:u}var DB=hS(),qB=hS(!0);function Ir(u){return u}function Ky(u){return zO(typeof u=="function"?u:un(u,l))}function BB(u){return HO(un(u,l))}function WB(u,d){return GO(u,un(d,l))}var $B=Ve(function(u,d){return function(m){return Fc(m,u,d)}}),UB=Ve(function(u,d){return function(m){return Fc(u,m,d)}});function Xy(u,d,m){var y=Jt(d),O=Ip(d,y);m==null&&!(Tt(d)&&(O.length||!y.length))&&(m=d,d=u,u=this,O=Ip(d,Jt(d)));var M=!(Tt(m)&&"chain"in m)||!!m.chain,F=xi(u);return on(O,function(q){var $=d[q];u[q]=$,F&&(u.prototype[q]=function(){var Z=this.__chain__;if(M||Z){var J=u(this.__wrapped__),Y=J.__actions__=Ar(this.__actions__);return Y.push({func:$,args:arguments,thisArg:u}),J.__chain__=Z,J}return $.apply(u,Xi([this.value()],arguments))})}),u}function zB(){return Wt._===this&&(Wt._=vF),this}function Qy(){}function VB(u){return u=Be(u),Ve(function(d){return ZO(d,u)})}var HB=My(Et),GB=My(mO),ZB=My(ty);function pP(u){return jy(u)?ry(ri(u)):Sj(u)}function JB(u){return function(d){return u==null?t:us(u,d)}}var YB=vS(),KB=vS(!0);function e_(){return[]}function t_(){return!1}function XB(){return{}}function QB(){return""}function eW(){return!0}function tW(u,d){if(u=Be(u),u<1||u>ke)return[];var m=yt,y=lr(u,yt);d=Se(d),u-=yt;for(var O=oy(y,d);++m<u;)d(m);return O}function rW(u){return Ne(u)?Et(u,ri):Ur(u)?[u]:Ar(kS(ut(u)))}function nW(u){var d=++hF;return ut(u)+d}var iW=jp(function(u,d){return u+d},0),oW=Iy("ceil"),sW=jp(function(u,d){return u/d},1),aW=Iy("floor");function uW(u){return u&&u.length?Mp(u,Ir,vy):t}function cW(u,d){return u&&u.length?Mp(u,Se(d,2),vy):t}function lW(u){return gO(u,Ir)}function dW(u,d){return gO(u,Se(d,2))}function pW(u){return u&&u.length?Mp(u,Ir,_y):t}function fW(u,d){return u&&u.length?Mp(u,Se(d,2),_y):t}var hW=jp(function(u,d){return u*d},1),mW=Iy("round"),vW=jp(function(u,d){return u-d},0);function bW(u){return u&&u.length?iy(u,Ir):0}function gW(u,d){return u&&u.length?iy(u,Se(d,2)):0}return A.after=Bq,A.ary=US,A.assign=x2,A.assignIn=nP,A.assignInWith=Yp,A.assignWith=A2,A.at=C2,A.before=zS,A.bind=Uy,A.bindAll=RB,A.bindKey=VS,A.castArray=Xq,A.chain=BS,A.chunk=aD,A.compact=uD,A.concat=cD,A.cond=NB,A.conforms=FB,A.constant=Yy,A.countBy=bq,A.create=M2,A.curry=HS,A.curryRight=GS,A.debounce=ZS,A.defaults=I2,A.defaultsDeep=k2,A.defer=Wq,A.delay=$q,A.difference=lD,A.differenceBy=dD,A.differenceWith=pD,A.drop=fD,A.dropRight=hD,A.dropRightWhile=mD,A.dropWhile=vD,A.fill=bD,A.filter=yq,A.flatMap=Eq,A.flatMapDeep=Oq,A.flatMapDepth=Sq,A.flatten=FS,A.flattenDeep=gD,A.flattenDepth=yD,A.flip=Uq,A.flow=DB,A.flowRight=qB,A.fromPairs=_D,A.functions=q2,A.functionsIn=B2,A.groupBy=Pq,A.initial=ED,A.intersection=OD,A.intersectionBy=SD,A.intersectionWith=PD,A.invert=$2,A.invertBy=U2,A.invokeMap=xq,A.iteratee=Ky,A.keyBy=Aq,A.keys=Jt,A.keysIn=Mr,A.map=zp,A.mapKeys=V2,A.mapValues=H2,A.matches=BB,A.matchesProperty=WB,A.memoize=Hp,A.merge=G2,A.mergeWith=iP,A.method=$B,A.methodOf=UB,A.mixin=Xy,A.negate=Gp,A.nthArg=VB,A.omit=Z2,A.omitBy=J2,A.once=zq,A.orderBy=Cq,A.over=HB,A.overArgs=Vq,A.overEvery=GB,A.overSome=ZB,A.partial=zy,A.partialRight=JS,A.partition=Mq,A.pick=Y2,A.pickBy=oP,A.property=pP,A.propertyOf=JB,A.pull=CD,A.pullAll=DS,A.pullAllBy=MD,A.pullAllWith=ID,A.pullAt=kD,A.range=YB,A.rangeRight=KB,A.rearg=Hq,A.reject=Lq,A.remove=LD,A.rest=Gq,A.reverse=Wy,A.sampleSize=Nq,A.set=X2,A.setWith=Q2,A.shuffle=Fq,A.slice=RD,A.sortBy=qq,A.sortedUniq=WD,A.sortedUniqBy=$D,A.split=EB,A.spread=Zq,A.tail=UD,A.take=zD,A.takeRight=VD,A.takeRightWhile=HD,A.takeWhile=GD,A.tap=uq,A.throttle=Jq,A.thru=Up,A.toArray=eP,A.toPairs=sP,A.toPairsIn=aP,A.toPath=rW,A.toPlainObject=rP,A.transform=eB,A.unary=Yq,A.union=ZD,A.unionBy=JD,A.unionWith=YD,A.uniq=KD,A.uniqBy=XD,A.uniqWith=QD,A.unset=tB,A.unzip=$y,A.unzipWith=qS,A.update=rB,A.updateWith=nB,A.values=Ra,A.valuesIn=iB,A.without=eq,A.words=lP,A.wrap=Kq,A.xor=tq,A.xorBy=rq,A.xorWith=nq,A.zip=iq,A.zipObject=oq,A.zipObjectDeep=sq,A.zipWith=aq,A.entries=sP,A.entriesIn=aP,A.extend=nP,A.extendWith=Yp,Xy(A,A),A.add=iW,A.attempt=dP,A.camelCase=uB,A.capitalize=uP,A.ceil=oW,A.clamp=oB,A.clone=Qq,A.cloneDeep=t2,A.cloneDeepWith=r2,A.cloneWith=e2,A.conformsTo=n2,A.deburr=cP,A.defaultTo=jB,A.divide=sW,A.endsWith=cB,A.eq=Tn,A.escape=lB,A.escapeRegExp=dB,A.every=gq,A.find=_q,A.findIndex=RS,A.findKey=L2,A.findLast=wq,A.findLastIndex=NS,A.findLastKey=R2,A.floor=aW,A.forEach=WS,A.forEachRight=$S,A.forIn=N2,A.forInRight=F2,A.forOwn=j2,A.forOwnRight=D2,A.get=Gy,A.gt=i2,A.gte=o2,A.has=W2,A.hasIn=Zy,A.head=jS,A.identity=Ir,A.includes=Tq,A.indexOf=wD,A.inRange=sB,A.invoke=z2,A.isArguments=ds,A.isArray=Ne,A.isArrayBuffer=s2,A.isArrayLike=Cr,A.isArrayLikeObject=Ft,A.isBoolean=a2,A.isBuffer=so,A.isDate=u2,A.isElement=c2,A.isEmpty=l2,A.isEqual=d2,A.isEqualWith=p2,A.isError=Vy,A.isFinite=f2,A.isFunction=xi,A.isInteger=YS,A.isLength=Zp,A.isMap=KS,A.isMatch=h2,A.isMatchWith=m2,A.isNaN=v2,A.isNative=b2,A.isNil=y2,A.isNull=g2,A.isNumber=XS,A.isObject=Tt,A.isObjectLike=Mt,A.isPlainObject=$c,A.isRegExp=Hy,A.isSafeInteger=_2,A.isSet=QS,A.isString=Jp,A.isSymbol=Ur,A.isTypedArray=La,A.isUndefined=w2,A.isWeakMap=E2,A.isWeakSet=O2,A.join=TD,A.kebabCase=pB,A.last=ln,A.lastIndexOf=xD,A.lowerCase=fB,A.lowerFirst=hB,A.lt=S2,A.lte=P2,A.max=uW,A.maxBy=cW,A.mean=lW,A.meanBy=dW,A.min=pW,A.minBy=fW,A.stubArray=e_,A.stubFalse=t_,A.stubObject=XB,A.stubString=QB,A.stubTrue=eW,A.multiply=hW,A.nth=AD,A.noConflict=zB,A.noop=Qy,A.now=Vp,A.pad=mB,A.padEnd=vB,A.padStart=bB,A.parseInt=gB,A.random=aB,A.reduce=Iq,A.reduceRight=kq,A.repeat=yB,A.replace=_B,A.result=K2,A.round=mW,A.runInContext=W,A.sample=Rq,A.size=jq,A.snakeCase=wB,A.some=Dq,A.sortedIndex=ND,A.sortedIndexBy=FD,A.sortedIndexOf=jD,A.sortedLastIndex=DD,A.sortedLastIndexBy=qD,A.sortedLastIndexOf=BD,A.startCase=OB,A.startsWith=SB,A.subtract=vW,A.sum=bW,A.sumBy=gW,A.template=PB,A.times=tW,A.toFinite=Ai,A.toInteger=Be,A.toLength=tP,A.toLower=TB,A.toNumber=dn,A.toSafeInteger=T2,A.toString=ut,A.toUpper=xB,A.trim=AB,A.trimEnd=CB,A.trimStart=MB,A.truncate=IB,A.unescape=kB,A.uniqueId=nW,A.upperCase=LB,A.upperFirst=Jy,A.each=WS,A.eachRight=$S,A.first=jS,Xy(A,function(){var u={};return ei(A,function(d,m){ct.call(A.prototype,m)||(u[m]=d)}),u}(),{chain:!1}),A.VERSION=r,on(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){A[u].placeholder=A}),on(["drop","take"],function(u,d){Ye.prototype[u]=function(m){m=m===t?1:zt(Be(m),0);var y=this.__filtered__&&!d?new Ye(this):this.clone();return y.__filtered__?y.__takeCount__=lr(m,y.__takeCount__):y.__views__.push({size:lr(m,yt),type:u+(y.__dir__<0?"Right":"")}),y},Ye.prototype[u+"Right"]=function(m){return this.reverse()[u](m).reverse()}}),on(["filter","map","takeWhile"],function(u,d){var m=d+1,y=m==ie||m==be;Ye.prototype[u]=function(O){var M=this.clone();return M.__iteratees__.push({iteratee:Se(O,3),type:m}),M.__filtered__=M.__filtered__||y,M}}),on(["head","last"],function(u,d){var m="take"+(d?"Right":"");Ye.prototype[u]=function(){return this[m](1).value()[0]}}),on(["initial","tail"],function(u,d){var m="drop"+(d?"":"Right");Ye.prototype[u]=function(){return this.__filtered__?new Ye(this):this[m](1)}}),Ye.prototype.compact=function(){return this.filter(Ir)},Ye.prototype.find=function(u){return this.filter(u).head()},Ye.prototype.findLast=function(u){return this.reverse().find(u)},Ye.prototype.invokeMap=Ve(function(u,d){return typeof u=="function"?new Ye(this):this.map(function(m){return Fc(m,u,d)})}),Ye.prototype.reject=function(u){return this.filter(Gp(Se(u)))},Ye.prototype.slice=function(u,d){u=Be(u);var m=this;return m.__filtered__&&(u>0||d<0)?new Ye(m):(u<0?m=m.takeRight(-u):u&&(m=m.drop(u)),d!==t&&(d=Be(d),m=d<0?m.dropRight(-d):m.take(d-u)),m)},Ye.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ye.prototype.toArray=function(){return this.take(yt)},ei(Ye.prototype,function(u,d){var m=/^(?:filter|find|map|reject)|While$/.test(d),y=/^(?:head|last)$/.test(d),O=A[y?"take"+(d=="last"?"Right":""):d],M=y||/^find/.test(d);O&&(A.prototype[d]=function(){var F=this.__wrapped__,q=y?[1]:arguments,$=F instanceof Ye,Z=q[0],J=$||Ne(F),Y=function(Ze){var Ke=O.apply(A,Xi([Ze],q));return y&&re?Ke[0]:Ke};J&&m&&typeof Z=="function"&&Z.length!=1&&($=J=!1);var re=this.__chain__,fe=!!this.__actions__.length,Pe=M&&!re,Ue=$&&!fe;if(!M&&J){F=Ue?F:new Ye(this);var Te=u.apply(F,q);return Te.__actions__.push({func:Up,args:[Y],thisArg:t}),new an(Te,re)}return Pe&&Ue?u.apply(this,q):(Te=this.thru(Y),Pe?y?Te.value()[0]:Te.value():Te)})}),on(["pop","push","shift","sort","splice","unshift"],function(u){var d=mp[u],m=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",y=/^(?:pop|shift)$/.test(u);A.prototype[u]=function(){var O=arguments;if(y&&!this.__chain__){var M=this.value();return d.apply(Ne(M)?M:[],O)}return this[m](function(F){return d.apply(Ne(F)?F:[],O)})}}),ei(Ye.prototype,function(u,d){var m=A[d];if(m){var y=m.name+"";ct.call(Aa,y)||(Aa[y]=[]),Aa[y].push({name:d,func:m})}}),Aa[Fp(t,w).name]=[{name:"wrapper",func:t}],Ye.prototype.clone=kF,Ye.prototype.reverse=LF,Ye.prototype.value=RF,A.prototype.at=cq,A.prototype.chain=lq,A.prototype.commit=dq,A.prototype.next=pq,A.prototype.plant=hq,A.prototype.reverse=mq,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=vq,A.prototype.first=A.prototype.head,Cc&&(A.prototype[Cc]=fq),A},eo=dF();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Wt._=eo,define(function(){return eo})):gi?((gi.exports=eo)._=eo,Tc._=eo):Wt._=eo}).call(Da)});var uT,d_,me,An=G(()=>{v();uT=wr(fs()),d_=class{setConfig(r){this.configuration=r}get(r,e){return this.configuration?(0,uT.get)(this.configuration,r,e):e}},me=new d_});var dT=R(()=>{v()});var Ka,Xa,Qa,ai,_l,wl,eu,Wf,El,Ss,Ol,Rr=G(()=>{v();Ka=(P=>(P.MEETING_START="meeting.start",P.MEETING_LEAVE="meeting.leave",P.MEETING_PARTICIPANT_AMOUNT_UPDATE="meeting.amount-of-participants-update",P.MEETING_PARTICIPANT_LIST_UPDATE="meeting.participant-list-update",P.MEETING_PARTICIPANT_JOINED="meeting.participant-joined",P.MEETING_PARTICIPANT_LEFT="meeting.participant-left",P.MEETING_JOIN="meeting.join",P.MEETING_PARTICIPANT_PROPERTIES="meeting.participant-properties",P.MEETING_HOST_CHANGE="meeting.host-change",P.MEETING_HOST_AVAILABLE="meeting.host-available",P.MEETING_NO_HOST_AVAILABLE="meeting.no-host-available",P.MEETING_SAME_PARTICIPANT_ERROR="meeting.same-participant-error",P.MEETING_DEVICES_CHANGE="meeting.devices-change",P.MEETING_KICK_PARTICIPANTS="meeting.kick-all-participants",P.MEETING_STATE_UPDATE="meeting.state-update",P.MEETING_CONNECTION_STATUS_CHANGE="meeting.connection-status-change",P.MEETING_WAITING_FOR_HOST="meeting.waiting-for-host",P.MY_PARTICIPANT_UPDATED="my-participant.update",P.MY_PARTICIPANT_LEFT="my-participant.left",P.MY_PARTICIPANT_JOINED="my-participant.joined",P.MEETING_KICK_PARTICIPANT="meeting.kick-participant",P.DESTROY="destroy",P))(Ka||{}),Xa=(c=>(c.FRAME_LOAD="frame.load",c.FRAME_DIMENSIONS_UPDATE="frame.dimensions-update",c.FRAME_PARENT_SIZE_UPDATE="frame.parent-window-size-update",c.FRAME_LOCALE_UPDATE="frame.locales-update",c.FRAME_AVATAR_LIST_UPDATE="frame.avatar-list-update",c.FRAME_COLOR_LIST_UPDATE="frame.color-list-update",c.FRAME_STYLES_UPDATE="frame.styles-update",c.FRAME_CALLBACKS_UPDATE="frame.callbacks-update",c))(Xa||{}),Qa=(c=>(c.TOGGLE_MEETING_CHAT="meeting-controls.toggle-chat",c.TOGGLE_MEETING_SETUP="meeting-controls.toggle-setup",c.TOGGLE_MICROPHONE="meeting-controls.toggle-microphone",c.TOGGLE_CAM="meeting-controls.toggle-cam",c.TOGGLE_SCREENSHARE="meeting-controls.toggle-screenshare",c.TOGGLE_RECORDING="meeting-controls.toggle-recording",c.HANG_UP="hang-up",c.CALLBACK_CALLED="callback-called",c))(Qa||{}),ai=(b=>(b.REALTIME_PARTICIPANT_LIST_UPDATE="realtime.participant-list-update",b.REALTIME_HOST_CHANGE="realtime.host-change",b.REALTIME_GRID_MODE_CHANGE="realtime.grid-mode-change",b.REALTIME_WAIT_FOR_HOST="realtime.wait-for-host",b.REALTIME_AUTHENTICATION_FAILED="realtime.authentication-failed",b.REALTIME_GO_TO_PARTICIPANT="realtime.go-to-participant",b.REALTIME_GATHER="realtime.gather",b.REALTIME_FOLLOW_PARTICIPANT="realtime.follow-participant",b.REALTIME_LOCAL_FOLLOW_PARTICIPANT="realtime.local-follow-participant",b.REALTIME_SET_AVATAR="realtime.set-avatar",b.REALTIME_DRAWING_CHANGE="realtime.drawing-change",b.REALTIME_TRANSCRIPT_CHANGE="realtime.transcript-change",b.REALTIME_PRIVATE_MODE="realtime.private-mode",b))(ai||{}),_l=(p=>(p[p.MEETING_FAILED=-1]="MEETING_FAILED",p[p.MEETING_DISCONNECTED=0]="MEETING_DISCONNECTED",p[p.MEETING_INITIALIZING=1]="MEETING_INITIALIZING",p[p.MEETING_READY_TO_JOIN=2]="MEETING_READY_TO_JOIN",p[p.MEETING_CONNECTING=3]="MEETING_CONNECTING",p[p.MEETING_CONNECTED=4]="MEETING_CONNECTED",p[p.MEETING_RECONNECT=5]="MEETING_RECONNECT",p[p.FRAME_INITIALIZING=6]="FRAME_INITIALIZING",p[p.FRAME_INITIALIZED=7]="FRAME_INITIALIZED",p[p.FRAME_UNINITIALIZED=8]="FRAME_UNINITIALIZED",p))(_l||{}),wl=(a=>(a.JOINED="participant.joined",a.LOCAL_JOINED="participant.local-joined",a.LEFT="participant.left",a.LOCAL_LEFT="participant.local-left",a.LOCAL_UPDATED="participant.updated",a.LIST_UPDATED="participant.list-updated",a.SAME_ACCOUNT_ERROR="participant.same-account-error",a))(wl||{}),eu=(a=>(a[a.NOT_AVAILABLE=0]="NOT_AVAILABLE",a[a.GOOD=1]="GOOD",a[a.BAD=2]="BAD",a[a.POOR=3]="POOR",a[a.DISCONNECTED=4]="DISCONNECTED",a[a.RECONNECTING=5]="RECONNECTING",a[a.LOST_CONNECTION=6]="LOST_CONNECTION",a))(eu||{}),Wf=(a=>(a.NO_CAM="devices.no-cam",a.NO_DEVICES="devices.no-devices",a.DEVICES_BLOCKED="devices.blocked",a.DEVICES_CAM_BLOCKED="devices.cam-blocked",a.DEVICES_INITIALIZATION_ERROR="devices.inititalization-error",a.DEVICES_UNKNOWN_ERROR="devices.unknown-error",a.DEVICES_ALLOWED="devices.allowed",a))(Wf||{}),El=(e=>(e.PIN_ACTIVE="pin-mode.active",e.PIN_INACTIVE="pin-mode.inactive",e))(El||{}),Ss=(e=>(e.MOUNT="mount",e.UNMOUNT="unmount",e))(Ss||{}),Ol=(c=>(c.START_FOLLOWING_PARTICIPANT="who-is-online.start-following-participant",c.STOP_FOLLOWING_PARTICIPANT="who-is-online.stop-following-participant",c.ENTER_PRIVATE_MODE="who-is-online.enter-private-mode",c.LEAVE_PRIVATE_MODE="who-is-online.leave-private-mode",c.GATHER_ALL="who-is-online.gather-all",c.GO_TO_PARTICIPANT="who-is-online.go-to-participant",c.START_FOLLOW_ME="who-is-online.start-follow-me",c.STOP_FOLLOW_ME="who-is-online.stop-follow-me",c))(Ol||{})});var kt,$t=G(()=>{v();kt=(s=>(s.GLOBAL="global-store",s.COMMENTS="comments-store",s.WHO_IS_ONLINE="who-is-online-store",s.VIDEO="video-store",s.PRESENCE_3D="presence-3d-store",s.CORE="core-store",s))(kt||{})});function ui(){return{set value(t){this.instance=t,setTimeout(()=>Object.freeze(this))},get value(){return this.instance}}}var tu=G(()=>{v()});var dt=R($f=>{"use strict";v();Object.defineProperty($f,"__esModule",{value:!0});$f.isFunction=void 0;function jH(t){return typeof t=="function"}$f.isFunction=jH});var vo=R(Uf=>{"use strict";v();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.createErrorClass=void 0;function DH(t){var r=function(n){Error.call(n),n.stack=new Error().stack},e=t(r);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Uf.createErrorClass=DH});var o0=R(zf=>{"use strict";v();Object.defineProperty(zf,"__esModule",{value:!0});zf.UnsubscriptionError=void 0;var qH=vo();zf.UnsubscriptionError=qH.createErrorClass(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}})});var Ri=R(Vf=>{"use strict";v();Object.defineProperty(Vf,"__esModule",{value:!0});Vf.arrRemove=void 0;function BH(t,r){if(t){var e=t.indexOf(r);0<=e&&t.splice(e,1)}}Vf.arrRemove=BH});var Jr=R(Nr=>{"use strict";v();var oA=Nr&&Nr.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},sA=Nr&&Nr.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},aA=Nr&&Nr.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.isSubscription=Nr.EMPTY_SUBSCRIPTION=Nr.Subscription=void 0;var Sl=dt(),s0=o0(),uA=Ri(),a0=function(){function t(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var r,e,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=oA(s),c=a.next();!c.done;c=a.next()){var l=c.value;l.remove(this)}}catch(w){r={error:w}}finally{try{c&&!c.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}else s.remove(this);var p=this.initialTeardown;if(Sl.isFunction(p))try{p()}catch(w){o=w instanceof s0.UnsubscriptionError?w.errors:[w]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=oA(h),b=f.next();!b.done;b=f.next()){var g=b.value;try{cA(g)}catch(w){o=o??[],w instanceof s0.UnsubscriptionError?o=aA(aA([],sA(o)),sA(w.errors)):o.push(w)}}}catch(w){n={error:w}}finally{try{b&&!b.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(o)throw new s0.UnsubscriptionError(o)}},t.prototype.add=function(r){var e;if(r&&r!==this)if(this.closed)cA(r);else{if(r instanceof t){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(r)}},t.prototype._hasParent=function(r){var e=this._parentage;return e===r||Array.isArray(e)&&e.includes(r)},t.prototype._addParent=function(r){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(r),e):e?[e,r]:r},t.prototype._removeParent=function(r){var e=this._parentage;e===r?this._parentage=null:Array.isArray(e)&&uA.arrRemove(e,r)},t.prototype.remove=function(r){var e=this._finalizers;e&&uA.arrRemove(e,r),r instanceof t&&r._removeParent(this)},t.EMPTY=function(){var r=new t;return r.closed=!0,r}(),t}();Nr.Subscription=a0;Nr.EMPTY_SUBSCRIPTION=a0.EMPTY;function WH(t){return t instanceof a0||t&&"closed"in t&&Sl.isFunction(t.remove)&&Sl.isFunction(t.add)&&Sl.isFunction(t.unsubscribe)}Nr.isSubscription=WH;function cA(t){Sl.isFunction(t)?t():t.unsubscribe()}});var ru=R(Hf=>{"use strict";v();Object.defineProperty(Hf,"__esModule",{value:!0});Hf.config=void 0;Hf.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var u0=R(ci=>{"use strict";v();var lA=ci&&ci.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},dA=ci&&ci.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(ci,"__esModule",{value:!0});ci.timeoutProvider=void 0;ci.timeoutProvider={setTimeout:function(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=ci.timeoutProvider.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,dA([t,r],lA(e))):setTimeout.apply(void 0,dA([t,r],lA(e)))},clearTimeout:function(t){var r=ci.timeoutProvider.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(t)},delegate:void 0}});var c0=R(Gf=>{"use strict";v();Object.defineProperty(Gf,"__esModule",{value:!0});Gf.reportUnhandledError=void 0;var $H=ru(),UH=u0();function zH(t){UH.timeoutProvider.setTimeout(function(){var r=$H.config.onUnhandledError;if(r)r(t);else throw t})}Gf.reportUnhandledError=zH});var sr=R(Zf=>{"use strict";v();Object.defineProperty(Zf,"__esModule",{value:!0});Zf.noop=void 0;function VH(){}Zf.noop=VH});var pA=R(li=>{"use strict";v();Object.defineProperty(li,"__esModule",{value:!0});li.createNotification=li.nextNotification=li.errorNotification=li.COMPLETE_NOTIFICATION=void 0;li.COMPLETE_NOTIFICATION=function(){return Jf("C",void 0,void 0)}();function HH(t){return Jf("E",void 0,t)}li.errorNotification=HH;function GH(t){return Jf("N",t,void 0)}li.nextNotification=GH;function Jf(t,r,e){return{kind:t,value:r,error:e}}li.createNotification=Jf});var Yf=R(nu=>{"use strict";v();Object.defineProperty(nu,"__esModule",{value:!0});nu.captureError=nu.errorContext=void 0;var fA=ru(),Ps=null;function ZH(t){if(fA.config.useDeprecatedSynchronousErrorHandling){var r=!Ps;if(r&&(Ps={errorThrown:!1,error:null}),t(),r){var e=Ps,n=e.errorThrown,i=e.error;if(Ps=null,n)throw i}}else t()}nu.errorContext=ZH;function JH(t){fA.config.useDeprecatedSynchronousErrorHandling&&Ps&&(Ps.errorThrown=!0,Ps.error=t)}nu.captureError=JH});var iu=R(Nn=>{"use strict";v();var vA=Nn&&Nn.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.EMPTY_OBSERVER=Nn.SafeSubscriber=Nn.Subscriber=void 0;var YH=dt(),hA=Jr(),f0=ru(),KH=c0(),mA=sr(),l0=pA(),XH=u0(),QH=Yf(),bA=function(t){vA(r,t);function r(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,hA.isSubscription(e)&&e.add(n)):n.destination=Nn.EMPTY_OBSERVER,n}return r.create=function(e,n,i){return new gA(e,n,i)},r.prototype.next=function(e){this.isStopped?p0(l0.nextNotification(e),this):this._next(e)},r.prototype.error=function(e){this.isStopped?p0(l0.errorNotification(e),this):(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped?p0(l0.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(hA.Subscription);Nn.Subscriber=bA;var eG=Function.prototype.bind;function d0(t,r){return eG.call(t,r)}var tG=function(){function t(r){this.partialObserver=r}return t.prototype.next=function(r){var e=this.partialObserver;if(e.next)try{e.next(r)}catch(n){Kf(n)}},t.prototype.error=function(r){var e=this.partialObserver;if(e.error)try{e.error(r)}catch(n){Kf(n)}else Kf(r)},t.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(e){Kf(e)}},t}(),gA=function(t){vA(r,t);function r(e,n,i){var o=t.call(this)||this,s;if(YH.isFunction(e)||!e)s={next:e??void 0,error:n??void 0,complete:i??void 0};else{var a;o&&f0.config.useDeprecatedNextContext?(a=Object.create(e),a.unsubscribe=function(){return o.unsubscribe()},s={next:e.next&&d0(e.next,a),error:e.error&&d0(e.error,a),complete:e.complete&&d0(e.complete,a)}):s=e}return o.destination=new tG(s),o}return r}(bA);Nn.SafeSubscriber=gA;function Kf(t){f0.config.useDeprecatedSynchronousErrorHandling?QH.captureError(t):KH.reportUnhandledError(t)}function rG(t){throw t}function p0(t,r){var e=f0.config.onStoppedNotification;e&&XH.timeoutProvider.setTimeout(function(){return e(t,r)})}Nn.EMPTY_OBSERVER={closed:!0,next:mA.noop,error:rG,complete:mA.noop}});var Pl=R(Xf=>{"use strict";v();Object.defineProperty(Xf,"__esModule",{value:!0});Xf.observable=void 0;Xf.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var ar=R(Qf=>{"use strict";v();Object.defineProperty(Qf,"__esModule",{value:!0});Qf.identity=void 0;function nG(t){return t}Qf.identity=nG});var Tl=R(ou=>{"use strict";v();Object.defineProperty(ou,"__esModule",{value:!0});ou.pipeFromArray=ou.pipe=void 0;var iG=ar();function oG(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return yA(t)}ou.pipe=oG;function yA(t){return t.length===0?iG.identity:t.length===1?t[0]:function(e){return t.reduce(function(n,i){return i(n)},e)}}ou.pipeFromArray=yA});var mt=R(eh=>{"use strict";v();Object.defineProperty(eh,"__esModule",{value:!0});eh.Observable=void 0;var m0=iu(),sG=Jr(),aG=Pl(),uG=Tl(),cG=ru(),h0=dt(),lG=Yf(),dG=function(){function t(r){r&&(this._subscribe=r)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(r,e,n){var i=this,o=fG(r)?r:new m0.SafeSubscriber(r,e,n);return lG.errorContext(function(){var s=i,a=s.operator,c=s.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){r.error(e)}},t.prototype.forEach=function(r,e){var n=this;return e=_A(e),new e(function(i,o){var s=new m0.SafeSubscriber({next:function(a){try{r(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},t.prototype._subscribe=function(r){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(r)},t.prototype[aG.observable]=function(){return this},t.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return uG.pipeFromArray(r)(this)},t.prototype.toPromise=function(r){var e=this;return r=_A(r),new r(function(n,i){var o;e.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(r){return new t(r)},t}();eh.Observable=dG;function _A(t){var r;return(r=t??cG.config.Promise)!==null&&r!==void 0?r:Promise}function pG(t){return t&&h0.isFunction(t.next)&&h0.isFunction(t.error)&&h0.isFunction(t.complete)}function fG(t){return t&&t instanceof m0.Subscriber||pG(t)&&sG.isSubscription(t)}});var ue=R(su=>{"use strict";v();Object.defineProperty(su,"__esModule",{value:!0});su.operate=su.hasLift=void 0;var hG=dt();function wA(t){return hG.isFunction(t==null?void 0:t.lift)}su.hasLift=wA;function mG(t){return function(r){if(wA(r))return r.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}su.operate=mG});var he=R(bo=>{"use strict";v();var vG=bo&&bo.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(bo,"__esModule",{value:!0});bo.OperatorSubscriber=bo.createOperatorSubscriber=void 0;var bG=iu();function gG(t,r,e,n,i){return new EA(t,r,e,n,i)}bo.createOperatorSubscriber=gG;var EA=function(t){vG(r,t);function r(e,n,i,o,s,a){var c=t.call(this,e)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=n?function(l){try{n(l)}catch(p){e.error(p)}}:t.prototype._next,c._error=o?function(l){try{o(l)}catch(p){e.error(p)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,c}return r.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},r}(bG.Subscriber);bo.OperatorSubscriber=EA});var v0=R(th=>{"use strict";v();Object.defineProperty(th,"__esModule",{value:!0});th.refCount=void 0;var yG=ue(),_G=he();function wG(){return yG.operate(function(t,r){var e=null;t._refCount++;var n=_G.createOperatorSubscriber(r,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){e=null;return}var i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),r.unsubscribe()});t.subscribe(n),n.closed||(e=t.connect())})}th.refCount=wG});var xl=R(au=>{"use strict";v();var EG=au&&au.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(au,"__esModule",{value:!0});au.ConnectableObservable=void 0;var OG=mt(),OA=Jr(),SG=v0(),PG=he(),TG=ue(),xG=function(t){EG(r,t);function r(e,n){var i=t.call(this)||this;return i.source=e,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,TG.hasLift(e)&&(i.lift=e.lift),i}return r.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},r.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},r.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,e==null||e.unsubscribe()},r.prototype.connect=function(){var e=this,n=this._connection;if(!n){n=this._connection=new OA.Subscription;var i=this.getSubject();n.add(this.source.subscribe(PG.createOperatorSubscriber(i,void 0,function(){e._teardown(),i.complete()},function(o){e._teardown(),i.error(o)},function(){return e._teardown()}))),n.closed&&(this._connection=null,n=OA.Subscription.EMPTY)}return n},r.prototype.refCount=function(){return SG.refCount()(this)},r}(OG.Observable);au.ConnectableObservable=xG});var SA=R(Al=>{"use strict";v();Object.defineProperty(Al,"__esModule",{value:!0});Al.performanceTimestampProvider=void 0;Al.performanceTimestampProvider={now:function(){return(Al.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var b0=R(Fn=>{"use strict";v();var PA=Fn&&Fn.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},TA=Fn&&Fn.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.animationFrameProvider=void 0;var AG=Jr();Fn.animationFrameProvider={schedule:function(t){var r=requestAnimationFrame,e=cancelAnimationFrame,n=Fn.animationFrameProvider.delegate;n&&(r=n.requestAnimationFrame,e=n.cancelAnimationFrame);var i=r(function(o){e=void 0,t(o)});return new AG.Subscription(function(){return e==null?void 0:e(i)})},requestAnimationFrame:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=Fn.animationFrameProvider.delegate;return((e==null?void 0:e.requestAnimationFrame)||requestAnimationFrame).apply(void 0,TA([],PA(t)))},cancelAnimationFrame:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=Fn.animationFrameProvider.delegate;return((e==null?void 0:e.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,TA([],PA(t)))},delegate:void 0}});var CA=R(rh=>{"use strict";v();Object.defineProperty(rh,"__esModule",{value:!0});rh.animationFrames=void 0;var CG=mt(),MG=SA(),xA=b0();function IG(t){return t?AA(t):kG}rh.animationFrames=IG;function AA(t){return new CG.Observable(function(r){var e=t||MG.performanceTimestampProvider,n=e.now(),i=0,o=function(){r.closed||(i=xA.animationFrameProvider.requestAnimationFrame(function(s){i=0;var a=e.now();r.next({timestamp:t?a:s,elapsed:a-n}),o()}))};return o(),function(){i&&xA.animationFrameProvider.cancelAnimationFrame(i)}})}var kG=AA()});var g0=R(nh=>{"use strict";v();Object.defineProperty(nh,"__esModule",{value:!0});nh.ObjectUnsubscribedError=void 0;var LG=vo();nh.ObjectUnsubscribedError=LG.createErrorClass(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var ur=R(di=>{"use strict";v();var IA=di&&di.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),RG=di&&di.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(di,"__esModule",{value:!0});di.AnonymousSubject=di.Subject=void 0;var MA=mt(),_0=Jr(),NG=g0(),FG=Ri(),y0=Yf(),kA=function(t){IA(r,t);function r(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.prototype.lift=function(e){var n=new w0(this,this);return n.operator=e,n},r.prototype._throwIfClosed=function(){if(this.closed)throw new NG.ObjectUnsubscribedError},r.prototype.next=function(e){var n=this;y0.errorContext(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=RG(n.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(e)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},r.prototype.error=function(e){var n=this;y0.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=e;for(var i=n.observers;i.length;)i.shift().error(e)}})},r.prototype.complete=function(){var e=this;y0.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var n=e.observers;n.length;)n.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},r.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},r.prototype._innerSubscribe=function(e){var n=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?_0.EMPTY_SUBSCRIPTION:(this.currentObservers=null,a.push(e),new _0.Subscription(function(){n.currentObservers=null,FG.arrRemove(a,e)}))},r.prototype._checkFinalizedStatuses=function(e){var n=this,i=n.hasError,o=n.thrownError,s=n.isStopped;i?e.error(o):s&&e.complete()},r.prototype.asObservable=function(){var e=new MA.Observable;return e.source=this,e},r.create=function(e,n){return new w0(e,n)},r}(MA.Observable);di.Subject=kA;var w0=function(t){IA(r,t);function r(e,n){var i=t.call(this)||this;return i.destination=e,i.source=n,i}return r.prototype.next=function(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)},r.prototype.error=function(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)},r.prototype.complete=function(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)},r.prototype._subscribe=function(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:_0.EMPTY_SUBSCRIPTION},r}(kA);di.AnonymousSubject=w0});var E0=R(uu=>{"use strict";v();var jG=uu&&uu.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(uu,"__esModule",{value:!0});uu.BehaviorSubject=void 0;var DG=ur(),qG=function(t){jG(r,t);function r(e){var n=t.call(this)||this;return n._value=e,n}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},r.prototype.getValue=function(){var e=this,n=e.hasError,i=e.thrownError,o=e._value;if(n)throw i;return this._throwIfClosed(),o},r.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},r}(DG.Subject);uu.BehaviorSubject=qG});var ih=R(Cl=>{"use strict";v();Object.defineProperty(Cl,"__esModule",{value:!0});Cl.dateTimestampProvider=void 0;Cl.dateTimestampProvider={now:function(){return(Cl.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var oh=R(cu=>{"use strict";v();var BG=cu&&cu.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(cu,"__esModule",{value:!0});cu.ReplaySubject=void 0;var WG=ur(),$G=ih(),UG=function(t){BG(r,t);function r(e,n,i){e===void 0&&(e=1/0),n===void 0&&(n=1/0),i===void 0&&(i=$G.dateTimestampProvider);var o=t.call(this)||this;return o._bufferSize=e,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,n),o}return r.prototype.next=function(e){var n=this,i=n.isStopped,o=n._buffer,s=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;i||(o.push(e),!s&&o.push(a.now()+c)),this._trimBuffer(),t.prototype.next.call(this,e)},r.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(e),i=this,o=i._infiniteTimeWindow,s=i._buffer,a=s.slice(),c=0;c<a.length&&!e.closed;c+=o?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),n},r.prototype._trimBuffer=function(){var e=this,n=e._bufferSize,i=e._timestampProvider,o=e._buffer,s=e._infiniteTimeWindow,a=(s?1:2)*n;if(n<1/0&&a<o.length&&o.splice(0,o.length-a),!s){for(var c=i.now(),l=0,p=1;p<o.length&&o[p]<=c;p+=2)l=p;l&&o.splice(0,l+1)}},r}(WG.Subject);cu.ReplaySubject=UG});var sh=R(lu=>{"use strict";v();var zG=lu&&lu.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(lu,"__esModule",{value:!0});lu.AsyncSubject=void 0;var VG=ur(),HG=function(t){zG(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e._value=null,e._hasValue=!1,e._isComplete=!1,e}return r.prototype._checkFinalizedStatuses=function(e){var n=this,i=n.hasError,o=n._hasValue,s=n._value,a=n.thrownError,c=n.isStopped,l=n._isComplete;i?e.error(a):(c||l)&&(o&&e.next(s),e.complete())},r.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},r.prototype.complete=function(){var e=this,n=e._hasValue,i=e._value,o=e._isComplete;o||(this._isComplete=!0,n&&t.prototype.next.call(this,i),t.prototype.complete.call(this))},r}(VG.Subject);lu.AsyncSubject=HG});var LA=R(du=>{"use strict";v();var GG=du&&du.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(du,"__esModule",{value:!0});du.Action=void 0;var ZG=Jr(),JG=function(t){GG(r,t);function r(e,n){return t.call(this)||this}return r.prototype.schedule=function(e,n){return n===void 0&&(n=0),this},r}(ZG.Subscription);du.Action=JG});var FA=R(pi=>{"use strict";v();var RA=pi&&pi.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},NA=pi&&pi.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(pi,"__esModule",{value:!0});pi.intervalProvider=void 0;pi.intervalProvider={setInterval:function(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=pi.intervalProvider.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,NA([t,r],RA(e))):setInterval.apply(void 0,NA([t,r],RA(e)))},clearInterval:function(t){var r=pi.intervalProvider.delegate;return((r==null?void 0:r.clearInterval)||clearInterval)(t)},delegate:void 0}});var fu=R(pu=>{"use strict";v();var YG=pu&&pu.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(pu,"__esModule",{value:!0});pu.AsyncAction=void 0;var KG=LA(),jA=FA(),XG=Ri(),QG=function(t){YG(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return r.prototype.schedule=function(e,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=e;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this},r.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),jA.intervalProvider.setInterval(e.flush.bind(e,this),i)},r.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&jA.intervalProvider.clearInterval(n)},r.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(e,n){var i=!1,o;try{this.work(e)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},r.prototype.unsubscribe=function(){if(!this.closed){var e=this,n=e.id,i=e.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,XG.arrRemove(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},r}(KG.Action);pu.AsyncAction=QG});var qA=R(hu=>{"use strict";v();Object.defineProperty(hu,"__esModule",{value:!0});hu.TestTools=hu.Immediate=void 0;var e4=1,O0,ah={};function DA(t){return t in ah?(delete ah[t],!0):!1}hu.Immediate={setImmediate:function(t){var r=e4++;return ah[r]=!0,O0||(O0=Promise.resolve()),O0.then(function(){return DA(r)&&t()}),r},clearImmediate:function(t){DA(t)}};hu.TestTools={pending:function(){return Object.keys(ah).length}}});var WA=R(fi=>{"use strict";v();var t4=fi&&fi.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},r4=fi&&fi.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(fi,"__esModule",{value:!0});fi.immediateProvider=void 0;var BA=qA(),n4=BA.Immediate.setImmediate,i4=BA.Immediate.clearImmediate;fi.immediateProvider={setImmediate:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=fi.immediateProvider.delegate;return((e==null?void 0:e.setImmediate)||n4).apply(void 0,r4([],t4(t)))},clearImmediate:function(t){var r=fi.immediateProvider.delegate;return((r==null?void 0:r.clearImmediate)||i4)(t)},delegate:void 0}});var UA=R(mu=>{"use strict";v();var o4=mu&&mu.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(mu,"__esModule",{value:!0});mu.AsapAction=void 0;var s4=fu(),$A=WA(),a4=function(t){o4(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return r.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=$A.immediateProvider.setImmediate(e.flush.bind(e,void 0))))},r.prototype.recycleAsyncId=function(e,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);var s=e.actions;n!=null&&((o=s[s.length-1])===null||o===void 0?void 0:o.id)!==n&&($A.immediateProvider.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))},r}(s4.AsyncAction);mu.AsapAction=a4});var S0=R(uh=>{"use strict";v();Object.defineProperty(uh,"__esModule",{value:!0});uh.Scheduler=void 0;var u4=ih(),c4=function(){function t(r,e){e===void 0&&(e=t.now),this.schedulerActionCtor=r,this.now=e}return t.prototype.schedule=function(r,e,n){return e===void 0&&(e=0),new this.schedulerActionCtor(this,r).schedule(n,e)},t.now=u4.dateTimestampProvider.now,t}();uh.Scheduler=c4});var bu=R(vu=>{"use strict";v();var l4=vu&&vu.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(vu,"__esModule",{value:!0});vu.AsyncScheduler=void 0;var zA=S0(),d4=function(t){l4(r,t);function r(e,n){n===void 0&&(n=zA.Scheduler.now);var i=t.call(this,e,n)||this;return i.actions=[],i._active=!1,i}return r.prototype.flush=function(e){var n=this.actions;if(this._active){n.push(e);return}var i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}},r}(zA.Scheduler);vu.AsyncScheduler=d4});var VA=R(gu=>{"use strict";v();var p4=gu&&gu.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(gu,"__esModule",{value:!0});gu.AsapScheduler=void 0;var f4=bu(),h4=function(t){p4(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.flush=function(e){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;e=e||i.shift();do if(o=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw o}},r}(f4.AsyncScheduler);gu.AsapScheduler=h4});var HA=R(Ts=>{"use strict";v();Object.defineProperty(Ts,"__esModule",{value:!0});Ts.asap=Ts.asapScheduler=void 0;var m4=UA(),v4=VA();Ts.asapScheduler=new v4.AsapScheduler(m4.AsapAction);Ts.asap=Ts.asapScheduler});var Fr=R(xs=>{"use strict";v();Object.defineProperty(xs,"__esModule",{value:!0});xs.async=xs.asyncScheduler=void 0;var b4=fu(),g4=bu();xs.asyncScheduler=new g4.AsyncScheduler(b4.AsyncAction);xs.async=xs.asyncScheduler});var GA=R(yu=>{"use strict";v();var y4=yu&&yu.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(yu,"__esModule",{value:!0});yu.QueueAction=void 0;var _4=fu(),w4=function(t){y4(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return r.prototype.schedule=function(e,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},r.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},r.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.flush(this),0)},r}(_4.AsyncAction);yu.QueueAction=w4});var ZA=R(_u=>{"use strict";v();var E4=_u&&_u.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(_u,"__esModule",{value:!0});_u.QueueScheduler=void 0;var O4=bu(),S4=function(t){E4(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r}(O4.AsyncScheduler);_u.QueueScheduler=S4});var JA=R(As=>{"use strict";v();Object.defineProperty(As,"__esModule",{value:!0});As.queue=As.queueScheduler=void 0;var P4=GA(),T4=ZA();As.queueScheduler=new T4.QueueScheduler(P4.QueueAction);As.queue=As.queueScheduler});var KA=R(wu=>{"use strict";v();var x4=wu&&wu.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(wu,"__esModule",{value:!0});wu.AnimationFrameAction=void 0;var A4=fu(),YA=b0(),C4=function(t){x4(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return r.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=YA.animationFrameProvider.requestAnimationFrame(function(){return e.flush(void 0)})))},r.prototype.recycleAsyncId=function(e,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);var s=e.actions;n!=null&&((o=s[s.length-1])===null||o===void 0?void 0:o.id)!==n&&(YA.animationFrameProvider.cancelAnimationFrame(n),e._scheduled=void 0)},r}(A4.AsyncAction);wu.AnimationFrameAction=C4});var XA=R(Eu=>{"use strict";v();var M4=Eu&&Eu.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.AnimationFrameScheduler=void 0;var I4=bu(),k4=function(t){M4(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.flush=function(e){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;e=e||i.shift();do if(o=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw o}},r}(I4.AsyncScheduler);Eu.AnimationFrameScheduler=k4});var QA=R(Cs=>{"use strict";v();Object.defineProperty(Cs,"__esModule",{value:!0});Cs.animationFrame=Cs.animationFrameScheduler=void 0;var L4=KA(),R4=XA();Cs.animationFrameScheduler=new R4.AnimationFrameScheduler(L4.AnimationFrameAction);Cs.animationFrame=Cs.animationFrameScheduler});var r1=R(go=>{"use strict";v();var e1=go&&go.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(go,"__esModule",{value:!0});go.VirtualAction=go.VirtualTimeScheduler=void 0;var N4=fu(),F4=Jr(),j4=bu(),D4=function(t){e1(r,t);function r(e,n){e===void 0&&(e=t1),n===void 0&&(n=1/0);var i=t.call(this,e,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return r.prototype.flush=function(){for(var e=this,n=e.actions,i=e.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},r.frameTimeFactor=10,r}(j4.AsyncScheduler);go.VirtualTimeScheduler=D4;var t1=function(t){e1(r,t);function r(e,n,i){i===void 0&&(i=e.index+=1);var o=t.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.index=i,o.active=!0,o.index=e.index=i,o}return r.prototype.schedule=function(e,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return t.prototype.schedule.call(this,e,n);this.active=!1;var i=new r(this.scheduler,this.work);return this.add(i),i.schedule(e,n)}else return F4.Subscription.EMPTY},r.prototype.requestAsyncId=function(e,n,i){i===void 0&&(i=0),this.delay=e.frame+i;var o=e.actions;return o.push(this),o.sort(r.sortActions),1},r.prototype.recycleAsyncId=function(e,n,i){i===void 0&&(i=0)},r.prototype._execute=function(e,n){if(this.active===!0)return t.prototype._execute.call(this,e,n)},r.sortActions=function(e,n){return e.delay===n.delay?e.index===n.index?0:e.index>n.index?1:-1:e.delay>n.delay?1:-1},r}(N4.AsyncAction);go.VirtualAction=t1});var jn=R(Ms=>{"use strict";v();Object.defineProperty(Ms,"__esModule",{value:!0});Ms.empty=Ms.EMPTY=void 0;var n1=mt();Ms.EMPTY=new n1.Observable(function(t){return t.complete()});function q4(t){return t?B4(t):Ms.EMPTY}Ms.empty=q4;function B4(t){return new n1.Observable(function(r){return t.schedule(function(){return r.complete()})})}});var Ml=R(ch=>{"use strict";v();Object.defineProperty(ch,"__esModule",{value:!0});ch.isScheduler=void 0;var W4=dt();function $4(t){return t&&W4.isFunction(t.schedule)}ch.isScheduler=$4});var jr=R(yo=>{"use strict";v();Object.defineProperty(yo,"__esModule",{value:!0});yo.popNumber=yo.popScheduler=yo.popResultSelector=void 0;var U4=dt(),z4=Ml();function P0(t){return t[t.length-1]}function V4(t){return U4.isFunction(P0(t))?t.pop():void 0}yo.popResultSelector=V4;function H4(t){return z4.isScheduler(P0(t))?t.pop():void 0}yo.popScheduler=H4;function G4(t,r){return typeof P0(t)=="number"?t.pop():r}yo.popNumber=G4});var dh=R(lh=>{"use strict";v();Object.defineProperty(lh,"__esModule",{value:!0});lh.isArrayLike=void 0;lh.isArrayLike=function(t){return t&&typeof t.length=="number"&&typeof t!="function"}});var T0=R(ph=>{"use strict";v();Object.defineProperty(ph,"__esModule",{value:!0});ph.isPromise=void 0;var Z4=dt();function J4(t){return Z4.isFunction(t==null?void 0:t.then)}ph.isPromise=J4});var x0=R(fh=>{"use strict";v();Object.defineProperty(fh,"__esModule",{value:!0});fh.isInteropObservable=void 0;var Y4=Pl(),K4=dt();function X4(t){return K4.isFunction(t[Y4.observable])}fh.isInteropObservable=X4});var A0=R(hh=>{"use strict";v();Object.defineProperty(hh,"__esModule",{value:!0});hh.isAsyncIterable=void 0;var Q4=dt();function e6(t){return Symbol.asyncIterator&&Q4.isFunction(t==null?void 0:t[Symbol.asyncIterator])}hh.isAsyncIterable=e6});var C0=R(mh=>{"use strict";v();Object.defineProperty(mh,"__esModule",{value:!0});mh.createInvalidObservableTypeError=void 0;function t6(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}mh.createInvalidObservableTypeError=t6});var M0=R(Ou=>{"use strict";v();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.iterator=Ou.getSymbolIterator=void 0;function i1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Ou.getSymbolIterator=i1;Ou.iterator=i1()});var I0=R(vh=>{"use strict";v();Object.defineProperty(vh,"__esModule",{value:!0});vh.isIterable=void 0;var r6=M0(),n6=dt();function i6(t){return n6.isFunction(t==null?void 0:t[r6.iterator])}vh.isIterable=i6});var bh=R(mn=>{"use strict";v();var o6=mn&&mn.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=r.call(t,e)}catch(p){l=[6,p],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Su=mn&&mn.__await||function(t){return this instanceof Su?(this.v=t,this):new Su(t)},s6=mn&&mn.__asyncGenerator||function(t,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(t,r||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){n[f]&&(i[f]=function(b){return new Promise(function(g,w){o.push([f,b,g,w])>1||a(f,b)})})}function a(f,b){try{c(n[f](b))}catch(g){h(o[0][3],g)}}function c(f){f.value instanceof Su?Promise.resolve(f.value.v).then(l,p):h(o[0][2],f)}function l(f){a("next",f)}function p(f){a("throw",f)}function h(f,b){f(b),o.shift(),o.length&&a(o[0][0],o[0][1])}};Object.defineProperty(mn,"__esModule",{value:!0});mn.isReadableStreamLike=mn.readableStreamLikeToAsyncGenerator=void 0;var a6=dt();function u6(t){return s6(this,arguments,function(){var e,n,i,o;return o6(this,function(s){switch(s.label){case 0:e=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Su(e.read())];case 3:return n=s.sent(),i=n.value,o=n.done,o?[4,Su(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Su(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}mn.readableStreamLikeToAsyncGenerator=u6;function c6(t){return a6.isFunction(t==null?void 0:t.getReader)}mn.isReadableStreamLike=c6});var De=R(St=>{"use strict";v();var l6=St&&St.__awaiter||function(t,r,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(p){try{l(n.next(p))}catch(h){s(h)}}function c(p){try{l(n.throw(p))}catch(h){s(h)}}function l(p){p.done?o(p.value):i(p.value).then(a,c)}l((n=n.apply(t,r||[])).next())})},d6=St&&St.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=r.call(t,e)}catch(p){l=[6,p],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},p6=St&&St.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t[Symbol.asyncIterator],e;return r?r.call(t):(t=typeof k0=="function"?k0(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}},k0=St&&St.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(St,"__esModule",{value:!0});St.fromReadableStreamLike=St.fromAsyncIterable=St.fromIterable=St.fromPromise=St.fromArrayLike=St.fromInteropObservable=St.innerFrom=void 0;var f6=dh(),h6=T0(),Pu=mt(),m6=x0(),v6=A0(),b6=C0(),g6=I0(),o1=bh(),y6=dt(),_6=c0(),w6=Pl();function E6(t){if(t instanceof Pu.Observable)return t;if(t!=null){if(m6.isInteropObservable(t))return s1(t);if(f6.isArrayLike(t))return a1(t);if(h6.isPromise(t))return u1(t);if(v6.isAsyncIterable(t))return L0(t);if(g6.isIterable(t))return c1(t);if(o1.isReadableStreamLike(t))return l1(t)}throw b6.createInvalidObservableTypeError(t)}St.innerFrom=E6;function s1(t){return new Pu.Observable(function(r){var e=t[w6.observable]();if(y6.isFunction(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}St.fromInteropObservable=s1;function a1(t){return new Pu.Observable(function(r){for(var e=0;e<t.length&&!r.closed;e++)r.next(t[e]);r.complete()})}St.fromArrayLike=a1;function u1(t){return new Pu.Observable(function(r){t.then(function(e){r.closed||(r.next(e),r.complete())},function(e){return r.error(e)}).then(null,_6.reportUnhandledError)})}St.fromPromise=u1;function c1(t){return new Pu.Observable(function(r){var e,n;try{for(var i=k0(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(r.next(s),r.closed)return}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}r.complete()})}St.fromIterable=c1;function L0(t){return new Pu.Observable(function(r){O6(t,r).catch(function(e){return r.error(e)})})}St.fromAsyncIterable=L0;function l1(t){return L0(o1.readableStreamLikeToAsyncGenerator(t))}St.fromReadableStreamLike=l1;function O6(t,r){var e,n,i,o;return l6(this,void 0,void 0,function(){var s,a;return d6(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),e=p6(t),c.label=1;case 1:return[4,e.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(s=n.value,r.next(s),r.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}});var Ni=R(gh=>{"use strict";v();Object.defineProperty(gh,"__esModule",{value:!0});gh.executeSchedule=void 0;function S6(t,r,e,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=r.schedule(function(){e(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}gh.executeSchedule=S6});var Il=R(yh=>{"use strict";v();Object.defineProperty(yh,"__esModule",{value:!0});yh.observeOn=void 0;var R0=Ni(),P6=ue(),T6=he();function x6(t,r){return r===void 0&&(r=0),P6.operate(function(e,n){e.subscribe(T6.createOperatorSubscriber(n,function(i){return R0.executeSchedule(n,t,function(){return n.next(i)},r)},function(){return R0.executeSchedule(n,t,function(){return n.complete()},r)},function(i){return R0.executeSchedule(n,t,function(){return n.error(i)},r)}))})}yh.observeOn=x6});var kl=R(_h=>{"use strict";v();Object.defineProperty(_h,"__esModule",{value:!0});_h.subscribeOn=void 0;var A6=ue();function C6(t,r){return r===void 0&&(r=0),A6.operate(function(e,n){n.add(t.schedule(function(){return e.subscribe(n)},r))})}_h.subscribeOn=C6});var d1=R(wh=>{"use strict";v();Object.defineProperty(wh,"__esModule",{value:!0});wh.scheduleObservable=void 0;var M6=De(),I6=Il(),k6=kl();function L6(t,r){return M6.innerFrom(t).pipe(k6.subscribeOn(r),I6.observeOn(r))}wh.scheduleObservable=L6});var p1=R(Eh=>{"use strict";v();Object.defineProperty(Eh,"__esModule",{value:!0});Eh.schedulePromise=void 0;var R6=De(),N6=Il(),F6=kl();function j6(t,r){return R6.innerFrom(t).pipe(F6.subscribeOn(r),N6.observeOn(r))}Eh.schedulePromise=j6});var f1=R(Oh=>{"use strict";v();Object.defineProperty(Oh,"__esModule",{value:!0});Oh.scheduleArray=void 0;var D6=mt();function q6(t,r){return new D6.Observable(function(e){var n=0;return r.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}Oh.scheduleArray=q6});var N0=R(Sh=>{"use strict";v();Object.defineProperty(Sh,"__esModule",{value:!0});Sh.scheduleIterable=void 0;var B6=mt(),W6=M0(),$6=dt(),h1=Ni();function U6(t,r){return new B6.Observable(function(e){var n;return h1.executeSchedule(e,r,function(){n=t[W6.iterator](),h1.executeSchedule(e,r,function(){var i,o,s;try{i=n.next(),o=i.value,s=i.done}catch(a){e.error(a);return}s?e.complete():e.next(o)},0,!0)}),function(){return $6.isFunction(n==null?void 0:n.return)&&n.return()}})}Sh.scheduleIterable=U6});var F0=R(Ph=>{"use strict";v();Object.defineProperty(Ph,"__esModule",{value:!0});Ph.scheduleAsyncIterable=void 0;var z6=mt(),m1=Ni();function V6(t,r){if(!t)throw new Error("Iterable cannot be null");return new z6.Observable(function(e){m1.executeSchedule(e,r,function(){var n=t[Symbol.asyncIterator]();m1.executeSchedule(e,r,function(){n.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}Ph.scheduleAsyncIterable=V6});var v1=R(Th=>{"use strict";v();Object.defineProperty(Th,"__esModule",{value:!0});Th.scheduleReadableStreamLike=void 0;var H6=F0(),G6=bh();function Z6(t,r){return H6.scheduleAsyncIterable(G6.readableStreamLikeToAsyncGenerator(t),r)}Th.scheduleReadableStreamLike=Z6});var j0=R(xh=>{"use strict";v();Object.defineProperty(xh,"__esModule",{value:!0});xh.scheduled=void 0;var J6=d1(),Y6=p1(),K6=f1(),X6=N0(),Q6=F0(),e9=x0(),t9=T0(),r9=dh(),n9=I0(),i9=A0(),o9=C0(),s9=bh(),a9=v1();function u9(t,r){if(t!=null){if(e9.isInteropObservable(t))return J6.scheduleObservable(t,r);if(r9.isArrayLike(t))return K6.scheduleArray(t,r);if(t9.isPromise(t))return Y6.schedulePromise(t,r);if(i9.isAsyncIterable(t))return Q6.scheduleAsyncIterable(t,r);if(n9.isIterable(t))return X6.scheduleIterable(t,r);if(s9.isReadableStreamLike(t))return a9.scheduleReadableStreamLike(t,r)}throw o9.createInvalidObservableTypeError(t)}xh.scheduled=u9});var Fi=R(Ah=>{"use strict";v();Object.defineProperty(Ah,"__esModule",{value:!0});Ah.from=void 0;var c9=j0(),l9=De();function d9(t,r){return r?c9.scheduled(t,r):l9.innerFrom(t)}Ah.from=d9});var Mh=R(Ch=>{"use strict";v();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.of=void 0;var p9=jr(),f9=Fi();function h9(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=p9.popScheduler(t);return f9.from(t,e)}Ch.of=h9});var D0=R(Ih=>{"use strict";v();Object.defineProperty(Ih,"__esModule",{value:!0});Ih.throwError=void 0;var m9=mt(),v9=dt();function b9(t,r){var e=v9.isFunction(t)?t:function(){return t},n=function(i){return i.error(e())};return new m9.Observable(r?function(i){return r.schedule(n,0,i)}:n)}Ih.throwError=b9});var kh=R(ji=>{"use strict";v();Object.defineProperty(ji,"__esModule",{value:!0});ji.observeNotification=ji.Notification=ji.NotificationKind=void 0;var g9=jn(),y9=Mh(),_9=D0(),w9=dt(),E9;(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(E9=ji.NotificationKind||(ji.NotificationKind={}));var O9=function(){function t(r,e,n){this.kind=r,this.value=e,this.error=n,this.hasValue=r==="N"}return t.prototype.observe=function(r){return b1(this,r)},t.prototype.do=function(r,e,n){var i=this,o=i.kind,s=i.value,a=i.error;return o==="N"?r==null?void 0:r(s):o==="E"?e==null?void 0:e(a):n==null?void 0:n()},t.prototype.accept=function(r,e,n){var i;return w9.isFunction((i=r)===null||i===void 0?void 0:i.next)?this.observe(r):this.do(r,e,n)},t.prototype.toObservable=function(){var r=this,e=r.kind,n=r.value,i=r.error,o=e==="N"?y9.of(n):e==="E"?_9.throwError(function(){return i}):e==="C"?g9.EMPTY:0;if(!o)throw new TypeError("Unexpected notification kind "+e);return o},t.createNext=function(r){return new t("N",r)},t.createError=function(r){return new t("E",void 0,r)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();ji.Notification=O9;function b1(t,r){var e,n,i,o=t,s=o.kind,a=o.value,c=o.error;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(e=r.next)===null||e===void 0||e.call(r,a):s==="E"?(n=r.error)===null||n===void 0||n.call(r,c):(i=r.complete)===null||i===void 0||i.call(r)}ji.observeNotification=b1});var y1=R(Lh=>{"use strict";v();Object.defineProperty(Lh,"__esModule",{value:!0});Lh.isObservable=void 0;var S9=mt(),g1=dt();function P9(t){return!!t&&(t instanceof S9.Observable||g1.isFunction(t.lift)&&g1.isFunction(t.subscribe))}Lh.isObservable=P9});var _o=R(Rh=>{"use strict";v();Object.defineProperty(Rh,"__esModule",{value:!0});Rh.EmptyError=void 0;var T9=vo();Rh.EmptyError=T9.createErrorClass(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}})});var _1=R(Nh=>{"use strict";v();Object.defineProperty(Nh,"__esModule",{value:!0});Nh.lastValueFrom=void 0;var x9=_o();function A9(t,r){var e=typeof r=="object";return new Promise(function(n,i){var o=!1,s;t.subscribe({next:function(a){s=a,o=!0},error:i,complete:function(){o?n(s):e?n(r.defaultValue):i(new x9.EmptyError)}})})}Nh.lastValueFrom=A9});var w1=R(Fh=>{"use strict";v();Object.defineProperty(Fh,"__esModule",{value:!0});Fh.firstValueFrom=void 0;var C9=_o(),M9=iu();function I9(t,r){var e=typeof r=="object";return new Promise(function(n,i){var o=new M9.SafeSubscriber({next:function(s){n(s),o.unsubscribe()},error:i,complete:function(){e?n(r.defaultValue):i(new C9.EmptyError)}});t.subscribe(o)})}Fh.firstValueFrom=I9});var q0=R(jh=>{"use strict";v();Object.defineProperty(jh,"__esModule",{value:!0});jh.ArgumentOutOfRangeError=void 0;var k9=vo();jh.ArgumentOutOfRangeError=k9.createErrorClass(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var B0=R(Dh=>{"use strict";v();Object.defineProperty(Dh,"__esModule",{value:!0});Dh.NotFoundError=void 0;var L9=vo();Dh.NotFoundError=L9.createErrorClass(function(t){return function(e){t(this),this.name="NotFoundError",this.message=e}})});var W0=R(qh=>{"use strict";v();Object.defineProperty(qh,"__esModule",{value:!0});qh.SequenceError=void 0;var R9=vo();qh.SequenceError=R9.createErrorClass(function(t){return function(e){t(this),this.name="SequenceError",this.message=e}})});var Wh=R(Bh=>{"use strict";v();Object.defineProperty(Bh,"__esModule",{value:!0});Bh.isValidDate=void 0;function N9(t){return t instanceof Date&&!isNaN(t)}Bh.isValidDate=N9});var $h=R(Is=>{"use strict";v();Object.defineProperty(Is,"__esModule",{value:!0});Is.timeout=Is.TimeoutError=void 0;var F9=Fr(),j9=Wh(),D9=ue(),q9=De(),B9=vo(),W9=he(),$9=Ni();Is.TimeoutError=B9.createErrorClass(function(t){return function(e){e===void 0&&(e=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}});function U9(t,r){var e=j9.isValidDate(t)?{first:t}:typeof t=="number"?{each:t}:t,n=e.first,i=e.each,o=e.with,s=o===void 0?z9:o,a=e.scheduler,c=a===void 0?r??F9.asyncScheduler:a,l=e.meta,p=l===void 0?null:l;if(n==null&&i==null)throw new TypeError("No timeout provided.");return D9.operate(function(h,f){var b,g,w=null,_=0,S=function(x){g=$9.executeSchedule(f,c,function(){try{b.unsubscribe(),q9.innerFrom(s({meta:p,lastValue:w,seen:_})).subscribe(f)}catch(C){f.error(C)}},x)};b=h.subscribe(W9.createOperatorSubscriber(f,function(x){g==null||g.unsubscribe(),_++,f.next(w=x),i>0&&S(i)},void 0,void 0,function(){g!=null&&g.closed||g==null||g.unsubscribe(),w=null})),!_&&S(n!=null?typeof n=="number"?n:+n-c.now():i)})}Is.timeout=U9;function z9(t){throw new Is.TimeoutError(t)}});var wo=R(Uh=>{"use strict";v();Object.defineProperty(Uh,"__esModule",{value:!0});Uh.map=void 0;var V9=ue(),H9=he();function G9(t,r){return V9.operate(function(e,n){var i=0;e.subscribe(H9.createOperatorSubscriber(n,function(o){n.next(t.call(r,o,i++))}))})}Uh.map=G9});var Oo=R(Eo=>{"use strict";v();var Z9=Eo&&Eo.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},J9=Eo&&Eo.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.mapOneOrManyArgs=void 0;var Y9=wo(),K9=Array.isArray;function X9(t,r){return K9(r)?t.apply(void 0,J9([],Z9(r))):t(r)}function Q9(t){return Y9.map(function(r){return X9(t,r)})}Eo.mapOneOrManyArgs=Q9});var U0=R(So=>{"use strict";v();var eZ=So&&So.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},E1=So&&So.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(So,"__esModule",{value:!0});So.bindCallbackInternals=void 0;var tZ=Ml(),rZ=mt(),nZ=kl(),iZ=Oo(),oZ=Il(),sZ=sh();function $0(t,r,e,n){if(e)if(tZ.isScheduler(e))n=e;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return $0(t,r,n).apply(this,i).pipe(iZ.mapOneOrManyArgs(e))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return $0(t,r).apply(this,i).pipe(nZ.subscribeOn(n),oZ.observeOn(n))}:function(){for(var i=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new sZ.AsyncSubject,c=!0;return new rZ.Observable(function(l){var p=a.subscribe(l);if(c){c=!1;var h=!1,f=!1;r.apply(i,E1(E1([],eZ(o)),[function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];if(t){var w=b.shift();if(w!=null){a.error(w);return}}a.next(1<b.length?b:b[0]),f=!0,h&&a.complete()}])),f&&a.complete(),h=!0}return p})}}So.bindCallbackInternals=$0});var O1=R(zh=>{"use strict";v();Object.defineProperty(zh,"__esModule",{value:!0});zh.bindCallback=void 0;var aZ=U0();function uZ(t,r,e){return aZ.bindCallbackInternals(!1,t,r,e)}zh.bindCallback=uZ});var S1=R(Vh=>{"use strict";v();Object.defineProperty(Vh,"__esModule",{value:!0});Vh.bindNodeCallback=void 0;var cZ=U0();function lZ(t,r,e){return cZ.bindCallbackInternals(!0,t,r,e)}Vh.bindNodeCallback=lZ});var z0=R(Hh=>{"use strict";v();Object.defineProperty(Hh,"__esModule",{value:!0});Hh.argsArgArrayOrObject=void 0;var dZ=Array.isArray,pZ=Object.getPrototypeOf,fZ=Object.prototype,hZ=Object.keys;function mZ(t){if(t.length===1){var r=t[0];if(dZ(r))return{args:r,keys:null};if(vZ(r)){var e=hZ(r);return{args:e.map(function(n){return r[n]}),keys:e}}}return{args:t,keys:null}}Hh.argsArgArrayOrObject=mZ;function vZ(t){return t&&typeof t=="object"&&pZ(t)===fZ}});var V0=R(Gh=>{"use strict";v();Object.defineProperty(Gh,"__esModule",{value:!0});Gh.createObject=void 0;function bZ(t,r){return t.reduce(function(e,n,i){return e[n]=r[i],e},{})}Gh.createObject=bZ});var Zh=R(Tu=>{"use strict";v();Object.defineProperty(Tu,"__esModule",{value:!0});Tu.combineLatestInit=Tu.combineLatest=void 0;var gZ=mt(),yZ=z0(),x1=Fi(),A1=ar(),_Z=Oo(),P1=jr(),wZ=V0(),EZ=he(),OZ=Ni();function SZ(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=P1.popScheduler(t),n=P1.popResultSelector(t),i=yZ.argsArgArrayOrObject(t),o=i.args,s=i.keys;if(o.length===0)return x1.from([],e);var a=new gZ.Observable(C1(o,e,s?function(c){return wZ.createObject(s,c)}:A1.identity));return n?a.pipe(_Z.mapOneOrManyArgs(n)):a}Tu.combineLatest=SZ;function C1(t,r,e){return e===void 0&&(e=A1.identity),function(n){T1(r,function(){for(var i=t.length,o=new Array(i),s=i,a=i,c=function(p){T1(r,function(){var h=x1.from(t[p],r),f=!1;h.subscribe(EZ.createOperatorSubscriber(n,function(b){o[p]=b,f||(f=!0,a--),a||n.next(e(o.slice()))},function(){--s||n.complete()}))},n)},l=0;l<i;l++)c(l)},n)}}Tu.combineLatestInit=C1;function T1(t,r,e){t?OZ.executeSchedule(e,t,r):r()}});var Yh=R(Jh=>{"use strict";v();Object.defineProperty(Jh,"__esModule",{value:!0});Jh.mergeInternals=void 0;var PZ=De(),TZ=Ni(),M1=he();function xZ(t,r,e,n,i,o,s,a){var c=[],l=0,p=0,h=!1,f=function(){h&&!c.length&&!l&&r.complete()},b=function(w){return l<n?g(w):c.push(w)},g=function(w){o&&r.next(w),l++;var _=!1;PZ.innerFrom(e(w,p++)).subscribe(M1.createOperatorSubscriber(r,function(S){i==null||i(S),o?b(S):r.next(S)},function(){_=!0},void 0,function(){if(_)try{l--;for(var S=function(){var x=c.shift();s?TZ.executeSchedule(r,s,function(){return g(x)}):g(x)};c.length&&l<n;)S();f()}catch(x){r.error(x)}}))};return t.subscribe(M1.createOperatorSubscriber(r,b,function(){h=!0,f()})),function(){a==null||a()}}Jh.mergeInternals=xZ});var Di=R(Kh=>{"use strict";v();Object.defineProperty(Kh,"__esModule",{value:!0});Kh.mergeMap=void 0;var AZ=wo(),CZ=De(),MZ=ue(),IZ=Yh(),kZ=dt();function I1(t,r,e){return e===void 0&&(e=1/0),kZ.isFunction(r)?I1(function(n,i){return AZ.map(function(o,s){return r(n,o,i,s)})(CZ.innerFrom(t(n,i)))},e):(typeof r=="number"&&(e=r),MZ.operate(function(n,i){return IZ.mergeInternals(n,i,t,e)}))}Kh.mergeMap=I1});var Ll=R(Xh=>{"use strict";v();Object.defineProperty(Xh,"__esModule",{value:!0});Xh.mergeAll=void 0;var LZ=Di(),RZ=ar();function NZ(t){return t===void 0&&(t=1/0),LZ.mergeMap(RZ.identity,t)}Xh.mergeAll=NZ});var em=R(Qh=>{"use strict";v();Object.defineProperty(Qh,"__esModule",{value:!0});Qh.concatAll=void 0;var FZ=Ll();function jZ(){return FZ.mergeAll(1)}Qh.concatAll=jZ});var Rl=R(tm=>{"use strict";v();Object.defineProperty(tm,"__esModule",{value:!0});tm.concat=void 0;var DZ=em(),qZ=jr(),BZ=Fi();function WZ(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return DZ.concatAll()(BZ.from(t,qZ.popScheduler(t)))}tm.concat=WZ});var Nl=R(rm=>{"use strict";v();Object.defineProperty(rm,"__esModule",{value:!0});rm.defer=void 0;var $Z=mt(),UZ=De();function zZ(t){return new $Z.Observable(function(r){UZ.innerFrom(t()).subscribe(r)})}rm.defer=zZ});var k1=R(nm=>{"use strict";v();Object.defineProperty(nm,"__esModule",{value:!0});nm.connectable=void 0;var VZ=ur(),HZ=mt(),GZ=Nl(),ZZ={connector:function(){return new VZ.Subject},resetOnDisconnect:!0};function JZ(t,r){r===void 0&&(r=ZZ);var e=null,n=r.connector,i=r.resetOnDisconnect,o=i===void 0?!0:i,s=n(),a=new HZ.Observable(function(c){return s.subscribe(c)});return a.connect=function(){return(!e||e.closed)&&(e=GZ.defer(function(){return t}).subscribe(s),o&&e.add(function(){return s=n()})),e},a}nm.connectable=JZ});var L1=R(im=>{"use strict";v();Object.defineProperty(im,"__esModule",{value:!0});im.forkJoin=void 0;var YZ=mt(),KZ=z0(),XZ=De(),QZ=jr(),e5=he(),t5=Oo(),r5=V0();function n5(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=QZ.popResultSelector(t),n=KZ.argsArgArrayOrObject(t),i=n.args,o=n.keys,s=new YZ.Observable(function(a){var c=i.length;if(!c){a.complete();return}for(var l=new Array(c),p=c,h=c,f=function(g){var w=!1;XZ.innerFrom(i[g]).subscribe(e5.createOperatorSubscriber(a,function(_){w||(w=!0,h--),l[g]=_},function(){return p--},void 0,function(){(!p||!w)&&(h||a.next(o?r5.createObject(o,l):l),a.complete())}))},b=0;b<c;b++)f(b)});return e?s.pipe(t5.mapOneOrManyArgs(e)):s}im.forkJoin=n5});var N1=R(xu=>{"use strict";v();var i5=xu&&xu.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o};Object.defineProperty(xu,"__esModule",{value:!0});xu.fromEvent=void 0;var o5=De(),s5=mt(),a5=Di(),u5=dh(),ks=dt(),c5=Oo(),l5=["addListener","removeListener"],d5=["addEventListener","removeEventListener"],p5=["on","off"];function H0(t,r,e,n){if(ks.isFunction(e)&&(n=e,e=void 0),n)return H0(t,r,e).pipe(c5.mapOneOrManyArgs(n));var i=i5(m5(t)?d5.map(function(a){return function(c){return t[a](r,c,e)}}):f5(t)?l5.map(R1(t,r)):h5(t)?p5.map(R1(t,r)):[],2),o=i[0],s=i[1];if(!o&&u5.isArrayLike(t))return a5.mergeMap(function(a){return H0(a,r,e)})(o5.innerFrom(t));if(!o)throw new TypeError("Invalid event target");return new s5.Observable(function(a){var c=function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];return a.next(1<l.length?l:l[0])};return o(c),function(){return s(c)}})}xu.fromEvent=H0;function R1(t,r){return function(e){return function(n){return t[e](r,n)}}}function f5(t){return ks.isFunction(t.addListener)&&ks.isFunction(t.removeListener)}function h5(t){return ks.isFunction(t.on)&&ks.isFunction(t.off)}function m5(t){return ks.isFunction(t.addEventListener)&&ks.isFunction(t.removeEventListener)}});var j1=R(om=>{"use strict";v();Object.defineProperty(om,"__esModule",{value:!0});om.fromEventPattern=void 0;var v5=mt(),b5=dt(),g5=Oo();function F1(t,r,e){return e?F1(t,r).pipe(g5.mapOneOrManyArgs(e)):new v5.Observable(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o=t(i);return b5.isFunction(r)?function(){return r(i,o)}:void 0})}om.fromEventPattern=F1});var q1=R(Au=>{"use strict";v();var y5=Au&&Au.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(l[0]===6&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=r.call(t,e)}catch(p){l=[6,p],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(Au,"__esModule",{value:!0});Au.generate=void 0;var D1=ar(),_5=Ml(),w5=Nl(),E5=N0();function O5(t,r,e,n,i){var o,s,a,c;arguments.length===1?(o=t,c=o.initialState,r=o.condition,e=o.iterate,s=o.resultSelector,a=s===void 0?D1.identity:s,i=o.scheduler):(c=t,!n||_5.isScheduler(n)?(a=D1.identity,i=n):a=n);function l(){var p;return y5(this,function(h){switch(h.label){case 0:p=c,h.label=1;case 1:return!r||r(p)?[4,a(p)]:[3,4];case 2:h.sent(),h.label=3;case 3:return p=e(p),[3,1];case 4:return[2]}})}return w5.defer(i?function(){return E5.scheduleIterable(l(),i)}:l)}Au.generate=O5});var B1=R(sm=>{"use strict";v();Object.defineProperty(sm,"__esModule",{value:!0});sm.iif=void 0;var S5=Nl();function P5(t,r,e){return S5.defer(function(){return t()?r:e})}sm.iif=P5});var Po=R(am=>{"use strict";v();Object.defineProperty(am,"__esModule",{value:!0});am.timer=void 0;var T5=mt(),x5=Fr(),A5=Ml(),C5=Wh();function M5(t,r,e){t===void 0&&(t=0),e===void 0&&(e=x5.async);var n=-1;return r!=null&&(A5.isScheduler(r)?e=r:n=r),new T5.Observable(function(i){var o=C5.isValidDate(t)?+t-e.now():t;o<0&&(o=0);var s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}am.timer=M5});var G0=R(um=>{"use strict";v();Object.defineProperty(um,"__esModule",{value:!0});um.interval=void 0;var I5=Fr(),k5=Po();function L5(t,r){return t===void 0&&(t=0),r===void 0&&(r=I5.asyncScheduler),t<0&&(t=0),k5.timer(t,t,r)}um.interval=L5});var $1=R(cm=>{"use strict";v();Object.defineProperty(cm,"__esModule",{value:!0});cm.merge=void 0;var R5=Ll(),N5=De(),F5=jn(),W1=jr(),j5=Fi();function D5(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=W1.popScheduler(t),n=W1.popNumber(t,1/0),i=t;return i.length?i.length===1?N5.innerFrom(i[0]):R5.mergeAll(n)(j5.from(i,e)):F5.EMPTY}cm.merge=D5});var Z0=R(Ls=>{"use strict";v();Object.defineProperty(Ls,"__esModule",{value:!0});Ls.never=Ls.NEVER=void 0;var q5=mt(),B5=sr();Ls.NEVER=new q5.Observable(B5.noop);function W5(){return Ls.NEVER}Ls.never=W5});var Rs=R(lm=>{"use strict";v();Object.defineProperty(lm,"__esModule",{value:!0});lm.argsOrArgArray=void 0;var $5=Array.isArray;function U5(t){return t.length===1&&$5(t[0])?t[0]:t}lm.argsOrArgArray=U5});var J0=R(dm=>{"use strict";v();Object.defineProperty(dm,"__esModule",{value:!0});dm.onErrorResumeNext=void 0;var z5=mt(),V5=Rs(),H5=he(),U1=sr(),G5=De();function Z5(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=V5.argsOrArgArray(t);return new z5.Observable(function(n){var i=0,o=function(){if(i<e.length){var s=void 0;try{s=G5.innerFrom(e[i++])}catch{o();return}var a=new H5.OperatorSubscriber(n,void 0,U1.noop,U1.noop);s.subscribe(a),a.add(o)}else n.complete()};o()})}dm.onErrorResumeNext=Z5});var z1=R(pm=>{"use strict";v();Object.defineProperty(pm,"__esModule",{value:!0});pm.pairs=void 0;var J5=Fi();function Y5(t,r){return J5.from(Object.entries(t),r)}pm.pairs=Y5});var V1=R(fm=>{"use strict";v();Object.defineProperty(fm,"__esModule",{value:!0});fm.not=void 0;function K5(t,r){return function(e,n){return!t.call(r,e,n)}}fm.not=K5});var Ns=R(hm=>{"use strict";v();Object.defineProperty(hm,"__esModule",{value:!0});hm.filter=void 0;var X5=ue(),Q5=he();function e8(t,r){return X5.operate(function(e,n){var i=0;e.subscribe(Q5.createOperatorSubscriber(n,function(o){return t.call(r,o,i++)&&n.next(o)}))})}hm.filter=e8});var Z1=R(mm=>{"use strict";v();Object.defineProperty(mm,"__esModule",{value:!0});mm.partition=void 0;var t8=V1(),H1=Ns(),G1=De();function r8(t,r,e){return[H1.filter(r,e)(G1.innerFrom(t)),H1.filter(t8.not(r,e))(G1.innerFrom(t))]}mm.partition=r8});var Y0=R(Cu=>{"use strict";v();Object.defineProperty(Cu,"__esModule",{value:!0});Cu.raceInit=Cu.race=void 0;var n8=mt(),J1=De(),i8=Rs(),o8=he();function s8(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t=i8.argsOrArgArray(t),t.length===1?J1.innerFrom(t[0]):new n8.Observable(Y1(t))}Cu.race=s8;function Y1(t){return function(r){for(var e=[],n=function(o){e.push(J1.innerFrom(t[o]).subscribe(o8.createOperatorSubscriber(r,function(s){if(e){for(var a=0;a<e.length;a++)a!==o&&e[a].unsubscribe();e=null}r.next(s)})))},i=0;e&&!r.closed&&i<t.length;i++)n(i)}}Cu.raceInit=Y1});var K1=R(vm=>{"use strict";v();Object.defineProperty(vm,"__esModule",{value:!0});vm.range=void 0;var a8=mt(),u8=jn();function c8(t,r,e){if(r==null&&(r=t,t=0),r<=0)return u8.EMPTY;var n=r+t;return new a8.Observable(e?function(i){var o=t;return e.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=t;o<n&&!i.closed;)i.next(o++);i.complete()})}vm.range=c8});var X1=R(bm=>{"use strict";v();Object.defineProperty(bm,"__esModule",{value:!0});bm.using=void 0;var l8=mt(),d8=De(),p8=jn();function f8(t,r){return new l8.Observable(function(e){var n=t(),i=r(n),o=i?d8.innerFrom(i):p8.EMPTY;return o.subscribe(e),function(){n&&n.unsubscribe()}})}bm.using=f8});var gm=R(To=>{"use strict";v();var h8=To&&To.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},m8=To&&To.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(To,"__esModule",{value:!0});To.zip=void 0;var v8=mt(),b8=De(),g8=Rs(),y8=jn(),_8=he(),w8=jr();function E8(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=w8.popResultSelector(t),n=g8.argsOrArgArray(t);return n.length?new v8.Observable(function(i){var o=n.map(function(){return[]}),s=n.map(function(){return!1});i.add(function(){o=s=null});for(var a=function(l){b8.innerFrom(n[l]).subscribe(_8.createOperatorSubscriber(i,function(p){if(o[l].push(p),o.every(function(f){return f.length})){var h=o.map(function(f){return f.shift()});i.next(e?e.apply(void 0,m8([],h8(h))):h),o.some(function(f,b){return!f.length&&s[b]})&&i.complete()}},function(){s[l]=!0,!o[l].length&&i.complete()}))},c=0;!i.closed&&c<n.length;c++)a(c);return function(){o=s=null}}):y8.EMPTY}To.zip=E8});var eC=R(Q1=>{"use strict";v();Object.defineProperty(Q1,"__esModule",{value:!0})});var K0=R(ym=>{"use strict";v();Object.defineProperty(ym,"__esModule",{value:!0});ym.audit=void 0;var O8=ue(),S8=De(),tC=he();function P8(t){return O8.operate(function(r,e){var n=!1,i=null,o=null,s=!1,a=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var l=i;i=null,e.next(l)}s&&e.complete()},c=function(){o=null,s&&e.complete()};r.subscribe(tC.createOperatorSubscriber(e,function(l){n=!0,i=l,o||S8.innerFrom(t(l)).subscribe(o=tC.createOperatorSubscriber(e,a,c))},function(){s=!0,(!n||!o||o.closed)&&e.complete()}))})}ym.audit=P8});var rC=R(_m=>{"use strict";v();Object.defineProperty(_m,"__esModule",{value:!0});_m.auditTime=void 0;var T8=Fr(),x8=K0(),A8=Po();function C8(t,r){return r===void 0&&(r=T8.asyncScheduler),x8.audit(function(){return A8.timer(t,r)})}_m.auditTime=C8});var iC=R(wm=>{"use strict";v();Object.defineProperty(wm,"__esModule",{value:!0});wm.buffer=void 0;var M8=ue(),I8=sr(),nC=he(),k8=De();function L8(t){return M8.operate(function(r,e){var n=[];return r.subscribe(nC.createOperatorSubscriber(e,function(i){return n.push(i)},function(){e.next(n),e.complete()})),k8.innerFrom(t).subscribe(nC.createOperatorSubscriber(e,function(){var i=n;n=[],e.next(i)},I8.noop)),function(){n=null}})}wm.buffer=L8});var oC=R(Mu=>{"use strict";v();var X0=Mu&&Mu.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.bufferCount=void 0;var R8=ue(),N8=he(),F8=Ri();function j8(t,r){return r===void 0&&(r=null),r=r??t,R8.operate(function(e,n){var i=[],o=0;e.subscribe(N8.createOperatorSubscriber(n,function(s){var a,c,l,p,h=null;o++%r===0&&i.push([]);try{for(var f=X0(i),b=f.next();!b.done;b=f.next()){var g=b.value;g.push(s),t<=g.length&&(h=h??[],h.push(g))}}catch(S){a={error:S}}finally{try{b&&!b.done&&(c=f.return)&&c.call(f)}finally{if(a)throw a.error}}if(h)try{for(var w=X0(h),_=w.next();!_.done;_=w.next()){var g=_.value;F8.arrRemove(i,g),n.next(g)}}catch(S){l={error:S}}finally{try{_&&!_.done&&(p=w.return)&&p.call(w)}finally{if(l)throw l.error}}},function(){var s,a;try{for(var c=X0(i),l=c.next();!l.done;l=c.next()){var p=l.value;n.next(p)}}catch(h){s={error:h}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}n.complete()},void 0,function(){i=null}))})}Mu.bufferCount=j8});var aC=R(Iu=>{"use strict";v();var D8=Iu&&Iu.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.bufferTime=void 0;var q8=Jr(),B8=ue(),W8=he(),$8=Ri(),U8=Fr(),z8=jr(),sC=Ni();function V8(t){for(var r,e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(r=z8.popScheduler(n))!==null&&r!==void 0?r:U8.asyncScheduler,s=(e=n[0])!==null&&e!==void 0?e:null,a=n[1]||1/0;return B8.operate(function(c,l){var p=[],h=!1,f=function(w){var _=w.buffer,S=w.subs;S.unsubscribe(),$8.arrRemove(p,w),l.next(_),h&&b()},b=function(){if(p){var w=new q8.Subscription;l.add(w);var _=[],S={buffer:_,subs:w};p.push(S),sC.executeSchedule(w,o,function(){return f(S)},t)}};s!==null&&s>=0?sC.executeSchedule(l,o,b,s,!0):h=!0,b();var g=W8.createOperatorSubscriber(l,function(w){var _,S,x=p.slice();try{for(var C=D8(x),I=C.next();!I.done;I=C.next()){var k=I.value,P=k.buffer;P.push(w),a<=P.length&&f(k)}}catch(D){_={error:D}}finally{try{I&&!I.done&&(S=C.return)&&S.call(C)}finally{if(_)throw _.error}}},function(){for(;p!=null&&p.length;)l.next(p.shift().buffer);g==null||g.unsubscribe(),l.complete(),l.unsubscribe()},void 0,function(){return p=null});c.subscribe(g)})}Iu.bufferTime=V8});var lC=R(ku=>{"use strict";v();var H8=ku&&ku.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ku,"__esModule",{value:!0});ku.bufferToggle=void 0;var G8=Jr(),Z8=ue(),uC=De(),Q0=he(),cC=sr(),J8=Ri();function Y8(t,r){return Z8.operate(function(e,n){var i=[];uC.innerFrom(t).subscribe(Q0.createOperatorSubscriber(n,function(o){var s=[];i.push(s);var a=new G8.Subscription,c=function(){J8.arrRemove(i,s),n.next(s),a.unsubscribe()};a.add(uC.innerFrom(r(o)).subscribe(Q0.createOperatorSubscriber(n,c,cC.noop)))},cC.noop)),e.subscribe(Q0.createOperatorSubscriber(n,function(o){var s,a;try{for(var c=H8(i),l=c.next();!l.done;l=c.next()){var p=l.value;p.push(o)}}catch(h){s={error:h}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}ku.bufferToggle=Y8});var pC=R(Em=>{"use strict";v();Object.defineProperty(Em,"__esModule",{value:!0});Em.bufferWhen=void 0;var K8=ue(),X8=sr(),dC=he(),Q8=De();function eJ(t){return K8.operate(function(r,e){var n=null,i=null,o=function(){i==null||i.unsubscribe();var s=n;n=[],s&&e.next(s),Q8.innerFrom(t()).subscribe(i=dC.createOperatorSubscriber(e,o,X8.noop))};o(),r.subscribe(dC.createOperatorSubscriber(e,function(s){return n==null?void 0:n.push(s)},function(){n&&e.next(n),e.complete()},void 0,function(){return n=i=null}))})}Em.bufferWhen=eJ});var hC=R(Om=>{"use strict";v();Object.defineProperty(Om,"__esModule",{value:!0});Om.catchError=void 0;var tJ=De(),rJ=he(),nJ=ue();function fC(t){return nJ.operate(function(r,e){var n=null,i=!1,o;n=r.subscribe(rJ.createOperatorSubscriber(e,void 0,void 0,function(s){o=tJ.innerFrom(t(s,fC(t)(r))),n?(n.unsubscribe(),n=null,o.subscribe(e)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(e))})}Om.catchError=fC});var ew=R(Sm=>{"use strict";v();Object.defineProperty(Sm,"__esModule",{value:!0});Sm.scanInternals=void 0;var iJ=he();function oJ(t,r,e,n,i){return function(o,s){var a=e,c=r,l=0;o.subscribe(iJ.createOperatorSubscriber(s,function(p){var h=l++;c=a?t(c,p,h):(a=!0,p),n&&s.next(c)},i&&function(){a&&s.next(c),s.complete()}))}}Sm.scanInternals=oJ});var Lu=R(Pm=>{"use strict";v();Object.defineProperty(Pm,"__esModule",{value:!0});Pm.reduce=void 0;var sJ=ew(),aJ=ue();function uJ(t,r){return aJ.operate(sJ.scanInternals(t,r,arguments.length>=2,!1,!0))}Pm.reduce=uJ});var tw=R(Tm=>{"use strict";v();Object.defineProperty(Tm,"__esModule",{value:!0});Tm.toArray=void 0;var cJ=Lu(),lJ=ue(),dJ=function(t,r){return t.push(r),t};function pJ(){return lJ.operate(function(t,r){cJ.reduce(dJ,[])(t).subscribe(r)})}Tm.toArray=pJ});var rw=R(xm=>{"use strict";v();Object.defineProperty(xm,"__esModule",{value:!0});xm.joinAllInternals=void 0;var fJ=ar(),hJ=Oo(),mJ=Tl(),vJ=Di(),bJ=tw();function gJ(t,r){return mJ.pipe(bJ.toArray(),vJ.mergeMap(function(e){return t(e)}),r?hJ.mapOneOrManyArgs(r):fJ.identity)}xm.joinAllInternals=gJ});var nw=R(Am=>{"use strict";v();Object.defineProperty(Am,"__esModule",{value:!0});Am.combineLatestAll=void 0;var yJ=Zh(),_J=rw();function wJ(t){return _J.joinAllInternals(yJ.combineLatest,t)}Am.combineLatestAll=wJ});var mC=R(Cm=>{"use strict";v();Object.defineProperty(Cm,"__esModule",{value:!0});Cm.combineAll=void 0;var EJ=nw();Cm.combineAll=EJ.combineLatestAll});var yC=R(xo=>{"use strict";v();var vC=xo&&xo.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},bC=xo&&xo.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(xo,"__esModule",{value:!0});xo.combineLatest=void 0;var OJ=Zh(),SJ=ue(),PJ=Rs(),TJ=Oo(),xJ=Tl(),AJ=jr();function gC(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=AJ.popResultSelector(t);return e?xJ.pipe(gC.apply(void 0,bC([],vC(t))),TJ.mapOneOrManyArgs(e)):SJ.operate(function(n,i){OJ.combineLatestInit(bC([n],vC(PJ.argsOrArgArray(t))))(i)})}xo.combineLatest=gC});var _C=R(Ao=>{"use strict";v();var CJ=Ao&&Ao.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},MJ=Ao&&Ao.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.combineLatestWith=void 0;var IJ=yC();function kJ(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return IJ.combineLatest.apply(void 0,MJ([],CJ(t)))}Ao.combineLatestWith=kJ});var iw=R(Mm=>{"use strict";v();Object.defineProperty(Mm,"__esModule",{value:!0});Mm.concatMap=void 0;var wC=Di(),LJ=dt();function RJ(t,r){return LJ.isFunction(r)?wC.mergeMap(t,r,1):wC.mergeMap(t,1)}Mm.concatMap=RJ});var OC=R(Im=>{"use strict";v();Object.defineProperty(Im,"__esModule",{value:!0});Im.concatMapTo=void 0;var EC=iw(),NJ=dt();function FJ(t,r){return NJ.isFunction(r)?EC.concatMap(function(){return t},r):EC.concatMap(function(){return t})}Im.concatMapTo=FJ});var SC=R(Co=>{"use strict";v();var jJ=Co&&Co.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},DJ=Co&&Co.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Co,"__esModule",{value:!0});Co.concat=void 0;var qJ=ue(),BJ=em(),WJ=jr(),$J=Fi();function UJ(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=WJ.popScheduler(t);return qJ.operate(function(n,i){BJ.concatAll()($J.from(DJ([n],jJ(t)),e)).subscribe(i)})}Co.concat=UJ});var PC=R(Mo=>{"use strict";v();var zJ=Mo&&Mo.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},VJ=Mo&&Mo.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.concatWith=void 0;var HJ=SC();function GJ(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return HJ.concat.apply(void 0,VJ([],zJ(t)))}Mo.concatWith=GJ});var TC=R(km=>{"use strict";v();Object.defineProperty(km,"__esModule",{value:!0});km.fromSubscribable=void 0;var ZJ=mt();function JJ(t){return new ZJ.Observable(function(r){return t.subscribe(r)})}km.fromSubscribable=JJ});var Rm=R(Lm=>{"use strict";v();Object.defineProperty(Lm,"__esModule",{value:!0});Lm.connect=void 0;var YJ=ur(),KJ=De(),XJ=ue(),QJ=TC(),eY={connector:function(){return new YJ.Subject}};function tY(t,r){r===void 0&&(r=eY);var e=r.connector;return XJ.operate(function(n,i){var o=e();KJ.innerFrom(t(QJ.fromSubscribable(o))).subscribe(i),i.add(n.subscribe(o))})}Lm.connect=tY});var xC=R(Nm=>{"use strict";v();Object.defineProperty(Nm,"__esModule",{value:!0});Nm.count=void 0;var rY=Lu();function nY(t){return rY.reduce(function(r,e,n){return!t||t(e,n)?r+1:r},0)}Nm.count=nY});var CC=R(Fm=>{"use strict";v();Object.defineProperty(Fm,"__esModule",{value:!0});Fm.debounce=void 0;var iY=ue(),oY=sr(),AC=he(),sY=De();function aY(t){return iY.operate(function(r,e){var n=!1,i=null,o=null,s=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var a=i;i=null,e.next(a)}};r.subscribe(AC.createOperatorSubscriber(e,function(a){o==null||o.unsubscribe(),n=!0,i=a,o=AC.createOperatorSubscriber(e,s,oY.noop),sY.innerFrom(t(a)).subscribe(o)},function(){s(),e.complete()},void 0,function(){i=o=null}))})}Fm.debounce=aY});var MC=R(jm=>{"use strict";v();Object.defineProperty(jm,"__esModule",{value:!0});jm.debounceTime=void 0;var uY=Fr(),cY=ue(),lY=he();function dY(t,r){return r===void 0&&(r=uY.asyncScheduler),cY.operate(function(e,n){var i=null,o=null,s=null,a=function(){if(i){i.unsubscribe(),i=null;var l=o;o=null,n.next(l)}};function c(){var l=s+t,p=r.now();if(p<l){i=this.schedule(void 0,l-p),n.add(i);return}a()}e.subscribe(lY.createOperatorSubscriber(n,function(l){o=l,s=r.now(),i||(i=r.schedule(c,t),n.add(i))},function(){a(),n.complete()},void 0,function(){o=i=null}))})}jm.debounceTime=dY});var Fl=R(Dm=>{"use strict";v();Object.defineProperty(Dm,"__esModule",{value:!0});Dm.defaultIfEmpty=void 0;var pY=ue(),fY=he();function hY(t){return pY.operate(function(r,e){var n=!1;r.subscribe(fY.createOperatorSubscriber(e,function(i){n=!0,e.next(i)},function(){n||e.next(t),e.complete()}))})}Dm.defaultIfEmpty=hY});var jl=R(qm=>{"use strict";v();Object.defineProperty(qm,"__esModule",{value:!0});qm.take=void 0;var mY=jn(),vY=ue(),bY=he();function gY(t){return t<=0?function(){return mY.EMPTY}:vY.operate(function(r,e){var n=0;r.subscribe(bY.createOperatorSubscriber(e,function(i){++n<=t&&(e.next(i),t<=n&&e.complete())}))})}qm.take=gY});var ow=R(Bm=>{"use strict";v();Object.defineProperty(Bm,"__esModule",{value:!0});Bm.ignoreElements=void 0;var yY=ue(),_Y=he(),wY=sr();function EY(){return yY.operate(function(t,r){t.subscribe(_Y.createOperatorSubscriber(r,wY.noop))})}Bm.ignoreElements=EY});var sw=R(Wm=>{"use strict";v();Object.defineProperty(Wm,"__esModule",{value:!0});Wm.mapTo=void 0;var OY=wo();function SY(t){return OY.map(function(){return t})}Wm.mapTo=SY});var aw=R($m=>{"use strict";v();Object.defineProperty($m,"__esModule",{value:!0});$m.delayWhen=void 0;var PY=Rl(),IC=jl(),TY=ow(),xY=sw(),AY=Di(),CY=De();function kC(t,r){return r?function(e){return PY.concat(r.pipe(IC.take(1),TY.ignoreElements()),e.pipe(kC(t)))}:AY.mergeMap(function(e,n){return CY.innerFrom(t(e,n)).pipe(IC.take(1),xY.mapTo(e))})}$m.delayWhen=kC});var LC=R(Um=>{"use strict";v();Object.defineProperty(Um,"__esModule",{value:!0});Um.delay=void 0;var MY=Fr(),IY=aw(),kY=Po();function LY(t,r){r===void 0&&(r=MY.asyncScheduler);var e=kY.timer(t,r);return IY.delayWhen(function(){return e})}Um.delay=LY});var RC=R(zm=>{"use strict";v();Object.defineProperty(zm,"__esModule",{value:!0});zm.dematerialize=void 0;var RY=kh(),NY=ue(),FY=he();function jY(){return NY.operate(function(t,r){t.subscribe(FY.createOperatorSubscriber(r,function(e){return RY.observeNotification(e,r)}))})}zm.dematerialize=jY});var FC=R(Vm=>{"use strict";v();Object.defineProperty(Vm,"__esModule",{value:!0});Vm.distinct=void 0;var DY=ue(),NC=he(),qY=sr(),BY=De();function WY(t,r){return DY.operate(function(e,n){var i=new Set;e.subscribe(NC.createOperatorSubscriber(n,function(o){var s=t?t(o):o;i.has(s)||(i.add(s),n.next(o))})),r&&BY.innerFrom(r).subscribe(NC.createOperatorSubscriber(n,function(){return i.clear()},qY.noop))})}Vm.distinct=WY});var uw=R(Hm=>{"use strict";v();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.distinctUntilChanged=void 0;var $Y=ar(),UY=ue(),zY=he();function VY(t,r){return r===void 0&&(r=$Y.identity),t=t??HY,UY.operate(function(e,n){var i,o=!0;e.subscribe(zY.createOperatorSubscriber(n,function(s){var a=r(s);(o||!t(i,a))&&(o=!1,i=a,n.next(s))}))})}Hm.distinctUntilChanged=VY;function HY(t,r){return t===r}});var jC=R(Gm=>{"use strict";v();Object.defineProperty(Gm,"__esModule",{value:!0});Gm.distinctUntilKeyChanged=void 0;var GY=uw();function ZY(t,r){return GY.distinctUntilChanged(function(e,n){return r?r(e[t],n[t]):e[t]===n[t]})}Gm.distinctUntilKeyChanged=ZY});var Dl=R(Zm=>{"use strict";v();Object.defineProperty(Zm,"__esModule",{value:!0});Zm.throwIfEmpty=void 0;var JY=_o(),YY=ue(),KY=he();function XY(t){return t===void 0&&(t=QY),YY.operate(function(r,e){var n=!1;r.subscribe(KY.createOperatorSubscriber(e,function(i){n=!0,e.next(i)},function(){return n?e.complete():e.error(t())}))})}Zm.throwIfEmpty=XY;function QY(){return new JY.EmptyError}});var qC=R(Jm=>{"use strict";v();Object.defineProperty(Jm,"__esModule",{value:!0});Jm.elementAt=void 0;var DC=q0(),eK=Ns(),tK=Dl(),rK=Fl(),nK=jl();function iK(t,r){if(t<0)throw new DC.ArgumentOutOfRangeError;var e=arguments.length>=2;return function(n){return n.pipe(eK.filter(function(i,o){return o===t}),nK.take(1),e?rK.defaultIfEmpty(r):tK.throwIfEmpty(function(){return new DC.ArgumentOutOfRangeError}))}}Jm.elementAt=iK});var BC=R(Io=>{"use strict";v();var oK=Io&&Io.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},sK=Io&&Io.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Io,"__esModule",{value:!0});Io.endWith=void 0;var aK=Rl(),uK=Mh();function cK(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(e){return aK.concat(e,uK.of.apply(void 0,sK([],oK(t))))}}Io.endWith=cK});var WC=R(Ym=>{"use strict";v();Object.defineProperty(Ym,"__esModule",{value:!0});Ym.every=void 0;var lK=ue(),dK=he();function pK(t,r){return lK.operate(function(e,n){var i=0;e.subscribe(dK.createOperatorSubscriber(n,function(o){t.call(r,o,i++,e)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}Ym.every=pK});var cw=R(Km=>{"use strict";v();Object.defineProperty(Km,"__esModule",{value:!0});Km.exhaustMap=void 0;var fK=wo(),$C=De(),hK=ue(),UC=he();function zC(t,r){return r?function(e){return e.pipe(zC(function(n,i){return $C.innerFrom(t(n,i)).pipe(fK.map(function(o,s){return r(n,o,i,s)}))}))}:hK.operate(function(e,n){var i=0,o=null,s=!1;e.subscribe(UC.createOperatorSubscriber(n,function(a){o||(o=UC.createOperatorSubscriber(n,void 0,function(){o=null,s&&n.complete()}),$C.innerFrom(t(a,i++)).subscribe(o))},function(){s=!0,!o&&n.complete()}))})}Km.exhaustMap=zC});var lw=R(Xm=>{"use strict";v();Object.defineProperty(Xm,"__esModule",{value:!0});Xm.exhaustAll=void 0;var mK=cw(),vK=ar();function bK(){return mK.exhaustMap(vK.identity)}Xm.exhaustAll=bK});var VC=R(Qm=>{"use strict";v();Object.defineProperty(Qm,"__esModule",{value:!0});Qm.exhaust=void 0;var gK=lw();Qm.exhaust=gK.exhaustAll});var HC=R(ev=>{"use strict";v();Object.defineProperty(ev,"__esModule",{value:!0});ev.expand=void 0;var yK=ue(),_K=Yh();function wK(t,r,e){return r===void 0&&(r=1/0),r=(r||0)<1?1/0:r,yK.operate(function(n,i){return _K.mergeInternals(n,i,t,r,void 0,!0,e)})}ev.expand=wK});var GC=R(tv=>{"use strict";v();Object.defineProperty(tv,"__esModule",{value:!0});tv.finalize=void 0;var EK=ue();function OK(t){return EK.operate(function(r,e){try{r.subscribe(e)}finally{e.add(t)}})}tv.finalize=OK});var dw=R(Ru=>{"use strict";v();Object.defineProperty(Ru,"__esModule",{value:!0});Ru.createFind=Ru.find=void 0;var SK=ue(),PK=he();function TK(t,r){return SK.operate(ZC(t,r,"value"))}Ru.find=TK;function ZC(t,r,e){var n=e==="index";return function(i,o){var s=0;i.subscribe(PK.createOperatorSubscriber(o,function(a){var c=s++;t.call(r,a,c,i)&&(o.next(n?c:a),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}Ru.createFind=ZC});var JC=R(rv=>{"use strict";v();Object.defineProperty(rv,"__esModule",{value:!0});rv.findIndex=void 0;var xK=ue(),AK=dw();function CK(t,r){return xK.operate(AK.createFind(t,r,"index"))}rv.findIndex=CK});var YC=R(nv=>{"use strict";v();Object.defineProperty(nv,"__esModule",{value:!0});nv.first=void 0;var MK=_o(),IK=Ns(),kK=jl(),LK=Fl(),RK=Dl(),NK=ar();function FK(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?IK.filter(function(i,o){return t(i,o,n)}):NK.identity,kK.take(1),e?LK.defaultIfEmpty(r):RK.throwIfEmpty(function(){return new MK.EmptyError}))}}nv.first=FK});var XC=R(iv=>{"use strict";v();Object.defineProperty(iv,"__esModule",{value:!0});iv.groupBy=void 0;var jK=mt(),DK=De(),qK=ur(),BK=ue(),KC=he();function WK(t,r,e,n){return BK.operate(function(i,o){var s;!r||typeof r=="function"?s=r:(e=r.duration,s=r.element,n=r.connector);var a=new Map,c=function(g){a.forEach(g),g(o)},l=function(g){return c(function(w){return w.error(g)})},p=0,h=!1,f=new KC.OperatorSubscriber(o,function(g){try{var w=t(g),_=a.get(w);if(!_){a.set(w,_=n?n():new qK.Subject);var S=b(w,_);if(o.next(S),e){var x=KC.createOperatorSubscriber(_,function(){_.complete(),x==null||x.unsubscribe()},void 0,void 0,function(){return a.delete(w)});f.add(DK.innerFrom(e(S)).subscribe(x))}}_.next(s?s(g):g)}catch(C){l(C)}},function(){return c(function(g){return g.complete()})},l,function(){return a.clear()},function(){return h=!0,p===0});i.subscribe(f);function b(g,w){var _=new jK.Observable(function(S){p++;var x=w.subscribe(S);return function(){x.unsubscribe(),--p===0&&h&&f.unsubscribe()}});return _.key=g,_}})}iv.groupBy=WK});var QC=R(ov=>{"use strict";v();Object.defineProperty(ov,"__esModule",{value:!0});ov.isEmpty=void 0;var $K=ue(),UK=he();function zK(){return $K.operate(function(t,r){t.subscribe(UK.createOperatorSubscriber(r,function(){r.next(!1),r.complete()},function(){r.next(!0),r.complete()}))})}ov.isEmpty=zK});var pw=R(Nu=>{"use strict";v();var VK=Nu&&Nu.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.takeLast=void 0;var HK=jn(),GK=ue(),ZK=he();function JK(t){return t<=0?function(){return HK.EMPTY}:GK.operate(function(r,e){var n=[];r.subscribe(ZK.createOperatorSubscriber(e,function(i){n.push(i),t<n.length&&n.shift()},function(){var i,o;try{for(var s=VK(n),a=s.next();!a.done;a=s.next()){var c=a.value;e.next(c)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}e.complete()},void 0,function(){n=null}))})}Nu.takeLast=JK});var eM=R(sv=>{"use strict";v();Object.defineProperty(sv,"__esModule",{value:!0});sv.last=void 0;var YK=_o(),KK=Ns(),XK=pw(),QK=Dl(),e7=Fl(),t7=ar();function r7(t,r){var e=arguments.length>=2;return function(n){return n.pipe(t?KK.filter(function(i,o){return t(i,o,n)}):t7.identity,XK.takeLast(1),e?e7.defaultIfEmpty(r):QK.throwIfEmpty(function(){return new YK.EmptyError}))}}sv.last=r7});var tM=R(av=>{"use strict";v();Object.defineProperty(av,"__esModule",{value:!0});av.materialize=void 0;var fw=kh(),n7=ue(),i7=he();function o7(){return n7.operate(function(t,r){t.subscribe(i7.createOperatorSubscriber(r,function(e){r.next(fw.Notification.createNext(e))},function(){r.next(fw.Notification.createComplete()),r.complete()},function(e){r.next(fw.Notification.createError(e)),r.complete()}))})}av.materialize=o7});var rM=R(uv=>{"use strict";v();Object.defineProperty(uv,"__esModule",{value:!0});uv.max=void 0;var s7=Lu(),a7=dt();function u7(t){return s7.reduce(a7.isFunction(t)?function(r,e){return t(r,e)>0?r:e}:function(r,e){return r>e?r:e})}uv.max=u7});var nM=R(cv=>{"use strict";v();Object.defineProperty(cv,"__esModule",{value:!0});cv.flatMap=void 0;var c7=Di();cv.flatMap=c7.mergeMap});var oM=R(lv=>{"use strict";v();Object.defineProperty(lv,"__esModule",{value:!0});lv.mergeMapTo=void 0;var iM=Di(),l7=dt();function d7(t,r,e){return e===void 0&&(e=1/0),l7.isFunction(r)?iM.mergeMap(function(){return t},r,e):(typeof r=="number"&&(e=r),iM.mergeMap(function(){return t},e))}lv.mergeMapTo=d7});var sM=R(dv=>{"use strict";v();Object.defineProperty(dv,"__esModule",{value:!0});dv.mergeScan=void 0;var p7=ue(),f7=Yh();function h7(t,r,e){return e===void 0&&(e=1/0),p7.operate(function(n,i){var o=r;return f7.mergeInternals(n,i,function(s,a){return t(o,s,a)},e,function(s){o=s},!1,void 0,function(){return o=null})})}dv.mergeScan=h7});var uM=R(ko=>{"use strict";v();var m7=ko&&ko.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},v7=ko&&ko.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(ko,"__esModule",{value:!0});ko.merge=void 0;var b7=ue(),g7=Rs(),y7=Ll(),aM=jr(),_7=Fi();function w7(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=aM.popScheduler(t),n=aM.popNumber(t,1/0);return t=g7.argsOrArgArray(t),b7.operate(function(i,o){y7.mergeAll(n)(_7.from(v7([i],m7(t)),e)).subscribe(o)})}ko.merge=w7});var cM=R(Lo=>{"use strict";v();var E7=Lo&&Lo.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},O7=Lo&&Lo.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.mergeWith=void 0;var S7=uM();function P7(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return S7.merge.apply(void 0,O7([],E7(t)))}Lo.mergeWith=P7});var lM=R(pv=>{"use strict";v();Object.defineProperty(pv,"__esModule",{value:!0});pv.min=void 0;var T7=Lu(),x7=dt();function A7(t){return T7.reduce(x7.isFunction(t)?function(r,e){return t(r,e)<0?r:e}:function(r,e){return r<e?r:e})}pv.min=A7});var hv=R(fv=>{"use strict";v();Object.defineProperty(fv,"__esModule",{value:!0});fv.multicast=void 0;var C7=xl(),dM=dt(),M7=Rm();function I7(t,r){var e=dM.isFunction(t)?t:function(){return t};return dM.isFunction(r)?M7.connect(r,{connector:e}):function(n){return new C7.ConnectableObservable(n,e)}}fv.multicast=I7});var fM=R(hi=>{"use strict";v();var k7=hi&&hi.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},L7=hi&&hi.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(hi,"__esModule",{value:!0});hi.onErrorResumeNext=hi.onErrorResumeNextWith=void 0;var R7=Rs(),N7=J0();function pM(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=R7.argsOrArgArray(t);return function(n){return N7.onErrorResumeNext.apply(void 0,L7([n],k7(e)))}}hi.onErrorResumeNextWith=pM;hi.onErrorResumeNext=pM});var hM=R(mv=>{"use strict";v();Object.defineProperty(mv,"__esModule",{value:!0});mv.pairwise=void 0;var F7=ue(),j7=he();function D7(){return F7.operate(function(t,r){var e,n=!1;t.subscribe(j7.createOperatorSubscriber(r,function(i){var o=e;e=i,n&&r.next([o,i]),n=!0}))})}mv.pairwise=D7});var mM=R(vv=>{"use strict";v();Object.defineProperty(vv,"__esModule",{value:!0});vv.pluck=void 0;var q7=wo();function B7(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return q7.map(function(n){for(var i=n,o=0;o<e;o++){var s=i==null?void 0:i[t[o]];if(typeof s<"u")i=s;else return}return i})}vv.pluck=B7});var vM=R(bv=>{"use strict";v();Object.defineProperty(bv,"__esModule",{value:!0});bv.publish=void 0;var W7=ur(),$7=hv(),U7=Rm();function z7(t){return t?function(r){return U7.connect(t)(r)}:function(r){return $7.multicast(new W7.Subject)(r)}}bv.publish=z7});var bM=R(gv=>{"use strict";v();Object.defineProperty(gv,"__esModule",{value:!0});gv.publishBehavior=void 0;var V7=E0(),H7=xl();function G7(t){return function(r){var e=new V7.BehaviorSubject(t);return new H7.ConnectableObservable(r,function(){return e})}}gv.publishBehavior=G7});var gM=R(yv=>{"use strict";v();Object.defineProperty(yv,"__esModule",{value:!0});yv.publishLast=void 0;var Z7=sh(),J7=xl();function Y7(){return function(t){var r=new Z7.AsyncSubject;return new J7.ConnectableObservable(t,function(){return r})}}yv.publishLast=Y7});var _M=R(_v=>{"use strict";v();Object.defineProperty(_v,"__esModule",{value:!0});_v.publishReplay=void 0;var K7=oh(),X7=hv(),yM=dt();function Q7(t,r,e,n){e&&!yM.isFunction(e)&&(n=e);var i=yM.isFunction(e)?e:void 0;return function(o){return X7.multicast(new K7.ReplaySubject(t,r,n),i)(o)}}_v.publishReplay=Q7});var wM=R(Ro=>{"use strict";v();var eX=Ro&&Ro.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},tX=Ro&&Ro.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.raceWith=void 0;var rX=Y0(),nX=ue(),iX=ar();function oX(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length?nX.operate(function(e,n){rX.raceInit(tX([e],eX(t)))(n)}):iX.identity}Ro.raceWith=oX});var OM=R(wv=>{"use strict";v();Object.defineProperty(wv,"__esModule",{value:!0});wv.repeat=void 0;var sX=jn(),aX=ue(),EM=he(),uX=De(),cX=Po();function lX(t){var r,e=1/0,n;return t!=null&&(typeof t=="object"?(r=t.count,e=r===void 0?1/0:r,n=t.delay):e=t),e<=0?function(){return sX.EMPTY}:aX.operate(function(i,o){var s=0,a,c=function(){if(a==null||a.unsubscribe(),a=null,n!=null){var p=typeof n=="number"?cX.timer(n):uX.innerFrom(n(s)),h=EM.createOperatorSubscriber(o,function(){h.unsubscribe(),l()});p.subscribe(h)}else l()},l=function(){var p=!1;a=i.subscribe(EM.createOperatorSubscriber(o,void 0,function(){++s<e?a?c():p=!0:o.complete()})),p&&c()};l()})}wv.repeat=lX});var PM=R(Ev=>{"use strict";v();Object.defineProperty(Ev,"__esModule",{value:!0});Ev.repeatWhen=void 0;var dX=De(),pX=ur(),fX=ue(),SM=he();function hX(t){return fX.operate(function(r,e){var n,i=!1,o,s=!1,a=!1,c=function(){return a&&s&&(e.complete(),!0)},l=function(){return o||(o=new pX.Subject,dX.innerFrom(t(o)).subscribe(SM.createOperatorSubscriber(e,function(){n?p():i=!0},function(){s=!0,c()}))),o},p=function(){a=!1,n=r.subscribe(SM.createOperatorSubscriber(e,void 0,function(){a=!0,!c()&&l().next()})),i&&(n.unsubscribe(),n=null,i=!1,p())};p()})}Ev.repeatWhen=hX});var xM=R(Ov=>{"use strict";v();Object.defineProperty(Ov,"__esModule",{value:!0});Ov.retry=void 0;var mX=ue(),TM=he(),vX=ar(),bX=Po(),gX=De();function yX(t){t===void 0&&(t=1/0);var r;t&&typeof t=="object"?r=t:r={count:t};var e=r.count,n=e===void 0?1/0:e,i=r.delay,o=r.resetOnSuccess,s=o===void 0?!1:o;return n<=0?vX.identity:mX.operate(function(a,c){var l=0,p,h=function(){var f=!1;p=a.subscribe(TM.createOperatorSubscriber(c,function(b){s&&(l=0),c.next(b)},void 0,function(b){if(l++<n){var g=function(){p?(p.unsubscribe(),p=null,h()):f=!0};if(i!=null){var w=typeof i=="number"?bX.timer(i):gX.innerFrom(i(b,l)),_=TM.createOperatorSubscriber(c,function(){_.unsubscribe(),g()},function(){c.complete()});w.subscribe(_)}else g()}else c.error(b)})),f&&(p.unsubscribe(),p=null,h())};h()})}Ov.retry=yX});var CM=R(Sv=>{"use strict";v();Object.defineProperty(Sv,"__esModule",{value:!0});Sv.retryWhen=void 0;var _X=De(),wX=ur(),EX=ue(),AM=he();function OX(t){return EX.operate(function(r,e){var n,i=!1,o,s=function(){n=r.subscribe(AM.createOperatorSubscriber(e,void 0,void 0,function(a){o||(o=new wX.Subject,_X.innerFrom(t(o)).subscribe(AM.createOperatorSubscriber(e,function(){return n?s():i=!0}))),o&&o.next(a)})),i&&(n.unsubscribe(),n=null,i=!1,s())};s()})}Sv.retryWhen=OX});var hw=R(Pv=>{"use strict";v();Object.defineProperty(Pv,"__esModule",{value:!0});Pv.sample=void 0;var SX=De(),PX=ue(),TX=sr(),MM=he();function xX(t){return PX.operate(function(r,e){var n=!1,i=null;r.subscribe(MM.createOperatorSubscriber(e,function(o){n=!0,i=o})),SX.innerFrom(t).subscribe(MM.createOperatorSubscriber(e,function(){if(n){n=!1;var o=i;i=null,e.next(o)}},TX.noop))})}Pv.sample=xX});var IM=R(Tv=>{"use strict";v();Object.defineProperty(Tv,"__esModule",{value:!0});Tv.sampleTime=void 0;var AX=Fr(),CX=hw(),MX=G0();function IX(t,r){return r===void 0&&(r=AX.asyncScheduler),CX.sample(MX.interval(t,r))}Tv.sampleTime=IX});var kM=R(xv=>{"use strict";v();Object.defineProperty(xv,"__esModule",{value:!0});xv.scan=void 0;var kX=ue(),LX=ew();function RX(t,r){return kX.operate(LX.scanInternals(t,r,arguments.length>=2,!0))}xv.scan=RX});var RM=R(Av=>{"use strict";v();Object.defineProperty(Av,"__esModule",{value:!0});Av.sequenceEqual=void 0;var NX=ue(),FX=he(),jX=De();function DX(t,r){return r===void 0&&(r=function(e,n){return e===n}),NX.operate(function(e,n){var i=LM(),o=LM(),s=function(c){n.next(c),n.complete()},a=function(c,l){var p=FX.createOperatorSubscriber(n,function(h){var f=l.buffer,b=l.complete;f.length===0?b?s(!1):c.buffer.push(h):!r(h,f.shift())&&s(!1)},function(){c.complete=!0;var h=l.complete,f=l.buffer;h&&s(f.length===0),p==null||p.unsubscribe()});return p};e.subscribe(a(i,o)),jX.innerFrom(t).subscribe(a(o,i))})}Av.sequenceEqual=DX;function LM(){return{buffer:[],complete:!1}}});var vw=R(No=>{"use strict";v();var qX=No&&No.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},BX=No&&No.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(No,"__esModule",{value:!0});No.share=void 0;var NM=De(),WX=ur(),FM=iu(),$X=ue();function UX(t){t===void 0&&(t={});var r=t.connector,e=r===void 0?function(){return new WX.Subject}:r,n=t.resetOnError,i=n===void 0?!0:n,o=t.resetOnComplete,s=o===void 0?!0:o,a=t.resetOnRefCountZero,c=a===void 0?!0:a;return function(l){var p,h,f,b=0,g=!1,w=!1,_=function(){h==null||h.unsubscribe(),h=void 0},S=function(){_(),p=f=void 0,g=w=!1},x=function(){var C=p;S(),C==null||C.unsubscribe()};return $X.operate(function(C,I){b++,!w&&!g&&_();var k=f=f??e();I.add(function(){b--,b===0&&!w&&!g&&(h=mw(x,c))}),k.subscribe(I),!p&&b>0&&(p=new FM.SafeSubscriber({next:function(P){return k.next(P)},error:function(P){w=!0,_(),h=mw(S,i,P),k.error(P)},complete:function(){g=!0,_(),h=mw(S,s),k.complete()}}),NM.innerFrom(C).subscribe(p))})(l)}}No.share=UX;function mw(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];if(r===!0){t();return}if(r!==!1){var i=new FM.SafeSubscriber({next:function(){i.unsubscribe(),t()}});return NM.innerFrom(r.apply(void 0,BX([],qX(e)))).subscribe(i)}}});var jM=R(Cv=>{"use strict";v();Object.defineProperty(Cv,"__esModule",{value:!0});Cv.shareReplay=void 0;var zX=oh(),VX=vw();function HX(t,r,e){var n,i,o,s,a=!1;return t&&typeof t=="object"?(n=t.bufferSize,s=n===void 0?1/0:n,i=t.windowTime,r=i===void 0?1/0:i,o=t.refCount,a=o===void 0?!1:o,e=t.scheduler):s=t??1/0,VX.share({connector:function(){return new zX.ReplaySubject(s,r,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}Cv.shareReplay=HX});var DM=R(Mv=>{"use strict";v();Object.defineProperty(Mv,"__esModule",{value:!0});Mv.single=void 0;var GX=_o(),ZX=W0(),JX=B0(),YX=ue(),KX=he();function XX(t){return YX.operate(function(r,e){var n=!1,i,o=!1,s=0;r.subscribe(KX.createOperatorSubscriber(e,function(a){o=!0,(!t||t(a,s++,r))&&(n&&e.error(new ZX.SequenceError("Too many matching values")),n=!0,i=a)},function(){n?(e.next(i),e.complete()):e.error(o?new JX.NotFoundError("No matching values"):new GX.EmptyError)}))})}Mv.single=XX});var qM=R(Iv=>{"use strict";v();Object.defineProperty(Iv,"__esModule",{value:!0});Iv.skip=void 0;var QX=Ns();function eQ(t){return QX.filter(function(r,e){return t<=e})}Iv.skip=eQ});var BM=R(kv=>{"use strict";v();Object.defineProperty(kv,"__esModule",{value:!0});kv.skipLast=void 0;var tQ=ar(),rQ=ue(),nQ=he();function iQ(t){return t<=0?tQ.identity:rQ.operate(function(r,e){var n=new Array(t),i=0;return r.subscribe(nQ.createOperatorSubscriber(e,function(o){var s=i++;if(s<t)n[s]=o;else{var a=s%t,c=n[a];n[a]=o,e.next(c)}})),function(){n=null}})}kv.skipLast=iQ});var $M=R(Lv=>{"use strict";v();Object.defineProperty(Lv,"__esModule",{value:!0});Lv.skipUntil=void 0;var oQ=ue(),WM=he(),sQ=De(),aQ=sr();function uQ(t){return oQ.operate(function(r,e){var n=!1,i=WM.createOperatorSubscriber(e,function(){i==null||i.unsubscribe(),n=!0},aQ.noop);sQ.innerFrom(t).subscribe(i),r.subscribe(WM.createOperatorSubscriber(e,function(o){return n&&e.next(o)}))})}Lv.skipUntil=uQ});var UM=R(Rv=>{"use strict";v();Object.defineProperty(Rv,"__esModule",{value:!0});Rv.skipWhile=void 0;var cQ=ue(),lQ=he();function dQ(t){return cQ.operate(function(r,e){var n=!1,i=0;r.subscribe(lQ.createOperatorSubscriber(e,function(o){return(n||(n=!t(o,i++)))&&e.next(o)}))})}Rv.skipWhile=dQ});var VM=R(Nv=>{"use strict";v();Object.defineProperty(Nv,"__esModule",{value:!0});Nv.startWith=void 0;var zM=Rl(),pQ=jr(),fQ=ue();function hQ(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=pQ.popScheduler(t);return fQ.operate(function(n,i){(e?zM.concat(t,n,e):zM.concat(t,n)).subscribe(i)})}Nv.startWith=hQ});var ql=R(Fv=>{"use strict";v();Object.defineProperty(Fv,"__esModule",{value:!0});Fv.switchMap=void 0;var mQ=De(),vQ=ue(),HM=he();function bQ(t,r){return vQ.operate(function(e,n){var i=null,o=0,s=!1,a=function(){return s&&!i&&n.complete()};e.subscribe(HM.createOperatorSubscriber(n,function(c){i==null||i.unsubscribe();var l=0,p=o++;mQ.innerFrom(t(c,p)).subscribe(i=HM.createOperatorSubscriber(n,function(h){return n.next(r?r(c,h,p,l++):h)},function(){i=null,a()}))},function(){s=!0,a()}))})}Fv.switchMap=bQ});var GM=R(jv=>{"use strict";v();Object.defineProperty(jv,"__esModule",{value:!0});jv.switchAll=void 0;var gQ=ql(),yQ=ar();function _Q(){return gQ.switchMap(yQ.identity)}jv.switchAll=_Q});var JM=R(Dv=>{"use strict";v();Object.defineProperty(Dv,"__esModule",{value:!0});Dv.switchMapTo=void 0;var ZM=ql(),wQ=dt();function EQ(t,r){return wQ.isFunction(r)?ZM.switchMap(function(){return t},r):ZM.switchMap(function(){return t})}Dv.switchMapTo=EQ});var YM=R(qv=>{"use strict";v();Object.defineProperty(qv,"__esModule",{value:!0});qv.switchScan=void 0;var OQ=ql(),SQ=ue();function PQ(t,r){return SQ.operate(function(e,n){var i=r;return OQ.switchMap(function(o,s){return t(i,o,s)},function(o,s){return i=s,s})(e).subscribe(n),function(){i=null}})}qv.switchScan=PQ});var KM=R(Bv=>{"use strict";v();Object.defineProperty(Bv,"__esModule",{value:!0});Bv.takeUntil=void 0;var TQ=ue(),xQ=he(),AQ=De(),CQ=sr();function MQ(t){return TQ.operate(function(r,e){AQ.innerFrom(t).subscribe(xQ.createOperatorSubscriber(e,function(){return e.complete()},CQ.noop)),!e.closed&&r.subscribe(e)})}Bv.takeUntil=MQ});var XM=R(Wv=>{"use strict";v();Object.defineProperty(Wv,"__esModule",{value:!0});Wv.takeWhile=void 0;var IQ=ue(),kQ=he();function LQ(t,r){return r===void 0&&(r=!1),IQ.operate(function(e,n){var i=0;e.subscribe(kQ.createOperatorSubscriber(n,function(o){var s=t(o,i++);(s||r)&&n.next(o),!s&&n.complete()}))})}Wv.takeWhile=LQ});var QM=R($v=>{"use strict";v();Object.defineProperty($v,"__esModule",{value:!0});$v.tap=void 0;var RQ=dt(),NQ=ue(),FQ=he(),jQ=ar();function DQ(t,r,e){var n=RQ.isFunction(t)||r||e?{next:t,error:r,complete:e}:t;return n?NQ.operate(function(i,o){var s;(s=n.subscribe)===null||s===void 0||s.call(n);var a=!0;i.subscribe(FQ.createOperatorSubscriber(o,function(c){var l;(l=n.next)===null||l===void 0||l.call(n,c),o.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},function(c){var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,c),o.error(c)},function(){var c,l;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):jQ.identity}$v.tap=DQ});var bw=R(Uv=>{"use strict";v();Object.defineProperty(Uv,"__esModule",{value:!0});Uv.throttle=void 0;var qQ=ue(),eI=he(),BQ=De();function WQ(t,r){return qQ.operate(function(e,n){var i=r??{},o=i.leading,s=o===void 0?!0:o,a=i.trailing,c=a===void 0?!1:a,l=!1,p=null,h=null,f=!1,b=function(){h==null||h.unsubscribe(),h=null,c&&(_(),f&&n.complete())},g=function(){h=null,f&&n.complete()},w=function(S){return h=BQ.innerFrom(t(S)).subscribe(eI.createOperatorSubscriber(n,b,g))},_=function(){if(l){l=!1;var S=p;p=null,n.next(S),!f&&w(S)}};e.subscribe(eI.createOperatorSubscriber(n,function(S){l=!0,p=S,!(h&&!h.closed)&&(s?_():w(S))},function(){f=!0,!(c&&l&&h&&!h.closed)&&n.complete()}))})}Uv.throttle=WQ});var tI=R(zv=>{"use strict";v();Object.defineProperty(zv,"__esModule",{value:!0});zv.throttleTime=void 0;var $Q=Fr(),UQ=bw(),zQ=Po();function VQ(t,r,e){r===void 0&&(r=$Q.asyncScheduler);var n=zQ.timer(t,r);return UQ.throttle(function(){return n},e)}zv.throttleTime=VQ});var nI=R(Fu=>{"use strict";v();Object.defineProperty(Fu,"__esModule",{value:!0});Fu.TimeInterval=Fu.timeInterval=void 0;var HQ=Fr(),GQ=ue(),ZQ=he();function JQ(t){return t===void 0&&(t=HQ.asyncScheduler),GQ.operate(function(r,e){var n=t.now();r.subscribe(ZQ.createOperatorSubscriber(e,function(i){var o=t.now(),s=o-n;n=o,e.next(new rI(i,s))}))})}Fu.timeInterval=JQ;var rI=function(){function t(r,e){this.value=r,this.interval=e}return t}();Fu.TimeInterval=rI});var iI=R(Vv=>{"use strict";v();Object.defineProperty(Vv,"__esModule",{value:!0});Vv.timeoutWith=void 0;var YQ=Fr(),KQ=Wh(),XQ=$h();function QQ(t,r,e){var n,i,o;if(e=e??YQ.async,KQ.isValidDate(t)?n=t:typeof t=="number"&&(i=t),r)o=function(){return r};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return XQ.timeout({first:n,each:i,scheduler:e,with:o})}Vv.timeoutWith=QQ});var oI=R(Hv=>{"use strict";v();Object.defineProperty(Hv,"__esModule",{value:!0});Hv.timestamp=void 0;var eee=ih(),tee=wo();function ree(t){return t===void 0&&(t=eee.dateTimestampProvider),tee.map(function(r){return{value:r,timestamp:t.now()}})}Hv.timestamp=ree});var uI=R(Gv=>{"use strict";v();Object.defineProperty(Gv,"__esModule",{value:!0});Gv.window=void 0;var sI=ur(),nee=ue(),aI=he(),iee=sr(),oee=De();function see(t){return nee.operate(function(r,e){var n=new sI.Subject;e.next(n.asObservable());var i=function(o){n.error(o),e.error(o)};return r.subscribe(aI.createOperatorSubscriber(e,function(o){return n==null?void 0:n.next(o)},function(){n.complete(),e.complete()},i)),oee.innerFrom(t).subscribe(aI.createOperatorSubscriber(e,function(){n.complete(),e.next(n=new sI.Subject)},iee.noop,i)),function(){n==null||n.unsubscribe(),n=null}})}Gv.window=see});var lI=R(ju=>{"use strict";v();var aee=ju&&ju.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ju,"__esModule",{value:!0});ju.windowCount=void 0;var cI=ur(),uee=ue(),cee=he();function lee(t,r){r===void 0&&(r=0);var e=r>0?r:t;return uee.operate(function(n,i){var o=[new cI.Subject],s=[],a=0;i.next(o[0].asObservable()),n.subscribe(cee.createOperatorSubscriber(i,function(c){var l,p;try{for(var h=aee(o),f=h.next();!f.done;f=h.next()){var b=f.value;b.next(c)}}catch(_){l={error:_}}finally{try{f&&!f.done&&(p=h.return)&&p.call(h)}finally{if(l)throw l.error}}var g=a-t+1;if(g>=0&&g%e===0&&o.shift().complete(),++a%e===0){var w=new cI.Subject;o.push(w),i.next(w.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(c){for(;o.length>0;)o.shift().error(c);i.error(c)},function(){s=null,o=null}))})}ju.windowCount=lee});var pI=R(Zv=>{"use strict";v();Object.defineProperty(Zv,"__esModule",{value:!0});Zv.windowTime=void 0;var dee=ur(),pee=Fr(),fee=Jr(),hee=ue(),mee=he(),vee=Ri(),bee=jr(),dI=Ni();function gee(t){for(var r,e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(r=bee.popScheduler(n))!==null&&r!==void 0?r:pee.asyncScheduler,s=(e=n[0])!==null&&e!==void 0?e:null,a=n[1]||1/0;return hee.operate(function(c,l){var p=[],h=!1,f=function(_){var S=_.window,x=_.subs;S.complete(),x.unsubscribe(),vee.arrRemove(p,_),h&&b()},b=function(){if(p){var _=new fee.Subscription;l.add(_);var S=new dee.Subject,x={window:S,subs:_,seen:0};p.push(x),l.next(S.asObservable()),dI.executeSchedule(_,o,function(){return f(x)},t)}};s!==null&&s>=0?dI.executeSchedule(l,o,b,s,!0):h=!0,b();var g=function(_){return p.slice().forEach(_)},w=function(_){g(function(S){var x=S.window;return _(x)}),_(l),l.unsubscribe()};return c.subscribe(mee.createOperatorSubscriber(l,function(_){g(function(S){S.window.next(_),a<=++S.seen&&f(S)})},function(){return w(function(_){return _.complete()})},function(_){return w(function(S){return S.error(_)})})),function(){p=null}})}Zv.windowTime=gee});var mI=R(Du=>{"use strict";v();var yee=Du&&Du.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Du,"__esModule",{value:!0});Du.windowToggle=void 0;var _ee=ur(),wee=Jr(),Eee=ue(),fI=De(),gw=he(),hI=sr(),Oee=Ri();function See(t,r){return Eee.operate(function(e,n){var i=[],o=function(s){for(;0<i.length;)i.shift().error(s);n.error(s)};fI.innerFrom(t).subscribe(gw.createOperatorSubscriber(n,function(s){var a=new _ee.Subject;i.push(a);var c=new wee.Subscription,l=function(){Oee.arrRemove(i,a),a.complete(),c.unsubscribe()},p;try{p=fI.innerFrom(r(s))}catch(h){o(h);return}n.next(a.asObservable()),c.add(p.subscribe(gw.createOperatorSubscriber(n,l,hI.noop,o)))},hI.noop)),e.subscribe(gw.createOperatorSubscriber(n,function(s){var a,c,l=i.slice();try{for(var p=yee(l),h=p.next();!h.done;h=p.next()){var f=h.value;f.next(s)}}catch(b){a={error:b}}finally{try{h&&!h.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}Du.windowToggle=See});var bI=R(Jv=>{"use strict";v();Object.defineProperty(Jv,"__esModule",{value:!0});Jv.windowWhen=void 0;var Pee=ur(),Tee=ue(),vI=he(),xee=De();function Aee(t){return Tee.operate(function(r,e){var n,i,o=function(a){n.error(a),e.error(a)},s=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new Pee.Subject,e.next(n.asObservable());var a;try{a=xee.innerFrom(t())}catch(c){o(c);return}a.subscribe(i=vI.createOperatorSubscriber(e,s,s,o))};s(),r.subscribe(vI.createOperatorSubscriber(e,function(a){return n.next(a)},function(){n.complete(),e.complete()},o,function(){i==null||i.unsubscribe(),n=null}))})}Jv.windowWhen=Aee});var wI=R(Fo=>{"use strict";v();var gI=Fo&&Fo.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},yI=Fo&&Fo.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.withLatestFrom=void 0;var Cee=ue(),_I=he(),Mee=De(),Iee=ar(),kee=sr(),Lee=jr();function Ree(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=Lee.popResultSelector(t);return Cee.operate(function(n,i){for(var o=t.length,s=new Array(o),a=t.map(function(){return!1}),c=!1,l=function(h){Mee.innerFrom(t[h]).subscribe(_I.createOperatorSubscriber(i,function(f){s[h]=f,!c&&!a[h]&&(a[h]=!0,(c=a.every(Iee.identity))&&(a=null))},kee.noop))},p=0;p<o;p++)l(p);n.subscribe(_I.createOperatorSubscriber(i,function(h){if(c){var f=yI([h],gI(s));i.next(e?e.apply(void 0,yI([],gI(f))):f)}}))})}Fo.withLatestFrom=Ree});var EI=R(Yv=>{"use strict";v();Object.defineProperty(Yv,"__esModule",{value:!0});Yv.zipAll=void 0;var Nee=gm(),Fee=rw();function jee(t){return Fee.joinAllInternals(Nee.zip,t)}Yv.zipAll=jee});var OI=R(jo=>{"use strict";v();var Dee=jo&&jo.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},qee=jo&&jo.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(jo,"__esModule",{value:!0});jo.zip=void 0;var Bee=gm(),Wee=ue();function $ee(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Wee.operate(function(e,n){Bee.zip.apply(void 0,qee([e],Dee(t))).subscribe(n)})}jo.zip=$ee});var SI=R(Do=>{"use strict";v();var Uee=Do&&Do.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},zee=Do&&Do.__spreadArray||function(t,r){for(var e=0,n=r.length,i=t.length;e<n;e++,i++)t[i]=r[e];return t};Object.defineProperty(Do,"__esModule",{value:!0});Do.zipWith=void 0;var Vee=OI();function Hee(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Vee.zip.apply(void 0,zee([],Uee(t)))}Do.zipWith=Hee});var Kv=R(T=>{"use strict";v();var Gee=T&&T.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),Zee=T&&T.__exportStar||function(t,r){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&Gee(r,t,e)};Object.defineProperty(T,"__esModule",{value:!0});T.interval=T.iif=T.generate=T.fromEventPattern=T.fromEvent=T.from=T.forkJoin=T.empty=T.defer=T.connectable=T.concat=T.combineLatest=T.bindNodeCallback=T.bindCallback=T.UnsubscriptionError=T.TimeoutError=T.SequenceError=T.ObjectUnsubscribedError=T.NotFoundError=T.EmptyError=T.ArgumentOutOfRangeError=T.firstValueFrom=T.lastValueFrom=T.isObservable=T.identity=T.noop=T.pipe=T.NotificationKind=T.Notification=T.Subscriber=T.Subscription=T.Scheduler=T.VirtualAction=T.VirtualTimeScheduler=T.animationFrameScheduler=T.animationFrame=T.queueScheduler=T.queue=T.asyncScheduler=T.async=T.asapScheduler=T.asap=T.AsyncSubject=T.ReplaySubject=T.BehaviorSubject=T.Subject=T.animationFrames=T.observable=T.ConnectableObservable=T.Observable=void 0;T.filter=T.expand=T.exhaustMap=T.exhaustAll=T.exhaust=T.every=T.endWith=T.elementAt=T.distinctUntilKeyChanged=T.distinctUntilChanged=T.distinct=T.dematerialize=T.delayWhen=T.delay=T.defaultIfEmpty=T.debounceTime=T.debounce=T.count=T.connect=T.concatWith=T.concatMapTo=T.concatMap=T.concatAll=T.combineLatestWith=T.combineLatestAll=T.combineAll=T.catchError=T.bufferWhen=T.bufferToggle=T.bufferTime=T.bufferCount=T.buffer=T.auditTime=T.audit=T.config=T.NEVER=T.EMPTY=T.scheduled=T.zip=T.using=T.timer=T.throwError=T.range=T.race=T.partition=T.pairs=T.onErrorResumeNext=T.of=T.never=T.merge=void 0;T.switchMap=T.switchAll=T.subscribeOn=T.startWith=T.skipWhile=T.skipUntil=T.skipLast=T.skip=T.single=T.shareReplay=T.share=T.sequenceEqual=T.scan=T.sampleTime=T.sample=T.refCount=T.retryWhen=T.retry=T.repeatWhen=T.repeat=T.reduce=T.raceWith=T.publishReplay=T.publishLast=T.publishBehavior=T.publish=T.pluck=T.pairwise=T.onErrorResumeNextWith=T.observeOn=T.multicast=T.min=T.mergeWith=T.mergeScan=T.mergeMapTo=T.mergeMap=T.flatMap=T.mergeAll=T.max=T.materialize=T.mapTo=T.map=T.last=T.isEmpty=T.ignoreElements=T.groupBy=T.first=T.findIndex=T.find=T.finalize=void 0;T.zipWith=T.zipAll=T.withLatestFrom=T.windowWhen=T.windowToggle=T.windowTime=T.windowCount=T.window=T.toArray=T.timestamp=T.timeoutWith=T.timeout=T.timeInterval=T.throwIfEmpty=T.throttleTime=T.throttle=T.tap=T.takeWhile=T.takeUntil=T.takeLast=T.take=T.switchScan=T.switchMapTo=void 0;var Jee=mt();Object.defineProperty(T,"Observable",{enumerable:!0,get:function(){return Jee.Observable}});var Yee=xl();Object.defineProperty(T,"ConnectableObservable",{enumerable:!0,get:function(){return Yee.ConnectableObservable}});var Kee=Pl();Object.defineProperty(T,"observable",{enumerable:!0,get:function(){return Kee.observable}});var Xee=CA();Object.defineProperty(T,"animationFrames",{enumerable:!0,get:function(){return Xee.animationFrames}});var Qee=ur();Object.defineProperty(T,"Subject",{enumerable:!0,get:function(){return Qee.Subject}});var ete=E0();Object.defineProperty(T,"BehaviorSubject",{enumerable:!0,get:function(){return ete.BehaviorSubject}});var tte=oh();Object.defineProperty(T,"ReplaySubject",{enumerable:!0,get:function(){return tte.ReplaySubject}});var rte=sh();Object.defineProperty(T,"AsyncSubject",{enumerable:!0,get:function(){return rte.AsyncSubject}});var PI=HA();Object.defineProperty(T,"asap",{enumerable:!0,get:function(){return PI.asap}});Object.defineProperty(T,"asapScheduler",{enumerable:!0,get:function(){return PI.asapScheduler}});var TI=Fr();Object.defineProperty(T,"async",{enumerable:!0,get:function(){return TI.async}});Object.defineProperty(T,"asyncScheduler",{enumerable:!0,get:function(){return TI.asyncScheduler}});var xI=JA();Object.defineProperty(T,"queue",{enumerable:!0,get:function(){return xI.queue}});Object.defineProperty(T,"queueScheduler",{enumerable:!0,get:function(){return xI.queueScheduler}});var AI=QA();Object.defineProperty(T,"animationFrame",{enumerable:!0,get:function(){return AI.animationFrame}});Object.defineProperty(T,"animationFrameScheduler",{enumerable:!0,get:function(){return AI.animationFrameScheduler}});var CI=r1();Object.defineProperty(T,"VirtualTimeScheduler",{enumerable:!0,get:function(){return CI.VirtualTimeScheduler}});Object.defineProperty(T,"VirtualAction",{enumerable:!0,get:function(){return CI.VirtualAction}});var nte=S0();Object.defineProperty(T,"Scheduler",{enumerable:!0,get:function(){return nte.Scheduler}});var ite=Jr();Object.defineProperty(T,"Subscription",{enumerable:!0,get:function(){return ite.Subscription}});var ote=iu();Object.defineProperty(T,"Subscriber",{enumerable:!0,get:function(){return ote.Subscriber}});var MI=kh();Object.defineProperty(T,"Notification",{enumerable:!0,get:function(){return MI.Notification}});Object.defineProperty(T,"NotificationKind",{enumerable:!0,get:function(){return MI.NotificationKind}});var ste=Tl();Object.defineProperty(T,"pipe",{enumerable:!0,get:function(){return ste.pipe}});var ate=sr();Object.defineProperty(T,"noop",{enumerable:!0,get:function(){return ate.noop}});var ute=ar();Object.defineProperty(T,"identity",{enumerable:!0,get:function(){return ute.identity}});var cte=y1();Object.defineProperty(T,"isObservable",{enumerable:!0,get:function(){return cte.isObservable}});var lte=_1();Object.defineProperty(T,"lastValueFrom",{enumerable:!0,get:function(){return lte.lastValueFrom}});var dte=w1();Object.defineProperty(T,"firstValueFrom",{enumerable:!0,get:function(){return dte.firstValueFrom}});var pte=q0();Object.defineProperty(T,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return pte.ArgumentOutOfRangeError}});var fte=_o();Object.defineProperty(T,"EmptyError",{enumerable:!0,get:function(){return fte.EmptyError}});var hte=B0();Object.defineProperty(T,"NotFoundError",{enumerable:!0,get:function(){return hte.NotFoundError}});var mte=g0();Object.defineProperty(T,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return mte.ObjectUnsubscribedError}});var vte=W0();Object.defineProperty(T,"SequenceError",{enumerable:!0,get:function(){return vte.SequenceError}});var bte=$h();Object.defineProperty(T,"TimeoutError",{enumerable:!0,get:function(){return bte.TimeoutError}});var gte=o0();Object.defineProperty(T,"UnsubscriptionError",{enumerable:!0,get:function(){return gte.UnsubscriptionError}});var yte=O1();Object.defineProperty(T,"bindCallback",{enumerable:!0,get:function(){return yte.bindCallback}});var _te=S1();Object.defineProperty(T,"bindNodeCallback",{enumerable:!0,get:function(){return _te.bindNodeCallback}});var wte=Zh();Object.defineProperty(T,"combineLatest",{enumerable:!0,get:function(){return wte.combineLatest}});var Ete=Rl();Object.defineProperty(T,"concat",{enumerable:!0,get:function(){return Ete.concat}});var Ote=k1();Object.defineProperty(T,"connectable",{enumerable:!0,get:function(){return Ote.connectable}});var Ste=Nl();Object.defineProperty(T,"defer",{enumerable:!0,get:function(){return Ste.defer}});var Pte=jn();Object.defineProperty(T,"empty",{enumerable:!0,get:function(){return Pte.empty}});var Tte=L1();Object.defineProperty(T,"forkJoin",{enumerable:!0,get:function(){return Tte.forkJoin}});var xte=Fi();Object.defineProperty(T,"from",{enumerable:!0,get:function(){return xte.from}});var Ate=N1();Object.defineProperty(T,"fromEvent",{enumerable:!0,get:function(){return Ate.fromEvent}});var Cte=j1();Object.defineProperty(T,"fromEventPattern",{enumerable:!0,get:function(){return Cte.fromEventPattern}});var Mte=q1();Object.defineProperty(T,"generate",{enumerable:!0,get:function(){return Mte.generate}});var Ite=B1();Object.defineProperty(T,"iif",{enumerable:!0,get:function(){return Ite.iif}});var kte=G0();Object.defineProperty(T,"interval",{enumerable:!0,get:function(){return kte.interval}});var Lte=$1();Object.defineProperty(T,"merge",{enumerable:!0,get:function(){return Lte.merge}});var Rte=Z0();Object.defineProperty(T,"never",{enumerable:!0,get:function(){return Rte.never}});var Nte=Mh();Object.defineProperty(T,"of",{enumerable:!0,get:function(){return Nte.of}});var Fte=J0();Object.defineProperty(T,"onErrorResumeNext",{enumerable:!0,get:function(){return Fte.onErrorResumeNext}});var jte=z1();Object.defineProperty(T,"pairs",{enumerable:!0,get:function(){return jte.pairs}});var Dte=Z1();Object.defineProperty(T,"partition",{enumerable:!0,get:function(){return Dte.partition}});var qte=Y0();Object.defineProperty(T,"race",{enumerable:!0,get:function(){return qte.race}});var Bte=K1();Object.defineProperty(T,"range",{enumerable:!0,get:function(){return Bte.range}});var Wte=D0();Object.defineProperty(T,"throwError",{enumerable:!0,get:function(){return Wte.throwError}});var $te=Po();Object.defineProperty(T,"timer",{enumerable:!0,get:function(){return $te.timer}});var Ute=X1();Object.defineProperty(T,"using",{enumerable:!0,get:function(){return Ute.using}});var zte=gm();Object.defineProperty(T,"zip",{enumerable:!0,get:function(){return zte.zip}});var Vte=j0();Object.defineProperty(T,"scheduled",{enumerable:!0,get:function(){return Vte.scheduled}});var Hte=jn();Object.defineProperty(T,"EMPTY",{enumerable:!0,get:function(){return Hte.EMPTY}});var Gte=Z0();Object.defineProperty(T,"NEVER",{enumerable:!0,get:function(){return Gte.NEVER}});Zee(eC(),T);var Zte=ru();Object.defineProperty(T,"config",{enumerable:!0,get:function(){return Zte.config}});var Jte=K0();Object.defineProperty(T,"audit",{enumerable:!0,get:function(){return Jte.audit}});var Yte=rC();Object.defineProperty(T,"auditTime",{enumerable:!0,get:function(){return Yte.auditTime}});var Kte=iC();Object.defineProperty(T,"buffer",{enumerable:!0,get:function(){return Kte.buffer}});var Xte=oC();Object.defineProperty(T,"bufferCount",{enumerable:!0,get:function(){return Xte.bufferCount}});var Qte=aC();Object.defineProperty(T,"bufferTime",{enumerable:!0,get:function(){return Qte.bufferTime}});var ere=lC();Object.defineProperty(T,"bufferToggle",{enumerable:!0,get:function(){return ere.bufferToggle}});var tre=pC();Object.defineProperty(T,"bufferWhen",{enumerable:!0,get:function(){return tre.bufferWhen}});var rre=hC();Object.defineProperty(T,"catchError",{enumerable:!0,get:function(){return rre.catchError}});var nre=mC();Object.defineProperty(T,"combineAll",{enumerable:!0,get:function(){return nre.combineAll}});var ire=nw();Object.defineProperty(T,"combineLatestAll",{enumerable:!0,get:function(){return ire.combineLatestAll}});var ore=_C();Object.defineProperty(T,"combineLatestWith",{enumerable:!0,get:function(){return ore.combineLatestWith}});var sre=em();Object.defineProperty(T,"concatAll",{enumerable:!0,get:function(){return sre.concatAll}});var are=iw();Object.defineProperty(T,"concatMap",{enumerable:!0,get:function(){return are.concatMap}});var ure=OC();Object.defineProperty(T,"concatMapTo",{enumerable:!0,get:function(){return ure.concatMapTo}});var cre=PC();Object.defineProperty(T,"concatWith",{enumerable:!0,get:function(){return cre.concatWith}});var lre=Rm();Object.defineProperty(T,"connect",{enumerable:!0,get:function(){return lre.connect}});var dre=xC();Object.defineProperty(T,"count",{enumerable:!0,get:function(){return dre.count}});var pre=CC();Object.defineProperty(T,"debounce",{enumerable:!0,get:function(){return pre.debounce}});var fre=MC();Object.defineProperty(T,"debounceTime",{enumerable:!0,get:function(){return fre.debounceTime}});var hre=Fl();Object.defineProperty(T,"defaultIfEmpty",{enumerable:!0,get:function(){return hre.defaultIfEmpty}});var mre=LC();Object.defineProperty(T,"delay",{enumerable:!0,get:function(){return mre.delay}});var vre=aw();Object.defineProperty(T,"delayWhen",{enumerable:!0,get:function(){return vre.delayWhen}});var bre=RC();Object.defineProperty(T,"dematerialize",{enumerable:!0,get:function(){return bre.dematerialize}});var gre=FC();Object.defineProperty(T,"distinct",{enumerable:!0,get:function(){return gre.distinct}});var yre=uw();Object.defineProperty(T,"distinctUntilChanged",{enumerable:!0,get:function(){return yre.distinctUntilChanged}});var _re=jC();Object.defineProperty(T,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return _re.distinctUntilKeyChanged}});var wre=qC();Object.defineProperty(T,"elementAt",{enumerable:!0,get:function(){return wre.elementAt}});var Ere=BC();Object.defineProperty(T,"endWith",{enumerable:!0,get:function(){return Ere.endWith}});var Ore=WC();Object.defineProperty(T,"every",{enumerable:!0,get:function(){return Ore.every}});var Sre=VC();Object.defineProperty(T,"exhaust",{enumerable:!0,get:function(){return Sre.exhaust}});var Pre=lw();Object.defineProperty(T,"exhaustAll",{enumerable:!0,get:function(){return Pre.exhaustAll}});var Tre=cw();Object.defineProperty(T,"exhaustMap",{enumerable:!0,get:function(){return Tre.exhaustMap}});var xre=HC();Object.defineProperty(T,"expand",{enumerable:!0,get:function(){return xre.expand}});var Are=Ns();Object.defineProperty(T,"filter",{enumerable:!0,get:function(){return Are.filter}});var Cre=GC();Object.defineProperty(T,"finalize",{enumerable:!0,get:function(){return Cre.finalize}});var Mre=dw();Object.defineProperty(T,"find",{enumerable:!0,get:function(){return Mre.find}});var Ire=JC();Object.defineProperty(T,"findIndex",{enumerable:!0,get:function(){return Ire.findIndex}});var kre=YC();Object.defineProperty(T,"first",{enumerable:!0,get:function(){return kre.first}});var Lre=XC();Object.defineProperty(T,"groupBy",{enumerable:!0,get:function(){return Lre.groupBy}});var Rre=ow();Object.defineProperty(T,"ignoreElements",{enumerable:!0,get:function(){return Rre.ignoreElements}});var Nre=QC();Object.defineProperty(T,"isEmpty",{enumerable:!0,get:function(){return Nre.isEmpty}});var Fre=eM();Object.defineProperty(T,"last",{enumerable:!0,get:function(){return Fre.last}});var jre=wo();Object.defineProperty(T,"map",{enumerable:!0,get:function(){return jre.map}});var Dre=sw();Object.defineProperty(T,"mapTo",{enumerable:!0,get:function(){return Dre.mapTo}});var qre=tM();Object.defineProperty(T,"materialize",{enumerable:!0,get:function(){return qre.materialize}});var Bre=rM();Object.defineProperty(T,"max",{enumerable:!0,get:function(){return Bre.max}});var Wre=Ll();Object.defineProperty(T,"mergeAll",{enumerable:!0,get:function(){return Wre.mergeAll}});var $re=nM();Object.defineProperty(T,"flatMap",{enumerable:!0,get:function(){return $re.flatMap}});var Ure=Di();Object.defineProperty(T,"mergeMap",{enumerable:!0,get:function(){return Ure.mergeMap}});var zre=oM();Object.defineProperty(T,"mergeMapTo",{enumerable:!0,get:function(){return zre.mergeMapTo}});var Vre=sM();Object.defineProperty(T,"mergeScan",{enumerable:!0,get:function(){return Vre.mergeScan}});var Hre=cM();Object.defineProperty(T,"mergeWith",{enumerable:!0,get:function(){return Hre.mergeWith}});var Gre=lM();Object.defineProperty(T,"min",{enumerable:!0,get:function(){return Gre.min}});var Zre=hv();Object.defineProperty(T,"multicast",{enumerable:!0,get:function(){return Zre.multicast}});var Jre=Il();Object.defineProperty(T,"observeOn",{enumerable:!0,get:function(){return Jre.observeOn}});var Yre=fM();Object.defineProperty(T,"onErrorResumeNextWith",{enumerable:!0,get:function(){return Yre.onErrorResumeNextWith}});var Kre=hM();Object.defineProperty(T,"pairwise",{enumerable:!0,get:function(){return Kre.pairwise}});var Xre=mM();Object.defineProperty(T,"pluck",{enumerable:!0,get:function(){return Xre.pluck}});var Qre=vM();Object.defineProperty(T,"publish",{enumerable:!0,get:function(){return Qre.publish}});var ene=bM();Object.defineProperty(T,"publishBehavior",{enumerable:!0,get:function(){return ene.publishBehavior}});var tne=gM();Object.defineProperty(T,"publishLast",{enumerable:!0,get:function(){return tne.publishLast}});var rne=_M();Object.defineProperty(T,"publishReplay",{enumerable:!0,get:function(){return rne.publishReplay}});var nne=wM();Object.defineProperty(T,"raceWith",{enumerable:!0,get:function(){return nne.raceWith}});var ine=Lu();Object.defineProperty(T,"reduce",{enumerable:!0,get:function(){return ine.reduce}});var one=OM();Object.defineProperty(T,"repeat",{enumerable:!0,get:function(){return one.repeat}});var sne=PM();Object.defineProperty(T,"repeatWhen",{enumerable:!0,get:function(){return sne.repeatWhen}});var ane=xM();Object.defineProperty(T,"retry",{enumerable:!0,get:function(){return ane.retry}});var une=CM();Object.defineProperty(T,"retryWhen",{enumerable:!0,get:function(){return une.retryWhen}});var cne=v0();Object.defineProperty(T,"refCount",{enumerable:!0,get:function(){return cne.refCount}});var lne=hw();Object.defineProperty(T,"sample",{enumerable:!0,get:function(){return lne.sample}});var dne=IM();Object.defineProperty(T,"sampleTime",{enumerable:!0,get:function(){return dne.sampleTime}});var pne=kM();Object.defineProperty(T,"scan",{enumerable:!0,get:function(){return pne.scan}});var fne=RM();Object.defineProperty(T,"sequenceEqual",{enumerable:!0,get:function(){return fne.sequenceEqual}});var hne=vw();Object.defineProperty(T,"share",{enumerable:!0,get:function(){return hne.share}});var mne=jM();Object.defineProperty(T,"shareReplay",{enumerable:!0,get:function(){return mne.shareReplay}});var vne=DM();Object.defineProperty(T,"single",{enumerable:!0,get:function(){return vne.single}});var bne=qM();Object.defineProperty(T,"skip",{enumerable:!0,get:function(){return bne.skip}});var gne=BM();Object.defineProperty(T,"skipLast",{enumerable:!0,get:function(){return gne.skipLast}});var yne=$M();Object.defineProperty(T,"skipUntil",{enumerable:!0,get:function(){return yne.skipUntil}});var _ne=UM();Object.defineProperty(T,"skipWhile",{enumerable:!0,get:function(){return _ne.skipWhile}});var wne=VM();Object.defineProperty(T,"startWith",{enumerable:!0,get:function(){return wne.startWith}});var Ene=kl();Object.defineProperty(T,"subscribeOn",{enumerable:!0,get:function(){return Ene.subscribeOn}});var One=GM();Object.defineProperty(T,"switchAll",{enumerable:!0,get:function(){return One.switchAll}});var Sne=ql();Object.defineProperty(T,"switchMap",{enumerable:!0,get:function(){return Sne.switchMap}});var Pne=JM();Object.defineProperty(T,"switchMapTo",{enumerable:!0,get:function(){return Pne.switchMapTo}});var Tne=YM();Object.defineProperty(T,"switchScan",{enumerable:!0,get:function(){return Tne.switchScan}});var xne=jl();Object.defineProperty(T,"take",{enumerable:!0,get:function(){return xne.take}});var Ane=pw();Object.defineProperty(T,"takeLast",{enumerable:!0,get:function(){return Ane.takeLast}});var Cne=KM();Object.defineProperty(T,"takeUntil",{enumerable:!0,get:function(){return Cne.takeUntil}});var Mne=XM();Object.defineProperty(T,"takeWhile",{enumerable:!0,get:function(){return Mne.takeWhile}});var Ine=QM();Object.defineProperty(T,"tap",{enumerable:!0,get:function(){return Ine.tap}});var kne=bw();Object.defineProperty(T,"throttle",{enumerable:!0,get:function(){return kne.throttle}});var Lne=tI();Object.defineProperty(T,"throttleTime",{enumerable:!0,get:function(){return Lne.throttleTime}});var Rne=Dl();Object.defineProperty(T,"throwIfEmpty",{enumerable:!0,get:function(){return Rne.throwIfEmpty}});var Nne=nI();Object.defineProperty(T,"timeInterval",{enumerable:!0,get:function(){return Nne.timeInterval}});var Fne=$h();Object.defineProperty(T,"timeout",{enumerable:!0,get:function(){return Fne.timeout}});var jne=iI();Object.defineProperty(T,"timeoutWith",{enumerable:!0,get:function(){return jne.timeoutWith}});var Dne=oI();Object.defineProperty(T,"timestamp",{enumerable:!0,get:function(){return Dne.timestamp}});var qne=tw();Object.defineProperty(T,"toArray",{enumerable:!0,get:function(){return qne.toArray}});var Bne=uI();Object.defineProperty(T,"window",{enumerable:!0,get:function(){return Bne.window}});var Wne=lI();Object.defineProperty(T,"windowCount",{enumerable:!0,get:function(){return Wne.windowCount}});var $ne=pI();Object.defineProperty(T,"windowTime",{enumerable:!0,get:function(){return $ne.windowTime}});var Une=mI();Object.defineProperty(T,"windowToggle",{enumerable:!0,get:function(){return Une.windowToggle}});var zne=bI();Object.defineProperty(T,"windowWhen",{enumerable:!0,get:function(){return zne.windowWhen}});var Vne=wI();Object.defineProperty(T,"withLatestFrom",{enumerable:!0,get:function(){return Vne.withLatestFrom}});var Hne=EI();Object.defineProperty(T,"zipAll",{enumerable:!0,get:function(){return Hne.zipAll}});var Gne=SI();Object.defineProperty(T,"zipWith",{enumerable:!0,get:function(){return Gne.zipWith}})});function et(t){let r=new qi.BehaviorSubject(t);return new yw(t,r)}var qi,yw,qu=G(()=>{v();qi=wr(Kv()),yw=class{constructor(r,e){this.subscriptions=new Map;this.setValue=r=>{this.state=r,this.subject.next(this.state)};this.subscribe=(r,e)=>{let n=this.subject.subscribe(e);if(this.subscriptions.has(r)){this.subscriptions.get(r).push(n);return}this.subscriptions.set(r,[n])};this.state=r,this.firstState=r,this.subject=e.pipe((0,qi.distinctUntilChanged)(),(0,qi.shareReplay)({bufferSize:1,refCount:!0}))}getValue(){return this.state}unsubscribe(r){var e;(e=this.subscriptions.get(r))==null||e.forEach(n=>n.unsubscribe()),this.subscriptions.delete(r)}destroy(){this.subscriptions.clear(),this.subject.complete(),this.restart()}restart(){this.state=this.firstState,this.subject=new qi.BehaviorSubject(this.firstState).pipe((0,qi.distinctUntilChanged)(),(0,qi.shareReplay)({bufferSize:1,refCount:!0}))}expose(){let r=this.subscribe.bind(this),e=this.unsubscribe.bind(this),n=this.getValue.bind(this),i=this.setValue.bind(this);return{get value(){return n()},set value(o){i(o)},subscribe:r,unsubscribe:e}}}});function kI(){return{localParticipant:Jne,participants:Yne,destroy:Zne}}var II,_w,Xv,Zne,Jne,Yne,LI=G(()=>{v();tu();qu();II=ui(),_w=class{constructor(){this.localParticipant=et({});this.participants=et({});if(II.value)throw new Error("CoreStore is a singleton. There can only be one instance of it.");II.value=this}destroy(){this.localParticipant.destroy(),this.participants.destroy()}},Xv=new _w,Zne=Xv.destroy.bind(Xv),Jne=Xv.localParticipant.expose(),Yne=Xv.participants.expose()});function js(){return{localParticipant:eie,participants:Qne,group:Xne,isDomainWhitelisted:tie,hasJoinedRoom:rie,destroy:Kne}}var RI,ww,Fs,Kne,Xne,Qne,eie,tie,rie,Ew=G(()=>{v();tu();qu();RI=ui(),ww=class{constructor(){this.localParticipant=et({});this.participants=et({});this.group=et(null);this.isDomainWhitelisted=et(!0);this.hasJoinedRoom=et(!1);if(RI.value)throw new Error("CommentsStore is a singleton. There can only be one instance of it.");RI.value=this}destroy(){this.localParticipant.destroy(),this.participants.destroy(),this.group.destroy(),this.isDomainWhitelisted.destroy(),this.hasJoinedRoom.destroy()}},Fs=new ww,Kne=Fs.destroy.bind(Fs),Xne=Fs.group.expose(),Qne=Fs.participants.expose(),eie=Fs.localParticipant.expose(),tie=Fs.isDomainWhitelisted.expose(),rie=Fs.hasJoinedRoom.expose()});function FI(){return{hasJoined3D:iie,participants:oie,destroy:nie}}var NI,Ow,Qv,nie,iie,oie,jI=G(()=>{v();tu();qu();NI=ui(),Ow=class{constructor(){this.hasJoined3D=et(!1);this.participants=et([]);if(NI.value)throw new Error("Presence3DStore is a singleton. There can only be one instance of it.");NI.value=this}destroy(){this.hasJoined3D.destroy(),this.participants.destroy()}},Qv=new Ow,nie=Qv.destroy.bind(Qv),iie=Qv.hasJoined3D.expose(),oie=Qv.participants.expose()});var eb,Sw=G(()=>{v();eb=(c=>(c[c.DISCONNECTED=0]="DISCONNECTED",c[c.INITIALIZING=1]="INITIALIZING",c[c.READY_TO_JOIN=2]="READY_TO_JOIN",c[c.CONNECTING=3]="CONNECTING",c[c.CONNECTED=4]="CONNECTED",c[c.JOINED=5]="JOINED",c[c.FAILED=-1]="FAILED",c[c.RETRYING=-2]="RETRYING",c))(eb||{})});function qI(){return{meetingState:aie,gather:uie,destroy:sie,hostId:cie,isGridModeEnabled:lie,followParticipantId:die,drawing:pie,transcript:fie}}var DI,Pw,Bi,sie,aie,uie,cie,lie,die,pie,fie,BI=G(()=>{v();Sw();tu();qu();DI=ui(),Pw=class{constructor(){this.meetingState=et(0);this.gather=et(!1);this.hostId=et("");this.isGridModeEnabled=et(!1);this.followParticipantId=et("");this.drawing=et(null);this.transcript=et(null);if(DI.value)throw new Error("VideoStore is a singleton. There can only be one instance of it.");DI.value=this}destroy(){this.meetingState.destroy(),this.gather.destroy(),this.hostId.destroy(),this.isGridModeEnabled.destroy(),this.followParticipantId.destroy(),this.drawing.destroy(),this.transcript.destroy()}},Bi=new Pw,sie=Bi.destroy.bind(Bi),aie=Bi.meetingState.expose(),uie=Bi.gather.expose(),cie=Bi.hostId.expose(),lie=Bi.isGridModeEnabled.expose(),die=Bi.followParticipantId.expose(),pie=Bi.drawing.expose(),fie=Bi.transcript.expose()});function $I(){return{disablePresenceControls:mie,disableGoToParticipant:vie,disableFollowParticipant:bie,disablePrivateMode:gie,disableGatherAll:yie,disableFollowMe:_ie,participants:Eie,extras:Oie,joinedPresence:wie,everyoneFollowsMe:Sie,privateMode:Pie,following:Tie,destroy:hie}}var WI,Tw,Dr,hie,mie,vie,bie,gie,yie,_ie,wie,Eie,Oie,Sie,Pie,Tie,UI=G(()=>{v();tu();qu();WI=ui(),Tw=class{constructor(){this.disablePresenceControls=et(!1);this.disableGoToParticipant=et(!1);this.disableFollowParticipant=et(!1);this.disablePrivateMode=et(!1);this.disableGatherAll=et(!1);this.disableFollowMe=et(!1);this.participants=et([]);this.extras=et([]);this.joinedPresence=et(void 0);this.everyoneFollowsMe=et(!1);this.privateMode=et(!1);this.following=et(void 0);if(WI.value)throw new Error("WhoIsOnlineStore is a singleton. There can only be one instance of it.");WI.value=this}destroy(){this.disableGoToParticipant.destroy(),this.disablePresenceControls.destroy(),this.disableFollowParticipant.destroy(),this.disablePrivateMode.destroy(),this.disableGatherAll.destroy(),this.disableFollowMe.destroy(),this.participants.destroy(),this.extras.destroy(),this.joinedPresence.destroy(),this.everyoneFollowsMe.destroy(),this.privateMode.destroy(),this.following.destroy()}},Dr=new Tw,hie=Dr.destroy.bind(Dr),mie=Dr.disablePresenceControls.expose(),vie=Dr.disableGoToParticipant.expose(),bie=Dr.disableFollowParticipant.expose(),gie=Dr.disablePrivateMode.expose(),yie=Dr.disableGatherAll.expose(),_ie=Dr.disableFollowMe.expose(),wie=Dr.joinedPresence.expose(),Eie=Dr.participants.expose(),Oie=Dr.extras.expose(),Sie=Dr.everyoneFollowsMe.expose(),Pie=Dr.privateMode.expose(),Tie=Dr.following.expose()});function Aie(t,r,e){r.subscribe(this,()=>{e?e(r.value):this[t]=r.value,this.requestUpdate&&this.requestUpdate()}),this.unsubscribeFrom||(this.unsubscribeFrom=[]),this.unsubscribeFrom.push(r.unsubscribe)}function Lt(t){let r=xie[t](),e=Aie.bind(this);return new Proxy(r,{get(i,o){return o==="destroy"?i.destroy:{subscribe(s){e(o,i[o],s)},subject:i[o],get value(){return this.subject.value},publish(s){this.subject.value=s}}}})}var xie,Ds=G(()=>{v();LI();Ew();jI();BI();UI();$t();xie={"global-store":js,"who-is-online-store":$I,"video-store":qI,"presence-3d-store":FI,"core-store":kI}});var HI,Xt,cye,lye,Wu=G(()=>{v();HI=["rosybrown","red","saddlebrown","coral","orange","brown","goldenrod","olivegreen","darkolivegreen","seagreen","lightsea","teal","cadetblue","pastelblue","mediumslateblue","bluedark","navy","rebeccapurple","purple","vividorchid","darkmagenta","deepmagenta","fuchsia","violetred","pink","vibrantpink","paleredviolet","carmine","wine"],Xt={turquoise:"#31E0B0",orange:"#FF5E10",blue:"#00ABF7",pink:"#FF00BB",purple:"#9C29FF",green:"#6FDD00",red:"#E30000",bluedark:"#304AFF",pinklight:"#FF89C4",purplelight:"#D597FF",greenlight:"#C6EC5C",orangelight:"#FFA115",bluelight:"#75DEFE",redlight:"#FAA291",brown:"#BB813F",yellow:"#FFEF33",olivegreen:"#93A000",lightyellow:"#FAE391",violetred:"#C03FA3",rosybrown:"#B58787",cadetblue:"#2095BB",lightsteelblue:"#ABB5FF",seagreen:"#04B45F",palegreen:"#8DE990",saddlebrown:"#964C42",pastelblue:"#77A1CC",palesilver:"#D2BABA",coral:"#DF6B6B",bisque:"#FFD9C4",goldenrod:"#DAA520",tan:"#D2BD93",darkolivegreen:"#536C27",mint:"#ADE6DF",lightsea:"#45AFAA",teal:"#036E6E",wine:"#760040",cyan:"#00FFFF",mediumslateblue:"#6674D7",navy:"#0013BB",rebeccapurple:"#663399",vividorchid:"#D429FF",darkmagenta:"#810E81",deepmagenta:"#C303C6",fuchsia:"#FA00FF",lavendermagenta:"#EE82EE",thistle:"#EEB4DD",vibrantpink:"#FF007A",cottoncandy:"#FFC0DE",paleredviolet:"#D96598",carmine:"#B50A52",gray:"#878291"},cye=Object.values(Xt),lye=Object.keys(Xt)});var YI,Iw=G(()=>{v();YI=class{get shadowRoot(){return this.__host.__shadowRoot}constructor(r){this.ariaAtomic="",this.ariaAutoComplete="",this.ariaBrailleLabel="",this.ariaBrailleRoleDescription="",this.ariaBusy="",this.ariaChecked="",this.ariaColCount="",this.ariaColIndex="",this.ariaColSpan="",this.ariaCurrent="",this.ariaDescription="",this.ariaDisabled="",this.ariaExpanded="",this.ariaHasPopup="",this.ariaHidden="",this.ariaInvalid="",this.ariaKeyShortcuts="",this.ariaLabel="",this.ariaLevel="",this.ariaLive="",this.ariaModal="",this.ariaMultiLine="",this.ariaMultiSelectable="",this.ariaOrientation="",this.ariaPlaceholder="",this.ariaPosInSet="",this.ariaPressed="",this.ariaReadOnly="",this.ariaRequired="",this.ariaRoleDescription="",this.ariaRowCount="",this.ariaRowIndex="",this.ariaRowSpan="",this.ariaSelected="",this.ariaSetSize="",this.ariaSort="",this.ariaValueMax="",this.ariaValueMin="",this.ariaValueNow="",this.ariaValueText="",this.role="",this.form=null,this.labels=[],this.states=new Set,this.validationMessage="",this.validity={},this.willValidate=!0,this.__host=r}checkValidity(){return console.warn("`ElementInternals.checkValidity()` was called on the server.This method always returns true."),!0}reportValidity(){return!0}setFormValue(){}setValidity(){}}});var KI,Wl,Fie,jie,XI,Die,qie,QI,ek=G(()=>{v();Iw();Iw();KI=new WeakMap,Wl=t=>{let r=KI.get(t);return r===void 0&&KI.set(t,r=new Map),r},Fie=class{constructor(){this.__shadowRootMode=null,this.__shadowRoot=null,this.__internals=null}get attributes(){return Array.from(Wl(this)).map(([r,e])=>({name:r,value:e}))}get shadowRoot(){return this.__shadowRootMode==="closed"?null:this.__shadowRoot}get localName(){return this.constructor.__localName}get tagName(){var r;return(r=this.localName)==null?void 0:r.toUpperCase()}setAttribute(r,e){Wl(this).set(r,String(e))}removeAttribute(r){Wl(this).delete(r)}toggleAttribute(r,e){if(this.hasAttribute(r)){if(e===void 0||!e)return this.removeAttribute(r),!1}else return e===void 0||e?(this.setAttribute(r,""),!0):!1;return!0}hasAttribute(r){return Wl(this).has(r)}attachShadow(r){let e={host:this};return this.__shadowRootMode=r.mode,r&&r.mode==="open"&&(this.__shadowRoot=e),e}attachInternals(){if(this.__internals!==null)throw new Error("Failed to execute 'attachInternals' on 'HTMLElement': ElementInternals for the specified element was already attached.");let r=new YI(this);return this.__internals=r,r}getAttribute(r){return Wl(this).get(r)??null}},jie=class extends Fie{},XI=jie,Die=class{constructor(){this.__definitions=new Map}define(r,e){if(this.__definitions.has(r))if(E.NODE_ENV==="development")console.warn(`'CustomElementRegistry' already has "${r}" defined. This may have been caused by live reload or hot module replacement in which case it can be safely ignored.
Make sure to test your application with a production build as repeat registrations will throw in production.`);else throw new Error(`Failed to execute 'define' on 'CustomElementRegistry': the name "${r}" has already been used with this registry`);e.__localName=r,this.__definitions.set(r,{ctor:e,observedAttributes:e.observedAttributes??[]})}get(r){let e=this.__definitions.get(r);return e==null?void 0:e.ctor}},qie=Die,QI=new qie});var $l,ib,kw,tk,Ul,rk,Ae,Lw,ob,Rw=G(()=>{v();$l=globalThis,ib=$l.ShadowRoot&&($l.ShadyCSS===void 0||$l.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,kw=Symbol(),tk=new WeakMap,Ul=class{constructor(r,e,n){if(this._$cssResult$=!0,n!==kw)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=r,this.t=e}get styleSheet(){let r=this.o,e=this.t;if(ib&&r===void 0){let n=e!==void 0&&e.length===1;n&&(r=tk.get(e)),r===void 0&&((this.o=r=new CSSStyleSheet).replaceSync(this.cssText),n&&tk.set(e,r))}return r}toString(){return this.cssText}},rk=t=>new Ul(typeof t=="string"?t:t+"",void 0,kw),Ae=(t,...r)=>{let e=t.length===1?t[0]:r.reduce((n,i,o)=>n+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1],t[0]);return new Ul(e,t,kw)},Lw=(t,r)=>{if(ib)t.adoptedStyleSheets=r.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(let e of r){let n=document.createElement("style"),i=$l.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=e.cssText,t.appendChild(n)}},ob=ib||$l.CSSStyleSheet===void 0?t=>t:t=>t instanceof CSSStyleSheet?(r=>{let e="";for(let n of r.cssRules)e+=n.cssText;return rk(e)})(t):t});var Bie,Wie,$ie,Uie,zie,Vie,Vl,nk,Hie,Nw,zl,sb,Fw,ik,Wi,Hl=G(()=>{v();ek();Rw();Rw();({is:Bie,defineProperty:Wie,getOwnPropertyDescriptor:$ie,getOwnPropertyNames:Uie,getOwnPropertySymbols:zie,getPrototypeOf:Vie}=Object),Vl=globalThis;Vl.customElements??=QI;nk=Vl.trustedTypes,Hie=nk?nk.emptyScript:"",Nw=Vl.reactiveElementPolyfillSupport,zl=(t,r)=>t,sb={toAttribute(t,r){switch(r){case Boolean:t=t?Hie:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,r){let e=t;switch(r){case Boolean:e=t!==null;break;case Number:e=t===null?null:Number(t);break;case Object:case Array:try{e=JSON.parse(t)}catch{e=null}}return e}},Fw=(t,r)=>!Bie(t,r),ik={attribute:!0,type:String,converter:sb,reflect:!1,hasChanged:Fw};Symbol.metadata??=Symbol("metadata"),Vl.litPropertyMetadata??=new WeakMap;Wi=class extends(globalThis.HTMLElement??XI){static addInitializer(r){this._$Ei(),(this.l??=[]).push(r)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(r,e=ik){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(r,e),!e.noAccessor){let n=Symbol(),i=this.getPropertyDescriptor(r,n,e);i!==void 0&&Wie(this.prototype,r,i)}}static getPropertyDescriptor(r,e,n){let{get:i,set:o}=$ie(this.prototype,r)??{get(){return this[e]},set(s){this[e]=s}};return{get(){return i==null?void 0:i.call(this)},set(s){let a=i==null?void 0:i.call(this);o.call(this,s),this.requestUpdate(r,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(r){return this.elementProperties.get(r)??ik}static _$Ei(){if(this.hasOwnProperty(zl("elementProperties")))return;let r=Vie(this);r.finalize(),r.l!==void 0&&(this.l=[...r.l]),this.elementProperties=new Map(r.elementProperties)}static finalize(){if(this.hasOwnProperty(zl("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(zl("properties"))){let e=this.properties,n=[...Uie(e),...zie(e)];for(let i of n)this.createProperty(i,e[i])}let r=this[Symbol.metadata];if(r!==null){let e=litPropertyMetadata.get(r);if(e!==void 0)for(let[n,i]of e)this.elementProperties.set(n,i)}this._$Eh=new Map;for(let[e,n]of this.elementProperties){let i=this._$Eu(e,n);i!==void 0&&this._$Eh.set(i,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(r){let e=[];if(Array.isArray(r)){let n=new Set(r.flat(1/0).reverse());for(let i of n)e.unshift(ob(i))}else r!==void 0&&e.push(ob(r));return e}static _$Eu(r,e){let n=e.attribute;return n===!1?void 0:typeof n=="string"?n:typeof r=="string"?r.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var r;this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),(r=this.constructor.l)==null||r.forEach(e=>e(this))}addController(r){var e;(this._$EO??=new Set).add(r),this.renderRoot!==void 0&&this.isConnected&&((e=r.hostConnected)==null||e.call(r))}removeController(r){var e;(e=this._$EO)==null||e.delete(r)}_$E_(){let r=new Map,e=this.constructor.elementProperties;for(let n of e.keys())this.hasOwnProperty(n)&&(r.set(n,this[n]),delete this[n]);r.size>0&&(this._$Ep=r)}createRenderRoot(){let r=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Lw(r,this.constructor.elementStyles),r}connectedCallback(){var r;this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),(r=this._$EO)==null||r.forEach(e=>{var n;return(n=e.hostConnected)==null?void 0:n.call(e)})}enableUpdating(r){}disconnectedCallback(){var r;(r=this._$EO)==null||r.forEach(e=>{var n;return(n=e.hostDisconnected)==null?void 0:n.call(e)})}attributeChangedCallback(r,e,n){this._$AK(r,n)}_$EC(r,e){var o;let n=this.constructor.elementProperties.get(r),i=this.constructor._$Eu(r,n);if(i!==void 0&&n.reflect===!0){let s=(((o=n.converter)==null?void 0:o.toAttribute)!==void 0?n.converter:sb).toAttribute(e,n.type);this._$Em=r,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(r,e){var o;let n=this.constructor,i=n._$Eh.get(r);if(i!==void 0&&this._$Em!==i){let s=n.getPropertyOptions(i),a=typeof s.converter=="function"?{fromAttribute:s.converter}:((o=s.converter)==null?void 0:o.fromAttribute)!==void 0?s.converter:sb;this._$Em=i,this[i]=a.fromAttribute(e,s.type),this._$Em=null}}requestUpdate(r,e,n){if(r!==void 0){if(n??=this.constructor.getPropertyOptions(r),!(n.hasChanged??Fw)(this[r],e))return;this.P(r,e,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(r,e,n){this._$AL.has(r)||this._$AL.set(r,e),n.reflect===!0&&this._$Em!==r&&(this._$Ej??=new Set).add(r)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}let r=this.scheduleUpdate();return r!=null&&await r,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[o,s]of this._$Ep)this[o]=s;this._$Ep=void 0}let i=this.constructor.elementProperties;if(i.size>0)for(let[o,s]of i)s.wrapped!==!0||this._$AL.has(o)||this[o]===void 0||this.P(o,this[o],s)}let r=!1,e=this._$AL;try{r=this.shouldUpdate(e),r?(this.willUpdate(e),(n=this._$EO)==null||n.forEach(i=>{var o;return(o=i.hostUpdate)==null?void 0:o.call(i)}),this.update(e)):this._$EU()}catch(i){throw r=!1,this._$EU(),i}r&&this._$AE(e)}willUpdate(r){}_$AE(r){var e;(e=this._$EO)==null||e.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(r)),this.updated(r)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(r){return!0}update(r){this._$Ej&&=this._$Ej.forEach(e=>this._$EC(e,this[e])),this._$EU()}updated(r){}firstUpdated(r){}};Wi.elementStyles=[],Wi.shadowRootOptions={mode:"open"},Wi[zl("elementProperties")]=new Map,Wi[zl("finalized")]=new Map,Nw==null||Nw({ReactiveElement:Wi}),(Vl.reactiveElementVersions??=[]).push("2.0.4")});function fk(t,r){if(!Ww(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return ok!==void 0?ok.createHTML(r):r}function zs(t,r,e=t,n){var s,a;if(r===Dn)return r;let i=n!==void 0?(s=e.o)==null?void 0:s[n]:e.l,o=Jl(r)?void 0:r._$litDirective$;return(i==null?void 0:i.constructor)!==o&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),o===void 0?i=void 0:(i=new o(t),i._$AT(t,e,n)),n!==void 0?(e.o??=[])[n]=i:e.l=i),i!==void 0&&(r=zs(t,i._$AS(t,r.values),i,n)),r}var fb,ab,ok,qw,$i,Bw,Gie,Us,Zl,Jl,Ww,dk,jw,Gl,sk,ak,Ws,uk,ck,pk,$w,K,E_e,O_e,Dn,Qt,lk,$s,hk,Yl,ub,$u,Vs,cb,lb,db,pb,mk,Dw,vk,Hs=G(()=>{v();fb=globalThis,ab=fb.trustedTypes,ok=ab?ab.createPolicy("lit-html",{createHTML:t=>t}):void 0,qw="$lit$",$i=`lit$${Math.random().toFixed(9).slice(2)}$`,Bw="?"+$i,Gie=`<${Bw}>`,Us=fb.document===void 0?{createTreeWalker:()=>({})}:document,Zl=()=>Us.createComment(""),Jl=t=>t===null||typeof t!="object"&&typeof t!="function",Ww=Array.isArray,dk=t=>Ww(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",jw=`[ 	
\f\r]`,Gl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,sk=/-->/g,ak=/>/g,Ws=RegExp(`>|${jw}(?:([^\\s"'>=/]+)(${jw}*=${jw}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),uk=/'/g,ck=/"/g,pk=/^(?:script|style|textarea|title)$/i,$w=t=>(r,...e)=>({_$litType$:t,strings:r,values:e}),K=$w(1),E_e=$w(2),O_e=$w(3),Dn=Symbol.for("lit-noChange"),Qt=Symbol.for("lit-nothing"),lk=new WeakMap,$s=Us.createTreeWalker(Us,129);hk=(t,r)=>{let e=t.length-1,n=[],i,o=r===2?"<svg>":r===3?"<math>":"",s=Gl;for(let a=0;a<e;a++){let c=t[a],l,p,h=-1,f=0;for(;f<c.length&&(s.lastIndex=f,p=s.exec(c),p!==null);)f=s.lastIndex,s===Gl?p[1]==="!--"?s=sk:p[1]!==void 0?s=ak:p[2]!==void 0?(pk.test(p[2])&&(i=RegExp("</"+p[2],"g")),s=Ws):p[3]!==void 0&&(s=Ws):s===Ws?p[0]===">"?(s=i??Gl,h=-1):p[1]===void 0?h=-2:(h=s.lastIndex-p[2].length,l=p[1],s=p[3]===void 0?Ws:p[3]==='"'?ck:uk):s===ck||s===uk?s=Ws:s===sk||s===ak?s=Gl:(s=Ws,i=void 0);let b=s===Ws&&t[a+1].startsWith("/>")?" ":"";o+=s===Gl?c+Gie:h>=0?(n.push(l),c.slice(0,h)+qw+c.slice(h)+$i+b):c+$i+(h===-2?a:b)}return[fk(t,o+(t[e]||"<?>")+(r===2?"</svg>":r===3?"</math>":"")),n]},Yl=class t{constructor({strings:r,_$litType$:e},n){let i;this.parts=[];let o=0,s=0,a=r.length-1,c=this.parts,[l,p]=hk(r,e);if(this.el=t.createElement(l,n),$s.currentNode=this.el.content,e===2||e===3){let h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=$s.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(let h of i.getAttributeNames())if(h.endsWith(qw)){let f=p[s++],b=i.getAttribute(h).split($i),g=/([.?@])?(.*)/.exec(f);c.push({type:1,index:o,name:g[2],strings:b,ctor:g[1]==="."?cb:g[1]==="?"?lb:g[1]==="@"?db:Vs}),i.removeAttribute(h)}else h.startsWith($i)&&(c.push({type:6,index:o}),i.removeAttribute(h));if(pk.test(i.tagName)){let h=i.textContent.split($i),f=h.length-1;if(f>0){i.textContent=ab?ab.emptyScript:"";for(let b=0;b<f;b++)i.append(h[b],Zl()),$s.nextNode(),c.push({type:2,index:++o});i.append(h[f],Zl())}}}else if(i.nodeType===8)if(i.data===Bw)c.push({type:2,index:o});else{let h=-1;for(;(h=i.data.indexOf($i,h+1))!==-1;)c.push({type:7,index:o}),h+=$i.length-1}o++}}static createElement(r,e){let n=Us.createElement("template");return n.innerHTML=r,n}};ub=class{constructor(r,e){this._$AV=[],this._$AN=void 0,this._$AD=r,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(r){let{el:{content:e},parts:n}=this._$AD,i=((r==null?void 0:r.creationScope)??Us).importNode(e,!0);$s.currentNode=i;let o=$s.nextNode(),s=0,a=0,c=n[0];for(;c!==void 0;){if(s===c.index){let l;c.type===2?l=new $u(o,o.nextSibling,this,r):c.type===1?l=new c.ctor(o,c.name,c.strings,this,r):c.type===6&&(l=new pb(o,this,r)),this._$AV.push(l),c=n[++a]}s!==(c==null?void 0:c.index)&&(o=$s.nextNode(),s++)}return $s.currentNode=Us,i}p(r){let e=0;for(let n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(r,n,e),e+=n.strings.length-2):n._$AI(r[e])),e++}},$u=class t{get _$AU(){var r;return((r=this._$AM)==null?void 0:r._$AU)??this.v}constructor(r,e,n,i){this.type=2,this._$AH=Qt,this._$AN=void 0,this._$AA=r,this._$AB=e,this._$AM=n,this.options=i,this.v=(i==null?void 0:i.isConnected)??!0}get parentNode(){let r=this._$AA.parentNode,e=this._$AM;return e!==void 0&&(r==null?void 0:r.nodeType)===11&&(r=e.parentNode),r}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(r,e=this){r=zs(this,r,e),Jl(r)?r===Qt||r==null||r===""?(this._$AH!==Qt&&this._$AR(),this._$AH=Qt):r!==this._$AH&&r!==Dn&&this._(r):r._$litType$!==void 0?this.$(r):r.nodeType!==void 0?this.T(r):dk(r)?this.k(r):this._(r)}O(r){return this._$AA.parentNode.insertBefore(r,this._$AB)}T(r){this._$AH!==r&&(this._$AR(),this._$AH=this.O(r))}_(r){this._$AH!==Qt&&Jl(this._$AH)?this._$AA.nextSibling.data=r:this.T(Us.createTextNode(r)),this._$AH=r}$(r){var o;let{values:e,_$litType$:n}=r,i=typeof n=="number"?this._$AC(r):(n.el===void 0&&(n.el=Yl.createElement(fk(n.h,n.h[0]),this.options)),n);if(((o=this._$AH)==null?void 0:o._$AD)===i)this._$AH.p(e);else{let s=new ub(i,this),a=s.u(this.options);s.p(e),this.T(a),this._$AH=s}}_$AC(r){let e=lk.get(r.strings);return e===void 0&&lk.set(r.strings,e=new Yl(r)),e}k(r){Ww(this._$AH)||(this._$AH=[],this._$AR());let e=this._$AH,n,i=0;for(let o of r)i===e.length?e.push(n=new t(this.O(Zl()),this.O(Zl()),this,this.options)):n=e[i],n._$AI(o),i++;i<e.length&&(this._$AR(n&&n._$AB.nextSibling,i),e.length=i)}_$AR(r=this._$AA.nextSibling,e){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,e);r&&r!==this._$AB;){let i=r.nextSibling;r.remove(),r=i}}setConnected(r){var e;this._$AM===void 0&&(this.v=r,(e=this._$AP)==null||e.call(this,r))}},Vs=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(r,e,n,i,o){this.type=1,this._$AH=Qt,this._$AN=void 0,this.element=r,this.name=e,this._$AM=i,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Qt}_$AI(r,e=this,n,i){let o=this.strings,s=!1;if(o===void 0)r=zs(this,r,e,0),s=!Jl(r)||r!==this._$AH&&r!==Dn,s&&(this._$AH=r);else{let a=r,c,l;for(r=o[0],c=0;c<o.length-1;c++)l=zs(this,a[n+c],e,c),l===Dn&&(l=this._$AH[c]),s||=!Jl(l)||l!==this._$AH[c],l===Qt?r=Qt:r!==Qt&&(r+=(l??"")+o[c+1]),this._$AH[c]=l}s&&!i&&this.j(r)}j(r){r===Qt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,r??"")}},cb=class extends Vs{constructor(){super(...arguments),this.type=3}j(r){this.element[this.name]=r===Qt?void 0:r}},lb=class extends Vs{constructor(){super(...arguments),this.type=4}j(r){this.element.toggleAttribute(this.name,!!r&&r!==Qt)}},db=class extends Vs{constructor(r,e,n,i,o){super(r,e,n,i,o),this.type=5}_$AI(r,e=this){if((r=zs(this,r,e,0)??Qt)===Dn)return;let n=this._$AH,i=r===Qt&&n!==Qt||r.capture!==n.capture||r.once!==n.once||r.passive!==n.passive,o=r!==Qt&&(n===Qt||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,r),this._$AH=r}handleEvent(r){var e;typeof this._$AH=="function"?this._$AH.call(((e=this.options)==null?void 0:e.host)??this.element,r):this._$AH.handleEvent(r)}},pb=class{constructor(r,e,n){this.element=r,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(r){zs(this,r)}},mk={M:qw,P:$i,A:Bw,C:1,L:hk,R:ub,D:dk,V:zs,I:$u,H:Vs,N:lb,U:db,B:cb,F:pb},Dw=fb.litHtmlPolyfillSupport;Dw==null||Dw(Yl,$u),(fb.litHtmlVersions??=[]).push("3.2.0");vk=(t,r,e)=>{let n=(e==null?void 0:e.renderBefore)??r,i=n._$litPart$;if(i===void 0){let o=(e==null?void 0:e.renderBefore)??null;n._$litPart$=i=new $u(r.insertBefore(Zl(),o),o,void 0,e??{})}return i._$AI(t),i}});var Ce,bk,Uw,gk=G(()=>{v();Hl();Hl();Hs();Hs();Ce=class extends Wi{constructor(){super(...arguments),this.renderOptions={host:this},this.o=void 0}createRenderRoot(){let r=super.createRenderRoot();return this.renderOptions.renderBefore??=r.firstChild,r}update(r){let e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(r),this.o=vk(e,this.renderRoot,this.renderOptions)}connectedCallback(){var r;super.connectedCallback(),(r=this.o)==null||r.setConnected(!0)}disconnectedCallback(){var r;super.disconnectedCallback(),(r=this.o)==null||r.setConnected(!1)}render(){return Dn}};Ce._$litElement$=!0,Ce.finalized=!0,(bk=globalThis.litElementHydrateSupport)==null||bk.call(globalThis,{LitElement:Ce});Uw=globalThis.litElementPolyfillSupport;Uw==null||Uw({LitElement:Ce});(globalThis.litElementVersions??=[]).push("4.1.0")});var yk=G(()=>{v();});var Re=G(()=>{v();Hl();Hs();gk();yk()});var zw,_k=G(()=>{v();Re();zw=Ae`
  * {
    --sv-primary: 98, 16, 204;
    --sv-primary-900: 56, 7, 136;
    --sv-primary-200: 193, 161, 234;
    --sv-secondary: 193, 251, 223;
    --sv-gray: 126, 122, 136;
    --sv-success: 12, 185, 71;
    --sv-danger: 229, 65, 30;
    --sv-black: 19, 18, 21;
    --sv-white: 255, 255, 255;
    --sv-gray-100: 250, 250, 252;
    --sv-gray-200: 233, 229, 239;
    --sv-gray-300: 201, 196, 209;
    --sv-gray-400: 174, 169, 184;
    --sv-gray-500: 126, 122, 136;
    --sv-gray-600: 87, 83, 95;
    --sv-gray-700: 57, 54, 62;
    --sv-gray-800: 38, 36, 42;
  }

  .sv-gray-200 {
    color: rgb(var(--sv-gray-200));
  }

  .sv-gray-400 {
    color: rgb(var(--sv-gray-400));
  }

  .sv-gray-500 {
    color: rgb(var(--sv-gray-500));
  }

  .sv-gray-600 {
    color: rgb(var(--sv-gray-600));
  }

  .sv-gray-700 {
    color: rgb(var(--sv-gray-700));
  }
`});var Vw,wk=G(()=>{v();Re();Vw=Ae`
  .text {
    font-family: Roboto;
    font-size: 12px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
  }

  .text-bold {
    font-weight: 700;
  }

  .text-big {
    font-size: 14px;
  }

  .text-small {
    font-size: 10px;
  }
`});var Hw,Ek=G(()=>{v();Re();Hw=Ae`
  .sv-hr {
    width: 100%;
    height: 1px;
    background: rgb(var(--sv-gray-200));
    padding: 0px;
    margin: 0px;
    position: relative;
  }
`});var Gw,Ok=G(()=>{v();Re();Gw=Ae`
  .icon-button {
    display: flex;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0);
    border: 0px;
    width: 32px;
    height: 32px;
  }

  .icon-button > superviz-icon {
    display: flex !important;
  }

  .icon-button--xsmall {
    width: 18px;
    height: 18px;
  }

  .icon-button--small {
    width: 24px;
    height: 24px;
  }

  .icon-button--medium {
    width: 32px;
    height: 32px;
  }

  .icon-button--large {
    width: 40px;
    height: 40px;
  }

  .icon-button--clickable {
    cursor: pointer;
    border-radius: 100%;
  }

  .icon-button--clickable:hover:not(.icon-button--no-hover) {
    background: rgb(var(--sv-gray-300));
    transition: 0.25s background-color ease-in;
  }
  
  .icon-button--clickable:focus:not(.icon-button--no-hover) {
    transition: 0.25s background-color ease-in;
    background: rgb(var(--sv-gray-300));
  }
`});var Sk=G(()=>{v();_k();wk();Ek();Ok()});var $e,qt=G(()=>{v();Ds();An();Sk();$e=t=>{class r extends t{constructor(){super(...arguments);this.unsubscribeFrom=[];this.useStore=Lt.bind(this)}connectedCallback(){setTimeout(()=>{var a,c;let i=document.getElementById("superviz-style"),o=this.createCustomColors(),s=document.createElement("style");s.innerHTML=(i==null?void 0:i.innerHTML)||"",(a=this.shadowRoot)==null||a.appendChild(s),o&&((c=this.shadowRoot)==null||c.appendChild(o))}),super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribeFrom.forEach(i=>i(this))}createCustomColors(){if(!me.get("colors"))return;let i=document.createElement("style"),o=Object.entries(me.get("colors")).map(([s,a])=>`--${s}: ${a} !important;`).join(" ");return i.innerHTML=`
      * {
        ${o}
      }
    `,i}emitEvent(i,o,s={composed:!0,bubbles:!0}){let a=new CustomEvent(i,{detail:o,...s});this.dispatchEvent(a)}}return r.styles=[zw,Vw,Hw,Gw,t.styles??[]],r}});var Zw,Pk=G(()=>{v();Zw=(o=>(o[o.xs=14]="xs",o[o.sm=18]="sm",o[o.md=24]="md",o[o.lg=36]="lg",o[o.xl=44]="xl",o))(Zw||{})});var Tk,xk=G(()=>{v();Tk=t=>(r,e)=>{e!==void 0?e.addInitializer(()=>{customElements.define(t,r)}):customElements.define(t,r)}});var Jw=G(()=>{v();Hl();});var Ak=G(()=>{v();Jw();});var Ck=G(()=>{v();});var Uu=G(()=>{v();});var Mk=G(()=>{v();Uu();});var Ik=G(()=>{v();Uu();});var kk=G(()=>{v();Uu();});var Lk=G(()=>{v();Uu();});var Rk=G(()=>{v();Uu();});var Nk=G(()=>{v();xk();Jw();Ak();Ck();Mk();Ik();kk();Lk();Rk()});function qe(t){return function(r){let e=!!customElements.get(t);typeof window>"u"||typeof HTMLElement>"u"||e||Tk(t)(r)}}var Rt=G(()=>{v();Nk()});var jk={};Vt(jk,{Icon:()=>Gs});var Fk,Zie,Gs,Dk=G(()=>{v();Re();qt();Pk();Rt();Fk=$e(Ce),Zie=[Fk.styles],Gs=class extends Fk{constructor(){super(),this.name="",this.size="md"}get iconSize(){return Zw[this.size]}render(){return this.color||="black",K`
      <i
        class="sv-icon sv-icon-${this.name}_${this.suffix??this.size} ${this.color}"
        style="font-size: ${this.iconSize}px"
      ></i>
    `}};Gs.properties={name:{type:String},size:{type:String},color:{type:String},suffix:{type:String}},Gs.styles=[Zie,Ae`
      div {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: black;
        color: white;
      }

      i,
      i.black {
        color: rgba(var(--sv-gray-600));
      }

      i.white {
        color: white;
      }
    `],Gs=Fe([qe("superviz-icon")],Gs)});var mb,vb,zu,Yw=G(()=>{v();mb={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},vb=t=>(...r)=>({_$litDirective$:t,values:r}),zu=class{constructor(r){}get _$AU(){return this._$AM._$AU}_$AT(r,e,n){this.t=r,this._$AM=e,this.i=n}_$AS(r,e){return this.update(r,e)}update(r,e){return this.render(...e)}}});var Ie,qk=G(()=>{v();Hs();Yw();Ie=vb(class extends zu{constructor(t){var r;if(super(t),t.type!==mb.ATTRIBUTE||t.name!=="class"||((r=t.strings)==null?void 0:r.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(r=>t[r]).join(" ")+" "}update(t,[r]){var n,i;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(let o in r)r[o]&&!((n=this.nt)!=null&&n.has(o))&&this.st.add(o);return this.render(r)}let e=t.element.classList;for(let o of this.st)o in r||(e.remove(o),this.st.delete(o));for(let o in r){let s=!!r[o];s===this.st.has(o)||(i=this.nt)!=null&&i.has(o)||(s?(e.add(o),this.st.add(o)):(e.remove(o),this.st.delete(o)))}return Dn}})});var Yr=G(()=>{v();qk()});function pt(t){let r=document.getElementById(`superviz-${t}-styles`);if(!r)return;let e=new CSSStyleSheet;e.replaceSync(r.textContent),this.shadowRoot.adoptedStyleSheets=[...this.shadowRoot.adoptedStyleSheets,e]}var Or=G(()=>{v()});var Bk,Wk=G(()=>{v();Re();Bk=Ae`
  .dropdown {
    position: relative;
    z-index: 100;
  }

  .dropdown-content {
    display: flex;
  }

  .select-clicked {
    border: 2px #26489a solid;
  }

  .dropdown-list {
    position: relative;
    z-index: 101;
  }

  .header {
    display: grid;
    grid-template-rows: 1fr 1px;
    align-items: center;
    padding: 0 10px;
    min-height: 42px;
    font-size: 16px;
    color: rgb(var(--sv-gray-600));
  }

  .menu {
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    opacity: 0;
    display: none;
    background: #fff;
    padding: 0;
    z-index: 1;
    transition: 0.2s;
    border-radius: 3px;
  }

  .items {
    list-style: none;
    padding: 0;
    color: #9fa5b5;
    margin: 0;
  }

  .text.username {
    font-size: 14px;
    text-align: left;

    display: inline-block;
    vertical-align: middle;
    line-height: normal;
    padding: 8px 0;
  }

  .items li {
    color: rgb(var(--sv-gray-600));
    text-transform: uppercase;
    padding: 0 10px;
    cursor: pointer;
    min-width: 103px;
    min-height: 32px;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 5px;
    height: 42px;
  }

  .sv-icon {
    width: 40px;
    height: 40px;
    background-color: red;
  }

  .active {
    background: rgb(var(--sv-gray-200));
  }

  .items li:hover {
    background: rgb(var(--sv-gray-200));
  }

  .menu-open {
    display: block;
    opacity: 1;
    position: fixed;
  }

  .sv-hr {
    width: 100%;
    height: 1px;
    background: rgb(var(--sv-gray-300));
    padding: 0px;
    margin: 0px;
    justify-self: flex-end;
  }

  .option-label {
    white-space: nowrap;
    line-height: 1;
  }

  .who-is-online__controls__item__icon {
    line-height: 1;
  }

  .who-is-online__controls__item {
    align-items: center;
  }

  @media (max-width: 780px) {
    .menu--top-left,
    .menu--top-center,
    .menu--top-right {
      bottom: 36px;
    }
  }
`});var Uk={};Vt(Uk,{Dropdown:()=>Zs});var $k,Jie,Zs,zk=G(()=>{v();Re();Yr();qt();Or();Wk();Rt();$k=$e(Ce),Jie=[$k.styles,Bk],Zs=class extends $k{constructor(){super();this.menu=void 0;this.onClickOutDropdown=e=>{if(e.stopPropagation(),!this.open)return;let n=e.composedPath(),i=this.shadowRoot.querySelector(".dropdown-content"),o=this.shadowRoot.querySelector(".dropdown-list"),a=this.shadowRoot.querySelector('slot[name="dropdown"]').assignedElements()[0],c=n.includes(i),l=n.includes(o),p=n.includes(a);c||l||p||this.close()};this.close=()=>{this.open=!1,this.emitEvent("close",{bubbles:!1,composed:!1})};this.callbackSelected=({label:e})=>{this.open=!1,this.emitEvent("selected",{...this.returnData,label:e},{bubbles:!1,composed:!0})};this.adjustPosition=()=>{if(!this.open){cancelAnimationFrame(this.animationFrame);return}this.setHorizontalPosition(),this.setPositionVertical(),this.animationFrame=requestAnimationFrame(this.adjustPosition)};this.tooltip=()=>{if(!this.canShowTooltip)return"";let e=this.lastParticipant?"tooltip-top":"tooltip-bottom";return K` <superviz-tooltip
      tooltipData=${JSON.stringify(this.tooltipData)}
      ?shiftTooltipLeft=${this.shiftTooltipLeft}
      tooltipVerticalPosition=${e}
      classesPrefix="${this.tooltipPrefix}__tooltip"
      parentComponent=${this.parentComponent}
    ></superviz-tooltip>`};this.showTooltip=!1,this.returnData={}}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{this.menu=this.shadowRoot.querySelector(".menu"),pt.call(this,[this.parentComponent])})}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this.onClickOutDropdown);let e=this.shadowRoot.querySelector(".dropdown");e==null||e.removeEventListener("mouseenter",()=>{this.showTooltip=!0}),e==null||e.removeEventListener("mouseleave",()=>{this.showTooltip=!1})}updated(e){if(e.has("open")){if(this.emitEvent("toggle-dropdown-state",{open:this.open,font:this.name},{bubbles:!1,composed:!1}),this.open){document.addEventListener("click",this.onClickOutDropdown),this.animationFrame=requestAnimationFrame(this.adjustPosition);return}document.removeEventListener("click",this.onClickOutDropdown)}}setHorizontalPosition(){let e=this.shadowRoot.querySelector('slot[name="dropdown"]'),{left:n,right:i,width:o}=e.parentElement.getBoundingClientRect(),{width:s}=this.menu.getBoundingClientRect(),a=n-(s-o)/2<0,c=i+(s-o)/2>window.innerWidth;if(this.shiftTooltipLeft){this.menu.style.left=`${n+8}px`,this.menu.style.right="",this.menu.style.transform="translate(0, 0)";return}if(!a&&!c){this.menu.style.left=`${n}px`,this.menu.style.right="",this.menu.style.transform=`translate(calc(-50% + ${o/2}px), 0)`;return}if(!a){this.menu.style.left="",this.menu.style.right=`${window.innerWidth-i}px`,this.menu.style.transform="translate(0, 0)";return}c||(this.menu.style.right="",this.menu.style.left=`${i-o}px`,this.menu.style.transform="translate(0, 0)")}setPositionVertical(){let e=this.shadowRoot.querySelector('slot[name="dropdown"]'),{top:n,bottom:i}=e.parentElement.getBoundingClientRect(),{height:o}=this.menu.getBoundingClientRect(),s=this.shiftTooltipLeft?-2:8;if(!(i+o+s>window.innerHeight)){this.menu.style.bottom="",this.menu.style.top=`${i+s}px`;return}this.menu.style.top="auto",this.menu.style.bottom=`${window.innerHeight-n+s}px`}get renderHeader(){return this.name?K` <div class="header ${this.getClass("header")}">
      <span class="text username ${this.getClass("title")}">${this.name}</span>
      <span class="sv-hr ${this.getClass("divisor")}"></span>
    </div>`:K``}toggle(){this.disabled||(this.open=!this.open,this.emitEvent("open",{open:this.open}))}getIcon(e){if(e)return K`
      <span class=${this.getClass("item__icon")}>
        <superviz-icon name="${e}" size="sm"></superviz-icon>
      </span>
    `}getLabel(e){return K`<span class="option-label ${this.getClass("item__label")}">${e}</span>`}get listOptions(){return this.options.map(({label:e,icon:n,active:i})=>{let o={text:!0,[this.getClass("item")]:!0,"text-bold":!0,active:i};return K`<li @click=${()=>this.callbackSelected({label:e})} class=${Ie(o)}>
        ${this.getIcon(n)} ${this.getLabel(e)}
      </li>`})}getClass(e){return`${this.classesPrefix}__${e}`}render(){let e={menu:!0,"menu-open":this.open,"menu-left":this.align==="left","menu-right":this.align==="right","who-is-online-dropdown":this.name};return K`
      <div class="dropdown">
        <div class="dropdown-content" @click=${this.toggle}>
          <slot name="dropdown"></slot>
        </div>
        ${this.tooltip()}
      </div>
      <div class="dropdown-list">
        <div class=${Ie(e)}>
          ${this.renderHeader}
          <ul class="${this.getClass("items")} items">
            ${this.listOptions}
          </ul>
        </div>
      </div>
    `}};Zs.styles=Jie,Zs.properties={open:{type:Boolean},disabled:{type:Boolean},align:{type:String},options:{type:Array},icons:{type:Array},name:{type:String},tooltipData:{type:Object},showTooltip:{type:Boolean},dropdown:{type:Object},canShowTooltip:{type:Boolean},drodpdownSizes:{type:Object},shiftTooltipLeft:{type:Boolean},lastParticipant:{type:Boolean},classesPrefix:{type:String},parentComponent:{type:String},tooltipPrefix:{type:String},returnData:{type:Object}},Zs=Fe([qe("superviz-dropdown")],Zs)});var Vk,Hk=G(()=>{v();Re();Vk=Ae`
  .superviz-who-is-online__tooltip {
    --host-height: 0px;
    --host-width: 0px;
    --vertical-offset: 12px;

    background-color: rgb(var(--sv-gray-600));
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
    position: fixed;
    opacity: 0;
    border-radius: 2px;
    cursor: default;
    visibility: hidden;
    transition: opacity 0.2s ease-in-out display 0s;
    z-index: 100;
    overflow-x: clip;
  }

  .superviz-who-is-online__tooltip-arrow {
    width: 13px;
    height: 13px;
    position: absolute;
    background-color: rgb(var(--sv-gray-600));
    transform: rotate(45deg);
    border-top-left-radius: 1px;
    border-bottom-right-radius: 1px;
  }

  .show-tooltip {
    opacity: 1;
    visibility: visible;
  }

  .tooltip-name,
  .tooltip-action {
    margin: 0;
    font-family: roboto;
    white-space: nowrap;
    text-align: center;
    line-height: 1.2;
  }

  .tooltip-name {
    color: white;
    font-size: 14px;
  }

  .tooltip-action {
    color: rgb(var(--sv-gray-400));
    font-size: 12px;
  }

  .tooltip-top {
    bottom: calc(var(--host-height) + var(--vertical-offset));
  }

  .tooltip-bottom {
    bottom: auto;
  }

  .tooltip-center {
    right: auto;
  }

  .tooltip-bottom .superviz-who-is-online__tooltip-arrow {
    top: -6.5px;
  }

  .tooltip-top .superviz-who-is-online__tooltip-arrow {
    bottom: -6.5px;
  }

  .tooltip-center .superviz-who-is-online__tooltip-arrow {
    left: 0;
    margin-left: 50%;
    translate: -50% 0;
  }

  .tooltip-left .superviz-who-is-online__tooltip-arrow {
    translate: 50% 0;
    border-radius: 0;
    right: 0;
  }

  .tooltip-right .superviz-who-is-online__tooltip-arrow {
    translate: -50% 0;
    border-radius: 0;
    left: 0;
  }

  .shift-left {
    --vertical-offset: 2px;
  }
`});var Gk=G(()=>{v()});var Jk={};Vt(Jk,{Tooltip:()=>Js});var Zk,Yie,Js,Yk=G(()=>{v();Re();Yr();qt();Or();Hk();Gk();Rt();Zk=$e(Ce),Yie=[Zk.styles,Vk],Js=class extends Zk{constructor(){super();this.positionFixedTooltip=()=>{var w,_,S,x,C;if(!this.canAnimate||!this.parentElement){this.hide();return}this.adjustTooltipPosition();let{bottom:e,left:n,width:i,right:o,top:s}=this.parentElement.getBoundingClientRect(),{width:a}=this.tooltip.getBoundingClientRect(),c="auto",l="auto",p="auto",h="auto",f="",b=window.innerWidth>780,g=b?14:12;this.tooltipHorizontalPosition.includes("right")&&(p=`${n+i/2}px`),this.tooltipHorizontalPosition.includes("left")&&(h=`${window.innerWidth-(o-i/2)}px`),this.tooltipHorizontalPosition.includes("center")&&(p=`${n}px`,f=`translateX(-${(a-i)/2}px)`),this.tooltipVerticalPosition.includes("bottom")&&(c=`${e+g}px`,g=-10),this.tooltipVerticalPosition.includes("top")&&(l=`${window.innerHeight-(s-g)}px`,g=10),this.shiftTooltipLeft&&(f=`translate(-${(a-(b?18:10)-42)/2}px, ${g}px)`),(w=this.tooltip)==null||w.style.setProperty("top",c),(_=this.tooltip)==null||_.style.setProperty("left",p),(S=this.tooltip)==null||S.style.setProperty("right",h),(x=this.tooltip)==null||x.style.setProperty("bottom",l),(C=this.tooltip)==null||C.style.setProperty("transform",f),this.animationFrame=window.requestAnimationFrame(this.positionFixedTooltip)};this.hide=()=>{this.canAnimate=!1,this.showTooltip=!1,window.cancelAnimationFrame(this.animationFrame)};this.show=()=>{this.canAnimate=!0,this.showTooltip=!0,this.positionFixedTooltip()};this.adjustTooltipVerticalPosition=()=>{let{bottom:e,top:n,width:i}=this.tooltip.getBoundingClientRect(),o=window.innerHeight;if(this.tooltipVerticalPosition.includes("top")&&n<0){this.tooltipVerticalPosition=this.tooltipVerticalPosition.replace("top","bottom");return}this.tooltipVerticalPosition.includes("bottom")&&e>o&&(this.tooltipVerticalPosition=this.tooltipVerticalPosition.replace("bottom","top"))};this.adjustTooltipHorizontalPosition=()=>{let{left:e,right:n,width:i}=this.tooltip.getBoundingClientRect(),o=window.innerWidth,{left:s,width:a,right:c}=this.parentElement.getBoundingClientRect(),l=s+a/2-i/2>0,p=i/2+c-a/2<o;if(l&&p){this.tooltipHorizontalPosition=this.tooltipHorizontalPosition.replace(/left|right/,"center");return}if(e<0){this.tooltipHorizontalPosition=this.tooltipHorizontalPosition.replace("center","right");return}n>o&&(this.tooltipHorizontalPosition=this.tooltipHorizontalPosition.replace("center","left"))};this.adjustTooltipPosition=()=>{if(!this.parentElement){this.hide();return}this.tooltip||(this.tooltip=this.shadowRoot.querySelector(".superviz-who-is-online__tooltip")),this.adjustTooltipVerticalPosition(),this.adjustTooltipHorizontalPosition()};this.tooltipVerticalPosition="tooltip-bottom",this.tooltipHorizontalPosition="tooltip-center",this.showTooltip=!1,this.parentSizes={height:0,width:0}}firstUpdated(e){let{parentElement:n}=this;n==null||n.addEventListener("mouseenter",this.show),n==null||n.addEventListener("mouseleave",this.hide),this.adjustTooltipPosition(),pt.call(this,this.parentComponent)}disconnectedCallback(){super.disconnectedCallback();let{parentElement:e}=this;e==null||e.removeEventListener("mouseenter",this.show),e==null||e.removeEventListener("mouseleave",this.hide)}updated(e){if(e.has("showTooltip")&&this.showTooltip){let{parentElement:n}=this;if(!n)return;let{height:i,width:o}=n.getBoundingClientRect();(this.parentSizes.height!==i||this.parentSizes.width!==o)&&(this.parentSizes={height:i,width:o})}}getClass(e){return e?`${this.classesPrefix}__${e}`:this.classesPrefix}renderTooltip(){var o,s,a,c,l;let e=this.tooltipVerticalPosition,n=this.tooltipHorizontalPosition,i={"superviz-who-is-online__tooltip":!0,[this.getClass("")]:!0,[e]:!0,[n]:!0,"tooltip-extras":this.tooltipOnLeft,"show-tooltip":this.showTooltip,"shift-left":this.shiftTooltipLeft};return K`<div
      class=${Ie(i)}
      style="--host-height: ${(o=this.parentSizes)==null?void 0:o.height}px; --host-width: ${(s=this.parentSizes)==null?void 0:s.width}px;"
    >
      <p class="tooltip-name ${this.getClass("title")}">${(a=this.tooltipData)==null?void 0:a.name}</p>
      ${(c=this.tooltipData)!=null&&c.info?K`<p class="tooltip-action ${this.getClass("action")}">${(l=this.tooltipData)==null?void 0:l.info}</p>`:""}
      <div class="superviz-who-is-online__tooltip-arrow ${this.getClass("")}"></div>
    </div>`}render(){return K`${this.renderTooltip()}`}};Js.styles=Yie,Js.properties={tooltipData:{type:Object},tooltipOnLeft:{type:Boolean},showTooltip:{type:Boolean},tooltip:{type:Object},tooltipVerticalPosition:{type:String},tooltipHorizontalPosition:{type:String},parentSizes:{type:Object},shiftTooltipLeft:{type:Boolean},classesPrefix:{type:String},parentComponent:{type:String}},Js=Fe([qe("superviz-tooltip")],Js)});var bb,Kw=G(()=>{v();Re();bb=Ae`
  .modal--overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(var(--sv-gray-400), 0.8);

    z-index: 999;
  }

  .modal--container {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: transparent;

    z-index: 1000;
  }

  .modal--container > .modal {
    background: #fff;
    min-width: 370px;
    min-height: 150px;
    border-radius: 6px;
  }

  .modal--container > .modal > .modal--header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 16px;
    background: rgb(var(--sv-gray-200));
    border-radius: 6px 6px 0 0;
  }

  .modal--container > .modal > .modal--header > .text {
    display: flex;
    align-items: center;
  }

  .modal--container > .modal > .modal--header > .close {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: rgb(var(--sv-gray-600));
    cursor: pointer;
  }

  .modal--container > .modal > .modal--body {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px 24px 0 24px;
  }

  .modal--container > .modal > .modal--body > .modal--body-content {
    padding: 8px 0;
    text-align: center;
  }

  .modal--container > .modal > .modal--footer {
    padding: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 24px;
    padding: 24px;
  }

  .btn {
    width: 150px;
    height: 40px;
    text-transform: uppercase;
  }

  .btn--confirm {
    background: rgb(var(--sv-primary));
    border-radius: 4px;
    border: 1px solid rgb(var(--sv-primary));
    color: #fff;
    cursor: pointer;
  }

  .btn--cancel {
    background: transparent;
    border-radius: 4px;
    border: 1px solid rgb(var(--sv-gray-400));
    color: rgb(var(--sv-gray-400));
    cursor: pointer;
  }
`});var Kk,Kie,Ys,Xk=G(()=>{v();Re();qt();Kw();Rt();Kk=$e(Ce),Kie=[Kk.styles,bb],Ys=class extends Kk{constructor(){super(...arguments);this.getContainer=()=>window.document.querySelector("superviz-modal-container");this.createContainer=e=>{this.modal=document.createElement("superviz-modal-container"),this.modal.setOptions(e)};this.createModal=({detail:e})=>{this.createContainer(e),window.document.body.appendChild(this.modal)};this.destroyModal=()=>{var e;this.modal=void 0,(e=this.getContainer())==null||e.remove()}}firstUpdated(){window.document.body.addEventListener("superviz-modal--open",this.createModal),window.document.body.addEventListener("superviz-modal--close",this.destroyModal)}disconnectedCallback(){this.destroyModal(),window.document.body.removeEventListener("superviz-modal--open",this.createModal),window.document.body.removeEventListener("superviz-modal--close",this.destroyModal)}};Ys.styles=Kie,Ys=Fe([qe("superviz-modal")],Ys)});var Qk,Xie,Ks,eL=G(()=>{v();Re();qt();Kw();Rt();Qk=$e(Ce),Xie=[Qk.styles,bb],Ks=class extends Qk{constructor(){super(...arguments);this.closeModal=()=>{window.document.body.dispatchEvent(new CustomEvent("superviz-modal--close",{bubbles:!0,composed:!0}))};this.confirmModal=()=>{window.document.body.dispatchEvent(new CustomEvent("superviz-modal--confirm",{bubbles:!0,composed:!0}))}}setOptions(e){this.options=e}render(){let e=()=>K`
        <div class="modal--header">
          <span class="text text-bold sv-gray-600">${this.options.title}</span>
          <div class="close" @click=${this.closeModal}>
            <superviz-icon name="close" size="md"></superviz-icon>
          </div>
        </div>
      `,n=()=>K`
        <div class="modal--body">
          <div class="modal--body-content">${this.options.body}</div>
        </div>
      `,i=()=>{if(this.options.footer)return K` <div class="modal--footer">${this.options.footer}</div> `;let o=this.options.confirmLabel||"OK",s=this.options.cancelLabel||"Cancel";return this.options.confirm&&this.options.cancel?K`
          <div class="modal--footer">
            <button class="text text-bold btn btn--cancel" @click=${this.closeModal}>
              ${s}
            </button>
            <button class="text text-bold btn btn--confirm" @click=${this.confirmModal}>
              ${o}
            </button>
          </div>
        `:K`
        <div class="modal--footer">
          <button class="text text-bold btn btn--confirm" @click=${this.confirmModal}>
            ${o}
          </button>
        </div>
      `};return K`
      <div class="modal--overlay"></div>
      <div class="modal--container">
        <div class="modal">${e()} ${n()} ${i()}</div>
      </div>
    `}};Ks.styles=Xie,Ks=Fe([qe("superviz-modal-container")],Ks)});var tL={};Vt(tL,{Modal:()=>Ys,ModalContainer:()=>Ks});var rL=G(()=>{v();Xk();eL()});var Kl,Xw,Qw=G(()=>{v();Kl=(e=>(e.LEFT="left",e.RIGHT="right",e))(Kl||{}),Xw=(i=>(i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i))(Xw||{})});var Xs,qn=G(()=>{v();Xs=(e=>(e.ADD="add",e.SHOW="show",e))(Xs||{})});var eE,nL=G(()=>{v();Re();eE=Ae`
  .superviz-comments {
    --offset-left: 10px;
    --offset-right: 10px;
    --offset-top: 10px;
    --offset-bottom: 10px;

    display: flex;
    flex-direction: column;
    width: 320px;
    position: fixed;
    color: rgb(var(--sv-gray-700));
    background: rgb(var(--sv-white));
    top: 0px;
    bottom: 0;
    box-shadow: -2px 0 4px 0 rgba(0, 0, 0, 0.1);
    z-index: 100;
    overflow: hidden;
    transition: right 0.3s ease-out;
  }

  .header {
    width: 100%;
  }

  .content {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
  }

  .toggle {
    display: flex;
    position: fixed;
    width: 100px;
    color: rgb(var(--sv-gray-700));
    background: rgb(var(--sv-white));
    top: 0;
    right: 0;
    bottom: 0;
  }

  .threads-on-left-side {
    left: var(--offset-left);
    top: var(--offset-top);
    bottom: var(--offset-bottom);
    border-radius: 8px;
  }

  .threads-on-right-side {
    right: var(--offset-right);
    top: var(--offset-top);
    bottom: var(--offset-bottom);
    border-radius: 8px;
  }

  #superviz-comments.threads-on-right-side.hide-at-right {
    right: -330px;
  }

  #superviz-comments.threads-on-left-side.hide-at-left {
    left: -330px;
  }

  .hide-at-right,
  .hide-at-left {
    animation: keep-opacity 0.3s ease-out;
    opacity: 0;
    visibility: hidden;
  }

  @keyframes keep-opacity {
    0%,
    99% {
      visibility: visible;
      opacity: 1;
    }

    100% {
      visibility: hidden;
      opacity: 0;
    }
  }
`});var tE,iL=G(()=>{v();Re();tE=Ae`
  .comments__topbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: rgb(var(--sv-gray-200));
    height: 50px;
  }

  .comments__topbar__title {
    margin: 0 16px;
    color: rgb(var(--sv-gray-600));
  }

  .comments__topbar__close-threads {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: 0.15s;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    box-sizing: border-box;
    margin-right: 8px;
    padding-right: 2px;
  }

  .comments__topbar__close-threads:hover {
    background: rgb(var(--sv-gray-300));
  }
`});var rE,oL=G(()=>{v();Re();rE=Ae`
  .reply {
    padding-left: 24px !important;
  }

  .comments__comment-item {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    padding: 8px;
    gap: 4px;
  }

  .comments__comment-item__header {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
    align-items: center;
    color: rgb(var(--sv-gray-500));
  }

  .comments__comment-item__actions {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .comments__comment-item__actions superviz-dropdown,
  .comments__comment-item__icons {
    width: 25px;
    height: 25px;
    border-radius: 50%;
  }

  .comments__comment-item__metadata {
    display: flex;
    width: 100%;
    gap: 8px;
    align-items: center;
  }

  .comments__comment-item__avatar-container {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    overflow: hidden;
    background-color: rgb(var(--sv-gray-300));
    border: 1px solid rgb(var(--sv-gray-500));
    color: #fff;

    display: flex;
    align-items: center;
    justify-content: center;
  }

  .comments__comment-item__avatar-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 50%;
  }

  .comments__comment-item__content {
    width: 100%;
    word-wrap: break-word;
  }

  .line-clamp {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .comments__comment-item__content__body {
    color: rgb(var(--sv-gray-700));
    position: relative;
    display: grid;
    grid-template-rows: 0px auto;
  }

  .comments__comment-item__content__body.editing-annotation {
    grid-template-rows: auto 0px;
  }

  .hidden {
    display: none;
  }

  .mentioned {
    display: inline-block;
  }

  .annotation-content {
    transition: opacity 0ms;
    opacity: 1;
    overflow: hidden;
  }

  .editing {
    transition: opacity 400ms;
    overflow: hidden;
    opacity: 0;
    pointer-events: none;
  }

  .comments__input--editable {
    transform: translateY(0);
    opacity: 1;
    overflow: hidden;
  }

  .hide-edit-input {
    transition: opacity 500ms, transform 0 linear 300ms;
    opacity: 0;
    pointer-events: none;
    width: 100%;
  }
`});var nE,sL=G(()=>{v();Re();nE=Ae`
  .comments {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 288px;
  }

  .hidden {
    display: none;
  }
`});var iE,aL=G(()=>{v();Re();iE=Ae`
  .comments__input {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    background: rgb(var(--sv-white));
    border-radius: 4px;
    border: 1px solid rgb(var(--sv-gray-300));
    position: relative;
    min-height: 40px;
    box-sizing: border-box;
  }

  .comments__input:focus-within {
    border: 1px solid rgb(var(--sv-gray-500));
  }

  .comments__input__textarea {
    border: 0px;
    text-align: left;
    border-radius: 4px;
    outline: none;
    font-size: 14px;
    color: rgb(var(--sv-gray-700));
    font-family: Roboto;
    white-space: pre-wrap;
    word-wrap: break-word;
    resize: none;
    line-height: 1.15rem;
    max-height: 5rem;
    appearance: none;
    height: 40px;
    width: 100%;
    box-sizing: border-box;

    padding-top: 7px;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-right: 11px solid transparent;
    border-left: 11px solid transparent;
  }

  .fixed-width {
    width: 288px;
  }

  .comments__input__textarea:invalid {
    border-top: 15px solid transparent;
  }

  .comments__input__textarea::placeholder {
    color: rgb(var(--sv-gray-400));
    font-size: 14px;
    line-height: 14px;
  }

  .comments__input__options {
    display: flex;
    justify-content: space-between;
    box-sizing: border-box;
    overflow: hidden;
    height: 0;
    transition: 0.25s;
    border-radius: 0 0 4px 4px;
  }

  .active-textarea {
    height: 40px;
    padding: 4px 8px;
  }

  .sv-hr {
    border: none;
    width: 100%;
    opacity: 0;
    transition: 0.25s opacity linear, 0.25s visibility;
    visibility: hidden;
    height: 0;
    position: absolute;
  }

  .comments__input__divisor {
    border-top: 1px solid rgb(var(--sv-gray-300));
    opacity: 1;
    position: relative;
    visibility: visible;
  }

  .comment-actions {
    position: absolute;
    left: 8px;
    bottom: 3px;
    opacity: 0;
    transition: 0.25s opacity linear, 0.25s visibility;
    visibility: hidden;
  }

  .active-textarea > .comment-actions {
    opacity: 1;
    visibility: visible;
  }

  .mention:hover {
    background-color: rgb(var(--sv-gray-200));
  }

  .comments__input__button {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 100%;
    width: 32px;
    height: 32px;
    border: 0px;
  }

  .comments__input__send-button {
    background: rgb(var(--sv-primary));
    color: rgba(var(--sv-white), 1);
  }

  .align-send-btn > superviz-icon {
    cursor: pointer;
  }

  .comments__input__button:disabled {
    background: rgb(var(--sv-gray-200));
    color: rgb(var(--sv-gray-600));
  }

  .comment-input-options {
    display: flex;
    gap: 4px;
    position: absolute;
    right: 8px;
    bottom: 4px;
  }

  .comments__input__textarea:focus,
  .comments__input__textarea.active-textarea {
    border-radius: 4px 4px 0 0;
  }

  .comments__input__textarea:focus::placeholder {
    color: transparent;
  }
`});var oE,uL=G(()=>{v();Re();oE=Ae`
  .comments__thread:hover:not(.comments__thread--selected) {
    background-color: rgba(var(--sv-gray-200), 0.3);
  }

  .avatars-comments {
    display: flex;
    position: absolute;
    bottom: 8px;
    padding: 0 8px;
    opacity: 1;
    transition: opacity 0.3s linear;
  }

  .avatars-comments.invisible {
    opacity: 0;
  }

  .avatar-container {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
  }

  .avatar {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    overflow: hidden;
    background-color: rgb(var(--sv-gray-300));
    border: 1px solid rgb(var(--sv-gray-500));
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .avatar img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 50%;
  }

  .avatar:not(:first-child) {
    margin-left: -6px;
  }

  .comments__thread--selected div:last-child {
    margin-inline: 8px;
  }

  .comments-container {
    display: flex;
    overflow: hidden;
    flex-direction: column;
  }

  .comments-container-wrapper {
    display: grid;
    grid-template-rows: 0fr;
    opacity: 0;
    overflow: hidden;
    transition: grid-template-rows 0.3s linear, opacity 0.3s linear;
  }

  .comments-container-wrapper.show {
    grid-template-rows: 1fr;
    opacity: 1;
  }

  .comments--expand {
    display: flex;
  }

  .comment-avatar--expand {
    display: block;
  }

  .hidden {
    overflow: hidden;
    opacity: 0;
  }

  .comments__thread {
    grid-row: 1 / span 2;
    padding: 8px;
    position: relative;
    cursor: pointer;
    transition: padding-bottom 0.3s linear, opacity 0.3s linear;
  }

  .extra-space-bottom {
    padding-bottom: 35px;
  }

  .comments__thread--selected {
    background-color: rgba(var(--sv-gray-200), 0.5);
    padding-bottom: 16px;
  }

  .hide-input {
    display: none;
  }

  .wrapper {
    margin-inline: 0;
    display: grid;
    grid-template-rows: 0fr;
    opacity: 0;
    width: 100%;
    transition: grid-template-rows 0.3s linear, opacity 0.3s linear;
  }

  .show-wrapper {
    grid-template-rows: 1fr;
    opacity: 1;
  }

  .comments__complete-annotation {
    position: relative;
    width: 100%;
  }

  .comments__hide-complete-annotation {
    min-height: 0;
    opacity: 0;
    animation: hide-annotation 10s linear;
  }

  @keyframes hide-annotation {
    0%,
    95% {
      min-height: 43px;
      opacity: 1;
    }

    100% {
      opacity: 0;
      min-height: 0;
    }
  }

  .comments__resolved-annotation-message {
    position: absolute;
    width: 100%;
    top: 0;
  }
`});var sE,cL=G(()=>{v();Re();sE=Ae`
  .comments__annotation-resolved {
    background: rgba(var(--sv-gray-200), 0.5);
    height: 26px;
    padding: 8px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid rgb(var(--sv-gray-200));
  }
`});var aE,lL=G(()=>{v();Re();aE=Ae`
  .preload {
    animation-duration: 0s !important;
  }

  .comments__annotation-pin,
  .comments__annotation-pin__avatar {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    pointer-events: auto;
    z-index: 10;
    transform-origin: bottom left;
  }

  .comments__annotation-pin:hover {
    transform: scale(1.2);
    animation: growing-spring 0.3s linear;
  }

  .comments__annotation-pin:not(:hover) {
    animation: shrinking-spring 0.3s linear;
  }

  .comments__annotation-pin--add {
    transform: scale(1) !important;
    animation: none !important;
  }

  .comments__annotation-pin {
    position: absolute;

    width: 32px;
    height: 32px;

    background-color: rgb(var(--sv-white));
    border-radius: 50%;
    border-bottom-left-radius: 2px;

    border: 2px solid rgb(var(--sv-white));
    box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.35);
    transition: border-color 0.2s ease-in-out opacity 0.2s ease-in-out;
    padding: 2px;
    box-sizing: border-box;
    cursor: pointer;
  }

  .comments__annotation-pin:hover,
  .comments__annotation-pin:focus,
  .comments__annotation-pin--active {
    border-color: rgb(var(--sv-primary));
  }

  .comments__cursor-pointer,
  .comments__cursor-pointer .comments__annotation-pin__avatar {
    pointer-events: none;
  }

  .comments__annotation-pin__avatar {
    width: 100%;
    height: 100%;

    background-color: rgb(var(--sv-gray-400));
    border-radius: 50%;

    color: rgb(var(--sv-white));
  }

  .comments__annotation-pin__avatar img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: contain;
  }

  .comments__annotation-pin__avatar--add {
    color: rgb(var(--sv-gray-700));
    background-color: rgb(var(--sv-white));
  }

  .floating-input {
    position: absolute;
    top: -2px;
    opacity: 0;
  }

  .left .floating-input {
    right: auto;
    left: 0;
    transform: translateX(calc(-100% - 7px));
    opacity: 1;
  }

  .right .floating-input {
    left: auto;
    right: 0;
    transform: translateX(calc(100% + 7px));
    opacity: 1;
  }

  .comments__annotation-pin-wrapper {
    transform-origin: center;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    position: absolute;
  }

  .comments__annotation-pin-wrapper--new {
    animation: bounce 0.5s linear !important;
  }

  .comments__annotation-pin-wrapper--new .comments__annotation-pin__avatar {
    transform-origin: center;
    animation: avatar-bounce 0.5s linear !important;
  }

  @keyframes avatar-bounce {
    0%,
    40% {
      transform: scale(1);
    }

    48% {
      transform: scale(0.8);
    }

    55%,
    92% {
      transform: scale(1);
    }

    96% {
      transform: scale(0.9);
    }

    100% {
      transform: scale(1);
    }
  }
  @keyframes bounce {
    0% {
      transform: scale(1);
    }

    20% {
      transform: scale(1.3);
    }

    40%,
    55% {
      transform: scale(1);
    }

    75% {
      transform: scale(1.15);
    }

    92%,
    100% {
      transform: scale(1);
    }
  }

  @keyframes growing-spring {
    0% {
      transform: scale(1);
    }

    25% {
      transform: scale(1.3);
    }

    50% {
      transform: scale(1.2);
    }

    75% {
      transform: scale(1.25);
    }

    100% {
      transform: scale(1.2);
    }
  }

  @keyframes shrinking-spring {
    0% {
      transform: scale(1.2);
    }

    33% {
      transform: scale(1);
    }

    66% {
      transform: scale(1.1);
    }

    100% {
      transform: scale(1);
    }
  }
`});var uE,dL=G(()=>{v();Re();uE=Ae`
  .comments__filter-container {
    display: flex;
    width: 100%;
    justify-content: flex-start;
    align-items: center;
  }

  .comments__filter {
    white-space: nowrap;
    padding: 12px;
    cursor: pointer;
    color: rgb(var(--sv-gray-500));
  }

  .content {
    display: flex;
    justify-content: space-between;
    flex-direction: row;
    align-items: center;
    gap: 6px;
  }

  .comments__filter__toggle-button {
    display: flex;
    flex-direction: row;
    gap: 4px;
  }

  .comments__filter__icon {
    margin-top: -2px;
  }
`});var cE,pL=G(()=>{v();Re();cE=Ae`
  .comments__floating-button {
    position: fixed;
    border-radius: 50%;
    width: 38px;
    height: 38px;
    display: flex;
    align-items: center;
    gap: 4px;
    border: none;
    background-color: rgba(var(--sv-white));
    box-shadow: 2px 2px 15px 0px rgba(0, 0, 0, 0.2);
    color: rgb(var(--sv-gray-600));
    cursor: pointer;
    overflow: hidden;
    padding-left: 10px;
    z-index: 99;
    transition: width 300ms linear, border-radius 300ms linear;
  }

  .comments__floating-button:hover,
  .comments__floating-button.is-active {
    background-color: rgb(var(--sv-gray-400));
    color: rgba(var(--sv-white));
  }

  .comments-floating-button-hovered {
    transition: width 300ms linear 300ms, border-radius 300ms linear 300ms;
  }

  .comments__floating-button__text {
    text-align: left;
    overflow: hidden;
    position: relative;
    margin: 0;
    line-height: 1;
    right: 0px;
  }

  .not-hovered {
    animation-duration: 0s !important;
    transition-duration: 0s !important;
  }

  .hide-button {
    display: none !important;
  }

  .is-inactive:hover {
    width: 110px;
    border-radius: 30px;
  }

  .is-active:hover {
    width: 92px;
    border-radius: 30px;
    animation: decrease-width 600ms linear;
  }

  .textInactive.cancel {
    position: absolute;
    bottom: -30px;
    animation: drop-cancel-text 600ms linear;
    right: auto;
  }

  .textInactive.comment {
    position: absolute;
    top: 0;
    animation: drop-comment-text 600ms linear;
  }

  .textActive.comment {
    position: absolute;
    top: -30px;
    animation: rise-comment-text 600ms linear;
    right: auto;
  }

  .textActive.cancel {
    position: absolute;
    bottom: 0;
    animation: rise-cancel-text 600ms linear;
  }

  .comments__floating-button .comments__floating-button-text-box {
    width: 0;
  }

  .comments__floating-button.is-inactive:hover .comments__floating-button-text-box {
    width: 61.45px;
  }

  .comments__floating-button.is-active:hover .comments__floating-button-text-box {
    width: 43.0833px;
  }

  .comments__floating-button-text-box {
    position: relative;
    height: 14px;
    overflow-x: clip;
    transition: width 300ms linear;
  }

  .comments__floating-button__icon {
    position: relative;
  }

  .cross {
    position: absolute;
    top: 9px;
    left: 5.3px;
    transform: translateY(-50%);
    transform-origin: center;
    transition: transform 300ms linear 300ms;
  }

  rect {
    fill: rgba(var(--sv-gray-600));
  }

  .comments__floating-button:hover rect,
  .is-active rect {
    fill: rgba(var(--sv-white));
  }

  .cross-bar-1 {
    transform-origin: center;
    transform: rotate(0deg);
  }

  .cross-bar-2 {
    transform-origin: center;
    transform: rotate(90deg);
  }

  .is-active .cross {
    transform: translateY(-50%) rotate(45deg);
  }

  @keyframes rise-cancel-text {
    0%,
    50% {
      opacity: 0;
      bottom: -35px;
    }

    75% {
      opacity: 0;
    }

    100% {
      opacity: 1;
      bottom: 0px;
    }
  }

  @keyframes rise-comment-text {
    0% {
      opacity: 1;
      top: 0px;
    }

    35% {
      opacity: 0;
    }

    50%,
    100% {
      opacity: 0;
      top: -35px;
    }
  }

  @keyframes drop-cancel-text {
    0% {
      opacity: 1;
      bottom: 0px;
    }

    35% {
      opacity: 0;
    }

    50%,
    100% {
      opacity: 0;
      bottom: -30px;
    }
  }

  @keyframes drop-comment-text {
    0%,
    50% {
      opacity: 0;
      top: -30px;
    }

    75% {
      opacity: 0;
    }

    100% {
      opacity: 1;
      top: 0px;
    }
  }
`});var lE,fL=G(()=>{v();Re();lE=Ae`
.footer {
  bottom: 5px;
  position: absolute;
  right: 5px;
  font-family: Roboto,sans-serif;
  font-size: 10px;
  line-height: 15px;
  letter-spacing: normal;
}

.link {
  text-decoration: none;
  color: rgb(var(--sv-gray-500));
}

.powered-by {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  width: 140px;
  &--vertical {
    justify-content: flex-end;
  }
  &--horizontal {
    justify-content: center;
  }
}
`});var dE,hL=G(()=>{v();Re();dE=Ae`
  #mention-list {
    position: fixed;
    z-index: 1;
    max-height: 200px;
    overflow-y: auto;
    overflow-x: hidden;
    background-color: white;
    display: none;
    width: 216px;
    text-align: -webkit-center;
    border-radius: 2px;
    box-shadow: 2px 2px 8px 0px rgba(0, 0, 0, 0.3);
    padding-top: 4px;
    padding-bottom: 4px;
    /* Stiling scroll WebKit (Firefox) */
    scrollbar-width: 6px; /* Firefox */
    scrollbar-color: #888; /* Firefox */
    /* Style scroll WebKit (Chrome, Safari, Edge) */
    &::-webkit-scrollbar {
      width: 6px;
    }
    &::-webkit-scrollbar-thumb {
      background-color: #888;
    }
  }

  .mention-item {
    cursor: pointer;
    align-items: center;
    display: flex;
    height: 48px;
    width: 208px;
    margin-left: 4px;
    margin-right: 4px;
  }

  .mention-item:hover {
    background: rgb(var(--sv-gray-200));
  }

  .avatar {
    width: 32px;
    height: 32px;
    object-fit: contain;
    border-radius: 32%;
    margin-right: 14px;
    margin-left: 12px;
  }

  .default-avatar {
    width: 32px;
    height: 32px;
    margin-right: 14px;
    margin-left: 12px;
    border-radius: 50%;
    overflow: hidden;
    background-color: rgb(var(--sv-gray-300));
    border: 1px solid rgb(var(--sv-gray-500));
    color: #fff;

    display: flex;
    align-items: center;
    justify-content: center;
  }

  .avatar-type {
    font-family: Roboto;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px;
    color: rgb(var(--sv-gray-600));
  }
`});var vn=G(()=>{v();nL();iL();oL();sL();aL();uL();cL();lL();dL();pL();fL();hL()});function fE(t){let r=t.querySelector("#superviz-comments");if(r&&!pE){let e={childList:!0,attributes:!0,characterData:!0,subtree:!0};pE=new MutationObserver(n=>{n.forEach(i=>{i.removedNodes.length&&i.removedNodes.forEach(o=>{o.id==="poweredby-footer"&&Qie(t)})})}),pE.observe(r,e)}}function Qie(t){let r=document.createElement("div");r.id="poweredby-footer",r.className="footer";let e=document.createElement("div");e.className="powered-by powered-by--horizontal";let n=document.createElement("a");n.href="https://superviz.com/",n.target="_blank",n.className="link";let i=document.createElement("div");i.textContent="Powered by";let o=document.createElement("img");o.width=48,o.height=8.86,o.src="https://production.cdn.superviz.com/static/superviz-gray-logo.svg",e.appendChild(n),n.appendChild(i),i.appendChild(o),r.appendChild(e);let s=t.getElementById("superviz-comments");s&&s.appendChild(r),fE(t)}var pE,mL=G(()=>{v()});var bL={};Vt(bL,{Comments:()=>Qs});var vL,eoe,Qs,gL=G(()=>{v();Re();Yr();Qw();qt();Or();qn();vn();mL();Rt();vL=$e(Ce),eoe=[vL.styles,eE,lE],Qs=class extends vL{constructor(){super(),this.annotations=[],this.annotationFilter="All comments",this.waterMarkState=!1,this.participantsList=[],this.side="left"}firstUpdated(r){super.firstUpdated(r),this.updateComplete.then(()=>{pt.call(this,["comments"])})}updated(r){super.updated(r),this.updateComplete.then(()=>{this.waterMarkState&&fE(this.shadowRoot),r.has("offset")&&this.applyOffset()})}participantsListed(r){this.participantsList=r}updateAnnotations(r){this.annotations=r}close(){this.emitEvent("close-threads",{})}waterMarkStatus(r){this.waterMarkState=r}setFilter({detail:r}){let{filter:{label:e}}=r;this.annotationFilter=e}getOffset(r){return r==null||r<0?"10px":`${r}px`}applyOffset(){let r=this.shadowRoot.querySelector(".superviz-comments");if(!r)return;let{left:e,right:n,top:i,bottom:o}=this.offset;r.style.setProperty("--offset-top",this.getOffset(i)),r.style.setProperty("--offset-bottom",this.getOffset(o)),r.style.setProperty("--offset-right",this.getOffset(n)),r.style.setProperty("--offset-left",this.getOffset(e))}get poweredBy(){return this.waterMarkState?K` <div id="poweredby-footer" class="footer">
      <div class="powered-by powered-by--horizontal">
        <a href="https://superviz.com/" target="_blank" class="link">
          <div class="">
            Powered by
            <img
              width="48px"
              height="8.86px"
              src="https://production.cdn.superviz.com/static/superviz-gray-logo.svg"
            />
          </div>
        </a>
      </div>
    </div>`:K``}render(){let r={"superviz-comments":!0,"threads-on-left-side":this.side==="left","threads-on-right-side":this.side==="right","hide-at-right":this.side==="right"&&!this.open,"hide-at-left":this.side==="left"&&!this.open};return K`
      <div id="superviz-comments" class=${Ie(r)}>
        <div class="header">
          <superviz-comments-topbar
            @close-threads=${this.close}
            side=${this.side.split(":")[0]}
          ></superviz-comments-topbar>
        </div>
        <superviz-comments-annotation-filter
          filter=${this.annotationFilter}
          @select=${this.setFilter}
        >
        </superviz-comments-annotation-filter>
        <superviz-comments-content
          annotations=${JSON.stringify(this.annotations)}
          annotationFilter=${this.annotationFilter}
          participantsList=${JSON.stringify(this.participantsList)}
          class="content"
        ></superviz-comments-content>
        ${this.poweredBy}
      </div>
    `}};Qs.styles=eoe,Qs.properties={open:{type:Boolean},annotations:{type:Object},annotationFilter:{type:String},waterMarkState:{type:Boolean},side:{type:String},participantsList:{type:Object},offset:{type:Object}},Qs=Fe([qe("superviz-comments")],Qs)});var yL={};Vt(yL,{CommentsTopbar:()=>ea});var toe,roe,ea,_L=G(()=>{v();Re();qt();Or();vn();Rt();toe=$e(Ce),roe=[toe.styles,tE],ea=class extends $e(Ce){firstUpdated(r){super.firstUpdated(r),this.updateComplete.then(()=>{pt.call(this,["comments"])})}close(){this.dispatchEvent(new CustomEvent("close-threads"))}render(){return K`
      <div class="comments__topbar">
        <span class="text text-bold comments__topbar__title">COMMENTS</span>
        <span @click=${this.close} class="comments__topbar__close-threads">
          <superviz-icon name=${this.side}></superviz-icon>
        </span>
      </div>
    `}};ea.styles=roe,ea.properties={side:{type:String}},ea=Fe([qe("superviz-comments-topbar")],ea)});var noe,wL,Vu,qo,ioe,EL,OL,yb,SL=G(()=>{v();Hs();({I:noe}=mk),wL=()=>document.createComment(""),Vu=(t,r,e)=>{var o;let n=t._$AA.parentNode,i=r===void 0?t._$AB:r._$AA;if(e===void 0){let s=n.insertBefore(wL(),i),a=n.insertBefore(wL(),i);e=new noe(s,a,t,t.options)}else{let s=e._$AB.nextSibling,a=e._$AM,c=a!==t;if(c){let l;(o=e._$AQ)==null||o.call(e,t),e._$AM=t,e._$AP!==void 0&&(l=t._$AU)!==a._$AU&&e._$AP(l)}if(s!==i||c){let l=e._$AA;for(;l!==s;){let p=l.nextSibling;n.insertBefore(l,i),l=p}}}return e},qo=(t,r,e=t)=>(t._$AI(r,e),t),ioe={},EL=(t,r=ioe)=>t._$AH=r,OL=t=>t._$AH,yb=t=>{var n;(n=t._$AP)==null||n.call(t,!1,!0);let r=t._$AA,e=t._$AB.nextSibling;for(;r!==e;){let i=r.nextSibling;r.remove(),r=i}}});var PL,Bo,TL=G(()=>{v();Hs();Yw();SL();PL=(t,r,e)=>{let n=new Map;for(let i=r;i<=e;i++)n.set(t[i],i);return n},Bo=vb(class extends zu{constructor(t){if(super(t),t.type!==mb.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,r,e){let n;e===void 0?e=r:r!==void 0&&(n=r);let i=[],o=[],s=0;for(let a of t)i[s]=n?n(a,s):s,o[s]=e(a,s),s++;return{values:o,keys:i}}render(t,r,e){return this.dt(t,r,e).values}update(t,[r,e,n]){let i=OL(t),{values:o,keys:s}=this.dt(r,e,n);if(!Array.isArray(i))return this.ut=s,o;let a=this.ut??=[],c=[],l,p,h=0,f=i.length-1,b=0,g=o.length-1;for(;h<=f&&b<=g;)if(i[h]===null)h++;else if(i[f]===null)f--;else if(a[h]===s[b])c[b]=qo(i[h],o[b]),h++,b++;else if(a[f]===s[g])c[g]=qo(i[f],o[g]),f--,g--;else if(a[h]===s[g])c[g]=qo(i[h],o[g]),Vu(t,c[g+1],i[h]),h++,g--;else if(a[f]===s[b])c[b]=qo(i[f],o[b]),Vu(t,i[h],i[f]),f--,b++;else if(l===void 0&&(l=PL(s,b,g),p=PL(a,h,f)),l.has(a[h]))if(l.has(a[f])){let w=p.get(s[b]),_=w!==void 0?i[w]:null;if(_===null){let S=Vu(t,i[h]);qo(S,o[b]),c[b]=S}else c[b]=qo(_,o[b]),Vu(t,i[h],_),i[w]=null;b++}else yb(i[f]),f--;else yb(i[h]),h++;for(;b<=g;){let w=Vu(t,c[g+1]);qo(w,o[b]),c[b++]=w}for(;h<=f;){let w=i[h++];w!==null&&yb(w)}return this.ut=s,EL(t,c),Dn}})});var Xl=G(()=>{v();TL()});var AL={};Vt(AL,{CommentsContent:()=>ta});var xL,ooe,ta,CL=G(()=>{v();Re();Xl();qt();vn();qn();Rt();xL=$e(Ce),ooe=[xL.styles,nE],ta=class extends xL{constructor(){super();this.unselectAnnotation=()=>{this.selectedAnnotation=null};this.unselectAnnotationEsc=e=>{e&&(e==null?void 0:e.key)!=="Escape"||(this.selectedAnnotation=null)};this.selectAnnotation=({detail:e})=>{let{uuid:n}=e;if(this.selectedAnnotation===n){this.selectedAnnotation=null;return}this.selectedAnnotation=n};this.checkLastAnnotation=e=>{var o,s;let n=this.annotations.filter(a=>a.resolved),i=this.annotations.filter(a=>!a.resolved);return this.annotationFilter==="All comments"?e===((o=n[n.length-1])==null?void 0:o.uuid):e===((s=i[i.length-1])==null?void 0:s.uuid)};this.annotations=[],this.participantsList=[]}updated(e){super.updated(e),this.updateComplete.then(()=>{let n=this.shadowRoot.querySelector(`[uuid='${this.selectedAnnotation}']`);if(!n)return;let i=this.lastCommentId===this.selectedAnnotation,o=i?0:-150,s=n.getClientRects()[0];s&&(this.scrollBy(0,s.y+o),i&&setTimeout(()=>{this.scrollBy(0,s.y+o)},200))})}connectedCallback(){super.connectedCallback(),window.document.body.addEventListener("select-annotation",this.selectAnnotation),window.document.body.addEventListener("keyup",this.unselectAnnotationEsc),window.document.body.addEventListener("unselect-annotation",this.unselectAnnotation)}disconnectedCallback(){super.disconnectedCallback(),window.document.body.removeEventListener("select-annotation",this.selectAnnotation),window.document.body.removeEventListener("keyup",this.unselectAnnotationEsc),window.document.body.removeEventListener("unselect-annotation",this.unselectAnnotation)}render(){return K` ${Bo(this.annotations.filter(e=>{var n;return(n=e.comments)==null?void 0:n.length}),e=>e.uuid,e=>K`
        <superviz-comments-annotation-item
          annotation=${JSON.stringify(e)}
          selected="${this.selectedAnnotation}"
          annotationFilter=${this.annotationFilter}
          uuid=${e.uuid}
          ?resolved=${e.resolved}
          isLastComment=${this.checkLastAnnotation(e.uuid)}
          participantsList=${JSON.stringify(this.participantsList)}
        >
        </superviz-comments-annotation-item>
      `)}`}};ta.styles=ooe,ta.properties={annotations:{type:Object},selectedAnnotation:{type:String},annotationFilter:{type:String},participantsList:{type:Object}},ta=Fe([qe("superviz-comments-content")],ta)});var Ui,_b,wb,Eb,Bn,Hu,Nt,Wn,Wo=G(()=>{v();Ui=class extends Error{},_b=class extends Ui{constructor(r){super(`Invalid DateTime: ${r.toMessage()}`)}},wb=class extends Ui{constructor(r){super(`Invalid Interval: ${r.toMessage()}`)}},Eb=class extends Ui{constructor(r){super(`Invalid Duration: ${r.toMessage()}`)}},Bn=class extends Ui{},Hu=class extends Ui{constructor(r){super(`Invalid unit ${r}`)}},Nt=class extends Ui{},Wn=class extends Ui{constructor(){super("Zone is an abstract class")}}});var ne,$n,Kr,$o,Ql,hE,ed,td,rd,nd,id,od,sd,ad,ud,cd,ld,dd,pd,fd,mE,hd,md,vd,bd,gd=G(()=>{v();ne="numeric",$n="short",Kr="long",$o={year:ne,month:ne,day:ne},Ql={year:ne,month:$n,day:ne},hE={year:ne,month:$n,day:ne,weekday:$n},ed={year:ne,month:Kr,day:ne},td={year:ne,month:Kr,day:ne,weekday:Kr},rd={hour:ne,minute:ne},nd={hour:ne,minute:ne,second:ne},id={hour:ne,minute:ne,second:ne,timeZoneName:$n},od={hour:ne,minute:ne,second:ne,timeZoneName:Kr},sd={hour:ne,minute:ne,hourCycle:"h23"},ad={hour:ne,minute:ne,second:ne,hourCycle:"h23"},ud={hour:ne,minute:ne,second:ne,hourCycle:"h23",timeZoneName:$n},cd={hour:ne,minute:ne,second:ne,hourCycle:"h23",timeZoneName:Kr},ld={year:ne,month:ne,day:ne,hour:ne,minute:ne},dd={year:ne,month:ne,day:ne,hour:ne,minute:ne,second:ne},pd={year:ne,month:$n,day:ne,hour:ne,minute:ne},fd={year:ne,month:$n,day:ne,hour:ne,minute:ne,second:ne},mE={year:ne,month:$n,day:ne,weekday:$n,hour:ne,minute:ne},hd={year:ne,month:Kr,day:ne,hour:ne,minute:ne,timeZoneName:$n},md={year:ne,month:Kr,day:ne,hour:ne,minute:ne,second:ne,timeZoneName:$n},vd={year:ne,month:Kr,day:ne,weekday:Kr,hour:ne,minute:ne,timeZoneName:Kr},bd={year:ne,month:Kr,day:ne,weekday:Kr,hour:ne,minute:ne,second:ne,timeZoneName:Kr}});var qr,ra=G(()=>{v();Wo();qr=class{get type(){throw new Wn}get name(){throw new Wn}get ianaName(){return this.name}get isUniversal(){throw new Wn}offsetName(r,e){throw new Wn}formatOffset(r,e){throw new Wn}offset(r){throw new Wn}equals(r){throw new Wn}get isValid(){throw new Wn}}});var vE,Uo,Sb=G(()=>{v();Sr();ra();vE=null,Uo=class t extends qr{static get instance(){return vE===null&&(vE=new t),vE}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(r,{format:e,locale:n}){return Pb(r,e,n)}formatOffset(r,e){return zo(this.offset(r),e)}offset(r){return-new Date(r).getTimezoneOffset()}equals(r){return r.type==="system"}get isValid(){return!0}}});function soe(t){return xb[t]||(xb[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),xb[t]}function uoe(t,r){let e=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,i,o,s,a,c,l,p]=n;return[s,i,o,a,c,l,p]}function coe(t,r){let e=t.formatToParts(r),n=[];for(let i=0;i<e.length;i++){let{type:o,value:s}=e[i],a=aoe[o];o==="era"?n[a]=s:Oe(a)||(n[a]=parseInt(s,10))}return n}var xb,aoe,Tb,mr,Vo=G(()=>{v();Sr();ra();xb={};aoe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};Tb={},mr=class t extends qr{static create(r){return Tb[r]||(Tb[r]=new t(r)),Tb[r]}static resetCache(){Tb={},xb={}}static isValidSpecifier(r){return this.isValidZone(r)}static isValidZone(r){if(!r)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:r}).format(),!0}catch{return!1}}constructor(r){super(),this.zoneName=r,this.valid=t.isValidZone(r)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(r,{format:e,locale:n}){return Pb(r,e,n,this.name)}formatOffset(r,e){return zo(this.offset(r),e)}offset(r){let e=new Date(r);if(isNaN(e))return NaN;let n=soe(this.name),[i,o,s,a,c,l,p]=n.formatToParts?coe(n,e):uoe(n,e);a==="BC"&&(i=-Math.abs(i)+1);let f=Gu({year:i,month:o,day:s,hour:c===24?0:c,minute:l,second:p,millisecond:0}),b=+e,g=b%1e3;return b-=g>=0?g:1e3+g,(f-b)/(60*1e3)}equals(r){return r.type==="iana"&&r.name===this.name}get isValid(){return this.valid}}});function loe(t,r={}){let e=JSON.stringify([t,r]),n=ML[e];return n||(n=new Intl.ListFormat(t,r),ML[e]=n),n}function gE(t,r={}){let e=JSON.stringify([t,r]),n=bE[e];return n||(n=new Intl.DateTimeFormat(t,r),bE[e]=n),n}function doe(t,r={}){let e=JSON.stringify([t,r]),n=yE[e];return n||(n=new Intl.NumberFormat(t,r),yE[e]=n),n}function poe(t,r={}){let{base:e,...n}=r,i=JSON.stringify([t,n]),o=_E[i];return o||(o=new Intl.RelativeTimeFormat(t,r),_E[i]=o),o}function foe(){return yd||(yd=new Intl.DateTimeFormat().resolvedOptions().locale,yd)}function hoe(t){let r=IL[t];if(!r){let e=new Intl.Locale(t);r="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,IL[t]=r}return r}function moe(t){let r=t.indexOf("-x-");r!==-1&&(t=t.substring(0,r));let e=t.indexOf("-u-");if(e===-1)return[t];{let n,i;try{n=gE(t).resolvedOptions(),i=t}catch{let c=t.substring(0,e);n=gE(c).resolvedOptions(),i=c}let{numberingSystem:o,calendar:s}=n;return[i,o,s]}}function voe(t,r,e){return(e||r)&&(t.includes("-u-")||(t+="-u"),e&&(t+=`-ca-${e}`),r&&(t+=`-nu-${r}`)),t}function boe(t){let r=[];for(let e=1;e<=12;e++){let n=rt.utc(2009,e,1);r.push(t(n))}return r}function goe(t){let r=[];for(let e=1;e<=7;e++){let n=rt.utc(2016,11,13+e);r.push(t(n))}return r}function Ab(t,r,e,n){let i=t.listingMode();return i==="error"?null:i==="en"?e(r):n(r)}function yoe(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var ML,bE,yE,_E,yd,IL,wE,EE,OE,_oe,it,wd=G(()=>{v();Sr();Ib();Ho();Go();Vo();ML={};bE={};yE={};_E={};yd=null;IL={};wE=class{constructor(r,e,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:i,floor:o,...s}=n;if(!e||Object.keys(s).length>0){let a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=doe(r,a)}}format(r){if(this.inf){let e=this.floor?Math.floor(r):r;return this.inf.format(e)}else{let e=this.floor?Math.floor(r):Zu(r,3);return At(e,this.padTo)}}},EE=class{constructor(r,e,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=r;else if(r.zone.type==="fixed"){let s=-1*(r.offset/60),a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;r.offset!==0&&mr.create(a).valid?(i=a,this.dt=r):(i="UTC",this.dt=r.offset===0?r:r.setZone("UTC").plus({minutes:r.offset}),this.originalZone=r.zone)}else r.zone.type==="system"?this.dt=r:r.zone.type==="iana"?(this.dt=r,i=r.zone.name):(i="UTC",this.dt=r.setZone("UTC").plus({minutes:r.offset}),this.originalZone=r.zone);let o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=gE(e,o)}format(){return this.originalZone?this.formatToParts().map(({value:r})=>r).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let r=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?r.map(e=>{if(e.type==="timeZoneName"){let n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:n}}else return e}):r}resolvedOptions(){return this.dtf.resolvedOptions()}},OE=class{constructor(r,e,n){this.opts={style:"long",...n},!e&&Cb()&&(this.rtf=poe(r,n))}format(r,e){return this.rtf?this.rtf.format(r,e):kL(e,r,this.opts.numeric,this.opts.style!=="long")}formatToParts(r,e){return this.rtf?this.rtf.formatToParts(r,e):[]}},_oe={firstDay:1,minimalDays:4,weekend:[6,7]},it=class t{static fromOpts(r){return t.create(r.locale,r.numberingSystem,r.outputCalendar,r.weekSettings,r.defaultToEN)}static create(r,e,n,i,o=!1){let s=r||nt.defaultLocale,a=s||(o?"en-US":foe()),c=e||nt.defaultNumberingSystem,l=n||nt.defaultOutputCalendar,p=_d(i)||nt.defaultWeekSettings;return new t(a,c,l,p,s)}static resetCache(){yd=null,bE={},yE={},_E={}}static fromObject({locale:r,numberingSystem:e,outputCalendar:n,weekSettings:i}={}){return t.create(r,e,n,i)}constructor(r,e,n,i,o){let[s,a,c]=moe(r);this.locale=s,this.numberingSystem=e||a||null,this.outputCalendar=n||c||null,this.weekSettings=i,this.intl=voe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=yoe(this)),this.fastNumbersCached}listingMode(){let r=this.isEnglish(),e=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return r&&e?"en":"intl"}clone(r){return!r||Object.getOwnPropertyNames(r).length===0?this:t.create(r.locale||this.specifiedLocale,r.numberingSystem||this.numberingSystem,r.outputCalendar||this.outputCalendar,_d(r.weekSettings)||this.weekSettings,r.defaultToEN||!1)}redefaultToEN(r={}){return this.clone({...r,defaultToEN:!0})}redefaultToSystem(r={}){return this.clone({...r,defaultToEN:!1})}months(r,e=!1){return Ab(this,r,SE,()=>{let n=e?{month:r,day:"numeric"}:{month:r},i=e?"format":"standalone";return this.monthsCache[i][r]||(this.monthsCache[i][r]=boe(o=>this.extract(o,n,"month"))),this.monthsCache[i][r]})}weekdays(r,e=!1){return Ab(this,r,PE,()=>{let n=e?{weekday:r,year:"numeric",month:"long",day:"numeric"}:{weekday:r},i=e?"format":"standalone";return this.weekdaysCache[i][r]||(this.weekdaysCache[i][r]=goe(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[i][r]})}meridiems(){return Ab(this,void 0,()=>TE,()=>{if(!this.meridiemCache){let r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[rt.utc(2016,11,13,9),rt.utc(2016,11,13,19)].map(e=>this.extract(e,r,"dayperiod"))}return this.meridiemCache})}eras(r){return Ab(this,r,xE,()=>{let e={era:r};return this.eraCache[r]||(this.eraCache[r]=[rt.utc(-40,1,1),rt.utc(2017,1,1)].map(n=>this.extract(n,e,"era"))),this.eraCache[r]})}extract(r,e,n){let i=this.dtFormatter(r,e),o=i.formatToParts(),s=o.find(a=>a.type.toLowerCase()===n);return s?s.value:null}numberFormatter(r={}){return new wE(this.intl,r.forceSimple||this.fastNumbers,r)}dtFormatter(r,e={}){return new EE(r,this.intl,e)}relFormatter(r={}){return new OE(this.intl,this.isEnglish(),r)}listFormatter(r={}){return loe(this.intl,r)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Mb()?hoe(this.locale):_oe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(r){return this.locale===r.locale&&this.numberingSystem===r.numberingSystem&&this.outputCalendar===r.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}});var CE,er,Ju=G(()=>{v();Sr();ra();CE=null,er=class t extends qr{static get utcInstance(){return CE===null&&(CE=new t(0)),CE}static instance(r){return r===0?t.utcInstance:new t(r)}static parseSpecifier(r){if(r){let e=r.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new t(na(e[1],e[2]))}return null}constructor(r){super(),this.fixed=r}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${zo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${zo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(r,e){return zo(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(r){return r.type==="fixed"&&r.fixed===this.fixed}get isValid(){return!0}}});var Yu,ME=G(()=>{v();ra();Yu=class extends qr{constructor(r){super(),this.zoneName=r}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}});function Un(t,r){let e;if(Oe(t)||t===null)return r;if(t instanceof qr)return t;if(LL(t)){let n=t.toLowerCase();return n==="default"?r:n==="local"||n==="system"?Uo.instance:n==="utc"||n==="gmt"?er.utcInstance:er.parseSpecifier(n)||mr.create(t)}else return zn(t)?er.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Yu(t)}var kb=G(()=>{v();ra();Vo();Ju();ME();Sr();Sb()});function NL(t){let r=parseInt(t,10);if(isNaN(r)){r="";for(let e=0;e<t.length;e++){let n=t.charCodeAt(e);if(t[e].search(IE.hanidec)!==-1)r+=woe.indexOf(t[e]);else for(let i in RL){let[o,s]=RL[i];n>=o&&n<=s&&(r+=n-o)}}return parseInt(r,10)}else return r}function FL(){Ku={}}function bn({numberingSystem:t},r=""){let e=t||"latn";return Ku[e]||(Ku[e]={}),Ku[e][r]||(Ku[e][r]=new RegExp(`${IE[e]}${r}`)),Ku[e][r]}var IE,RL,woe,Ku,kE=G(()=>{v();IE={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},RL={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},woe=IE.hanidec.replace(/[\[|\]]/g,"").split("");Ku={}});var jL,DL,qL,BL,WL,$L,UL,zL,nt,Ho=G(()=>{v();Sb();Vo();wd();Go();kb();Sr();kE();jL=()=>Date.now(),DL="system",qL=null,BL=null,WL=null,$L=60,zL=null,nt=class{static get now(){return jL}static set now(r){jL=r}static set defaultZone(r){DL=r}static get defaultZone(){return Un(DL,Uo.instance)}static get defaultLocale(){return qL}static set defaultLocale(r){qL=r}static get defaultNumberingSystem(){return BL}static set defaultNumberingSystem(r){BL=r}static get defaultOutputCalendar(){return WL}static set defaultOutputCalendar(r){WL=r}static get defaultWeekSettings(){return zL}static set defaultWeekSettings(r){zL=_d(r)}static get twoDigitCutoffYear(){return $L}static set twoDigitCutoffYear(r){$L=r%100}static get throwOnInvalid(){return UL}static set throwOnInvalid(r){UL=r}static resetCaches(){it.resetCache(),mr.resetCache(),rt.resetCache(),FL()}}});var tr,Ed=G(()=>{v();tr=class{constructor(r,e){this.reason=r,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}});function gn(t,r){return new tr("unit out of range",`you specified ${r} (of type ${typeof r}) as a ${t}, which is invalid`)}function Lb(t,r,e){let n=new Date(Date.UTC(t,r-1,e));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let i=n.getUTCDay();return i===0?7:i}function GL(t,r,e){return e+(oa(t)?HL:VL)[r-1]}function ZL(t,r){let e=oa(t)?HL:VL,n=e.findIndex(o=>o<r),i=r-e[n];return{month:n+1,day:i}}function Rb(t,r){return(t-r+7)%7+1}function Od(t,r=4,e=1){let{year:n,month:i,day:o}=t,s=GL(n,i,o),a=Rb(Lb(n,i,o),e),c=Math.floor((s-a+14-r)/7),l;return c<1?(l=n-1,c=ia(l,r,e)):c>ia(n,r,e)?(l=n+1,c=1):l=n,{weekYear:l,weekNumber:c,weekday:a,...Pd(t)}}function LE(t,r=4,e=1){let{weekYear:n,weekNumber:i,weekday:o}=t,s=Rb(Lb(n,1,r),e),a=Zo(n),c=i*7+o-s-7+r,l;c<1?(l=n-1,c+=Zo(l)):c>a?(l=n+1,c-=Zo(n)):l=n;let{month:p,day:h}=ZL(l,c);return{year:l,month:p,day:h,...Pd(t)}}function Nb(t){let{year:r,month:e,day:n}=t,i=GL(r,e,n);return{year:r,ordinal:i,...Pd(t)}}function RE(t){let{year:r,ordinal:e}=t,{month:n,day:i}=ZL(r,e);return{year:r,month:n,day:i,...Pd(t)}}function NE(t,r){if(!Oe(t.localWeekday)||!Oe(t.localWeekNumber)||!Oe(t.localWeekYear)){if(!Oe(t.weekday)||!Oe(t.weekNumber)||!Oe(t.weekYear))throw new Bn("Cannot mix locale-based week fields with ISO-based week fields");return Oe(t.localWeekday)||(t.weekday=t.localWeekday),Oe(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Oe(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:r.getMinDaysInFirstWeek(),startOfWeek:r.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function JL(t,r=4,e=1){let n=Sd(t.weekYear),i=Xr(t.weekNumber,1,ia(t.weekYear,r,e)),o=Xr(t.weekday,1,7);return n?i?o?!1:gn("weekday",t.weekday):gn("week",t.weekNumber):gn("weekYear",t.weekYear)}function YL(t){let r=Sd(t.year),e=Xr(t.ordinal,1,Zo(t.year));return r?e?!1:gn("ordinal",t.ordinal):gn("year",t.year)}function FE(t){let r=Sd(t.year),e=Xr(t.month,1,12),n=Xr(t.day,1,Xu(t.year,t.month));return r?e?n?!1:gn("day",t.day):gn("month",t.month):gn("year",t.year)}function jE(t){let{hour:r,minute:e,second:n,millisecond:i}=t,o=Xr(r,0,23)||r===24&&e===0&&n===0&&i===0,s=Xr(e,0,59),a=Xr(n,0,59),c=Xr(i,0,999);return o?s?a?c?!1:gn("millisecond",i):gn("second",n):gn("minute",e):gn("hour",r)}var VL,HL,DE=G(()=>{v();Sr();Ed();Wo();VL=[0,31,59,90,120,151,181,212,243,273,304,334],HL=[0,31,60,91,121,152,182,213,244,274,305,335]});function Oe(t){return typeof t>"u"}function zn(t){return typeof t=="number"}function Sd(t){return typeof t=="number"&&t%1===0}function LL(t){return typeof t=="string"}function XL(t){return Object.prototype.toString.call(t)==="[object Date]"}function Cb(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Mb(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function QL(t){return Array.isArray(t)?t:[t]}function qE(t,r,e){if(t.length!==0)return t.reduce((n,i)=>{let o=[r(i),i];return n&&e(n[0],o[0])===n[0]?n:o},null)[1]}function eR(t,r){return r.reduce((e,n)=>(e[n]=t[n],e),{})}function Jo(t,r){return Object.prototype.hasOwnProperty.call(t,r)}function _d(t){if(t==null)return null;if(typeof t!="object")throw new Nt("Week settings must be an object");if(!Xr(t.firstDay,1,7)||!Xr(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(r=>!Xr(r,1,7)))throw new Nt("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Xr(t,r,e){return Sd(t)&&t>=r&&t<=e}function Eoe(t,r){return t-r*Math.floor(t/r)}function At(t,r=2){let e=t<0,n;return e?n="-"+(""+-t).padStart(r,"0"):n=(""+t).padStart(r,"0"),n}function zi(t){if(!(Oe(t)||t===null||t===""))return parseInt(t,10)}function Yo(t){if(!(Oe(t)||t===null||t===""))return parseFloat(t)}function Td(t){if(!(Oe(t)||t===null||t==="")){let r=parseFloat("0."+t)*1e3;return Math.floor(r)}}function Zu(t,r,e=!1){let n=10**r;return(e?Math.trunc:Math.round)(t*n)/n}function oa(t){return t%4===0&&(t%100!==0||t%400===0)}function Zo(t){return oa(t)?366:365}function Xu(t,r){let e=Eoe(r-1,12)+1,n=t+(r-e)/12;return e===2?oa(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function Gu(t){let r=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(r=new Date(r),r.setUTCFullYear(t.year,t.month-1,t.day)),+r}function KL(t,r,e){return-Rb(Lb(t,1,r),e)+r-1}function ia(t,r=4,e=1){let n=KL(t,r,e),i=KL(t+1,r,e);return(Zo(t)-n+i)/7}function xd(t){return t>99?t:t>nt.twoDigitCutoffYear?1900+t:2e3+t}function Pb(t,r,e,n=null){let i=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);let s={timeZoneName:r,...o},a=new Intl.DateTimeFormat(e,s).formatToParts(i).find(c=>c.type.toLowerCase()==="timezonename");return a?a.value:null}function na(t,r){let e=parseInt(t,10);Number.isNaN(e)&&(e=0);let n=parseInt(r,10)||0,i=e<0||Object.is(e,-0)?-n:n;return e*60+i}function BE(t){let r=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(r))throw new Nt(`Invalid unit value ${t}`);return r}function Qu(t,r){let e={};for(let n in t)if(Jo(t,n)){let i=t[n];if(i==null)continue;e[r(n)]=BE(i)}return e}function zo(t,r){let e=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(r){case"short":return`${i}${At(e,2)}:${At(n,2)}`;case"narrow":return`${i}${e}${n>0?`:${n}`:""}`;case"techie":return`${i}${At(e,2)}${At(n,2)}`;default:throw new RangeError(`Value format ${r} is out of range for property format`)}}function Pd(t){return eR(t,["hour","minute","second","millisecond"])}var Sr=G(()=>{v();Wo();Ho();DE()});function SE(t){switch(t){case"narrow":return[...Soe];case"short":return[...WE];case"long":return[...Ooe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}function PE(t){switch(t){case"narrow":return[...Poe];case"short":return[...UE];case"long":return[...$E];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}function xE(t){switch(t){case"narrow":return[...Aoe];case"short":return[...xoe];case"long":return[...Toe];default:return null}}function tR(t){return TE[t.hour<12?0:1]}function rR(t,r){return PE(r)[t.weekday-1]}function nR(t,r){return SE(r)[t.month-1]}function iR(t,r){return xE(r)[t.year<0?0:1]}function kL(t,r,e="always",n=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(e==="auto"&&o){let h=t==="days";switch(r){case 1:return h?"tomorrow":`next ${i[t][0]}`;case-1:return h?"yesterday":`last ${i[t][0]}`;case 0:return h?"today":`this ${i[t][0]}`;default:}}let s=Object.is(r,-0)||r<0,a=Math.abs(r),c=a===1,l=i[t],p=n?c?l[1]:l[2]||l[1]:c?i[t][0]:t;return s?`${a} ${p} ago`:`in ${a} ${p}`}var Ooe,WE,Soe,$E,UE,Poe,TE,Toe,xoe,Aoe,Ib=G(()=>{v();gd();Sr();Ooe=["January","February","March","April","May","June","July","August","September","October","November","December"],WE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Soe=["J","F","M","A","M","J","J","A","S","O","N","D"];$E=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],UE=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Poe=["M","T","W","T","F","S","S"];TE=["AM","PM"],Toe=["Before Christ","Anno Domini"],xoe=["BC","AD"],Aoe=["B","A"]});function oR(t,r){let e="";for(let n of t)n.literal?e+=n.val:e+=r(n.val);return e}var Coe,rr,Ad=G(()=>{v();Ib();gd();Sr();Coe={D:$o,DD:Ql,DDD:ed,DDDD:td,t:rd,tt:nd,ttt:id,tttt:od,T:sd,TT:ad,TTT:ud,TTTT:cd,f:ld,ff:pd,fff:hd,ffff:vd,F:dd,FF:fd,FFF:md,FFFF:bd},rr=class t{static create(r,e={}){return new t(r,e)}static parseFormat(r){let e=null,n="",i=!1,o=[];for(let s=0;s<r.length;s++){let a=r.charAt(s);a==="'"?(n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),e=null,n="",i=!i):i||a===e?n+=a:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=a,e=a)}return n.length>0&&o.push({literal:i||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(r){return Coe[r]}constructor(r,e){this.opts=e,this.loc=r,this.systemLoc=null}formatWithSystemDefault(r,e){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(r,{...this.opts,...e}).format()}dtFormatter(r,e={}){return this.loc.dtFormatter(r,{...this.opts,...e})}formatDateTime(r,e){return this.dtFormatter(r,e).format()}formatDateTimeParts(r,e){return this.dtFormatter(r,e).formatToParts()}formatInterval(r,e){return this.dtFormatter(r.start,e).dtf.formatRange(r.start.toJSDate(),r.end.toJSDate())}resolvedOptions(r,e){return this.dtFormatter(r,e).resolvedOptions()}num(r,e=0){if(this.opts.forceSimple)return At(r,e);let n={...this.opts};return e>0&&(n.padTo=e),this.loc.numberFormatter(n).format(r)}formatDateTimeFromString(r,e){let n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(b,g)=>this.loc.extract(r,b,g),s=b=>r.isOffsetFixed&&r.offset===0&&b.allowZ?"Z":r.isValid?r.zone.formatOffset(r.ts,b.format):"",a=()=>n?tR(r):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(b,g)=>n?nR(r,b):o(g?{month:b}:{month:b,day:"numeric"},"month"),l=(b,g)=>n?rR(r,b):o(g?{weekday:b}:{weekday:b,month:"long",day:"numeric"},"weekday"),p=b=>{let g=t.macroTokenToFormatOpts(b);return g?this.formatWithSystemDefault(r,g):b},h=b=>n?iR(r,b):o({era:b},"era"),f=b=>{switch(b){case"S":return this.num(r.millisecond);case"u":case"SSS":return this.num(r.millisecond,3);case"s":return this.num(r.second);case"ss":return this.num(r.second,2);case"uu":return this.num(Math.floor(r.millisecond/10),2);case"uuu":return this.num(Math.floor(r.millisecond/100));case"m":return this.num(r.minute);case"mm":return this.num(r.minute,2);case"h":return this.num(r.hour%12===0?12:r.hour%12);case"hh":return this.num(r.hour%12===0?12:r.hour%12,2);case"H":return this.num(r.hour);case"HH":return this.num(r.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:this.loc.locale});case"z":return r.zoneName;case"a":return a();case"d":return i?o({day:"numeric"},"day"):this.num(r.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(r.day,2);case"c":return this.num(r.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(r.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(r.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(r.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(r.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(r.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(r.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(r.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(r.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(r.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(r.weekYear.toString().slice(-2),2);case"kkkk":return this.num(r.weekYear,4);case"W":return this.num(r.weekNumber);case"WW":return this.num(r.weekNumber,2);case"n":return this.num(r.localWeekNumber);case"nn":return this.num(r.localWeekNumber,2);case"ii":return this.num(r.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(r.localWeekYear,4);case"o":return this.num(r.ordinal);case"ooo":return this.num(r.ordinal,3);case"q":return this.num(r.quarter);case"qq":return this.num(r.quarter,2);case"X":return this.num(Math.floor(r.ts/1e3));case"x":return this.num(r.ts);default:return p(b)}};return oR(t.parseFormat(e),f)}formatDurationFromString(r,e){let n=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=c=>l=>{let p=n(l);return p?this.num(c.get(p),l.length):l},o=t.parseFormat(e),s=o.reduce((c,{literal:l,val:p})=>l?c:c.concat(p),[]),a=r.shiftTo(...s.map(n).filter(c=>c));return oR(o,i(a))}}});function tc(...t){let r=t.reduce((e,n)=>e+n.source,"");return RegExp(`^${r}$`)}function rc(...t){return r=>t.reduce(([e,n,i],o)=>{let[s,a,c]=o(r,i);return[{...e,...s},a||n,c]},[{},null,1]).slice(0,2)}function nc(t,...r){if(t==null)return[null,null];for(let[e,n]of r){let i=e.exec(t);if(i)return n(i)}return[null,null]}function uR(...t){return(r,e)=>{let n={},i;for(i=0;i<t.length;i++)n[t[i]]=zi(r[e+i]);return[n,null,e+i]}}function ec(t,r,e){let n=t[r];return Oe(n)?e:zi(n)}function Doe(t,r){return[{year:ec(t,r),month:ec(t,r+1,1),day:ec(t,r+2,1)},null,r+3]}function ic(t,r){return[{hours:ec(t,r,0),minutes:ec(t,r+1,0),seconds:ec(t,r+2,0),milliseconds:Td(t[r+3])},null,r+4]}function Cd(t,r){let e=!t[r]&&!t[r+1],n=na(t[r+1],t[r+2]),i=e?null:er.instance(n);return[{},i,r+3]}function Md(t,r){let e=t[r]?mr.create(t[r]):null;return[{},e,r+1]}function Woe(t){let[r,e,n,i,o,s,a,c,l]=t,p=r[0]==="-",h=c&&c[0]==="-",f=(b,g=!1)=>b!==void 0&&(g||b&&p)?-b:b;return[{years:f(Yo(e)),months:f(Yo(n)),weeks:f(Yo(i)),days:f(Yo(o)),hours:f(Yo(s)),minutes:f(Yo(a)),seconds:f(Yo(c),c==="-0"),milliseconds:f(Td(l),h)}]}function HE(t,r,e,n,i,o,s){let a={year:r.length===2?xd(zi(r)):zi(r),month:WE.indexOf(e)+1,day:zi(n),hour:zi(i),minute:zi(o)};return s&&(a.second=zi(s)),t&&(a.weekday=t.length>3?$E.indexOf(t)+1:UE.indexOf(t)+1),a}function zoe(t){let[,r,e,n,i,o,s,a,c,l,p,h]=t,f=HE(r,i,n,e,o,s,a),b;return c?b=$oe[c]:l?b=0:b=na(p,h),[f,new er(b)]}function Voe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function sR(t){let[,r,e,n,i,o,s,a]=t;return[HE(r,i,n,e,o,s,a),er.utcInstance]}function Joe(t){let[,r,e,n,i,o,s,a]=t;return[HE(r,a,e,n,i,o,s),er.utcInstance]}function fR(t){return nc(t,[Yoe,pR],[Koe,ese],[Xoe,tse],[Qoe,rse])}function hR(t){return nc(Voe(t),[Uoe,zoe])}function mR(t){return nc(t,[Hoe,sR],[Goe,sR],[Zoe,Joe])}function vR(t){return nc(t,[Boe,Woe])}function bR(t){return nc(t,[qoe,nse])}function gR(t){return nc(t,[ise,pR],[ose,sse])}var aR,cR,Moe,zE,lR,VE,Ioe,koe,Loe,Roe,Noe,Foe,dR,joe,qoe,Boe,$oe,Uoe,Hoe,Goe,Zoe,Yoe,Koe,Xoe,Qoe,pR,ese,tse,rse,nse,ise,ose,sse,GE=G(()=>{v();Sr();Ib();Ju();Vo();aR=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;cR=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Moe=`(?:${cR.source}?(?:\\[(${aR.source})\\])?)?`,zE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,lR=RegExp(`${zE.source}${Moe}`),VE=RegExp(`(?:T${lR.source})?`),Ioe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,koe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Loe=/(\d{4})-?(\d{3})/,Roe=uR("weekYear","weekNumber","weekDay"),Noe=uR("year","ordinal"),Foe=/(\d{4})-(\d\d)-(\d\d)/,dR=RegExp(`${zE.source} ?(?:${cR.source}|(${aR.source}))?`),joe=RegExp(`(?: ${dR.source})?`);qoe=RegExp(`^T?${zE.source}$`),Boe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;$oe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};Uoe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;Hoe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Goe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Zoe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;Yoe=tc(Ioe,VE),Koe=tc(koe,VE),Xoe=tc(Loe,VE),Qoe=tc(lR),pR=rc(Doe,ic,Cd,Md),ese=rc(Roe,ic,Cd,Md),tse=rc(Noe,ic,Cd,Md),rse=rc(ic,Cd,Md);nse=rc(ic);ise=tc(Foe,joe),ose=tc(dR),sse=rc(ic,Cd,Md)});function Ko(t,r,e=!1){let n={values:e?r.values:{...t.values,...r.values||{}},loc:t.loc.clone(r.loc),conversionAccuracy:r.conversionAccuracy||t.conversionAccuracy,matrix:r.matrix||t.matrix};return new Ct(n)}function ER(t,r){let e=r.milliseconds??0;for(let n of cse.slice(1))r[n]&&(e+=r[n]*t[n].milliseconds);return e}function _R(t,r){let e=ER(t,r)<0?-1:1;sa.reduceRight((n,i)=>{if(Oe(r[i]))return n;if(n){let o=r[n]*e,s=t[i][n],a=Math.floor(o/s);r[i]+=a*e,r[n]-=a*s*e}return i},null),sa.reduce((n,i)=>{if(Oe(r[i]))return n;if(n){let o=r[n]%1;r[n]-=o,r[i]+=o*t[n][i]}return i},null)}function lse(t){let r={};for(let[e,n]of Object.entries(t))n!==0&&(r[e]=n);return r}var yR,wR,ase,yn,oc,use,sa,cse,Ct,Id=G(()=>{v();Wo();Ad();Ed();wd();GE();Sr();Ho();Go();yR="Invalid Duration",wR={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ase={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...wR},yn=146097/400,oc=146097/4800,use={years:{quarters:4,months:12,weeks:yn/7,days:yn,hours:yn*24,minutes:yn*24*60,seconds:yn*24*60*60,milliseconds:yn*24*60*60*1e3},quarters:{months:3,weeks:yn/28,days:yn/4,hours:yn*24/4,minutes:yn*24*60/4,seconds:yn*24*60*60/4,milliseconds:yn*24*60*60*1e3/4},months:{weeks:oc/7,days:oc,hours:oc*24,minutes:oc*24*60,seconds:oc*24*60*60,milliseconds:oc*24*60*60*1e3},...wR},sa=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],cse=sa.slice(0).reverse();Ct=class t{constructor(r){let e=r.conversionAccuracy==="longterm"||!1,n=e?use:ase;r.matrix&&(n=r.matrix),this.values=r.values,this.loc=r.loc||it.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=r.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(r,e){return t.fromObject({milliseconds:r},e)}static fromObject(r,e={}){if(r==null||typeof r!="object")throw new Nt(`Duration.fromObject: argument expected to be an object, got ${r===null?"null":typeof r}`);return new t({values:Qu(r,t.normalizeUnit),loc:it.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(r){if(zn(r))return t.fromMillis(r);if(t.isDuration(r))return r;if(typeof r=="object")return t.fromObject(r);throw new Nt(`Unknown duration argument ${r} of type ${typeof r}`)}static fromISO(r,e){let[n]=vR(r);return n?t.fromObject(n,e):t.invalid("unparsable",`the input "${r}" can't be parsed as ISO 8601`)}static fromISOTime(r,e){let[n]=bR(r);return n?t.fromObject(n,e):t.invalid("unparsable",`the input "${r}" can't be parsed as ISO 8601`)}static invalid(r,e=null){if(!r)throw new Nt("need to specify a reason the Duration is invalid");let n=r instanceof tr?r:new tr(r,e);if(nt.throwOnInvalid)throw new Eb(n);return new t({invalid:n})}static normalizeUnit(r){let e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[r&&r.toLowerCase()];if(!e)throw new Hu(r);return e}static isDuration(r){return r&&r.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(r,e={}){let n={...e,floor:e.round!==!1&&e.floor!==!1};return this.isValid?rr.create(this.loc,n).formatDurationFromString(this,r):yR}toHuman(r={}){if(!this.isValid)return yR;let e=sa.map(n=>{let i=this.values[n];return Oe(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...r,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:r.listStyle||"narrow",...r}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let r="P";return this.years!==0&&(r+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(r+=this.months+this.quarters*3+"M"),this.weeks!==0&&(r+=this.weeks+"W"),this.days!==0&&(r+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(r+="T"),this.hours!==0&&(r+=this.hours+"H"),this.minutes!==0&&(r+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(r+=Zu(this.seconds+this.milliseconds/1e3,3)+"S"),r==="P"&&(r+="T0S"),r}toISOTime(r={}){if(!this.isValid)return null;let e=this.toMillis();return e<0||e>=864e5?null:(r={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...r,includeOffset:!1},rt.fromMillis(e,{zone:"UTC"}).toISOTime(r))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ER(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(r){if(!this.isValid)return this;let e=t.fromDurationLike(r),n={};for(let i of sa)(Jo(e.values,i)||Jo(this.values,i))&&(n[i]=e.get(i)+this.get(i));return Ko(this,{values:n},!0)}minus(r){if(!this.isValid)return this;let e=t.fromDurationLike(r);return this.plus(e.negate())}mapUnits(r){if(!this.isValid)return this;let e={};for(let n of Object.keys(this.values))e[n]=BE(r(this.values[n],n));return Ko(this,{values:e},!0)}get(r){return this[t.normalizeUnit(r)]}set(r){if(!this.isValid)return this;let e={...this.values,...Qu(r,t.normalizeUnit)};return Ko(this,{values:e})}reconfigure({locale:r,numberingSystem:e,conversionAccuracy:n,matrix:i}={}){let s={loc:this.loc.clone({locale:r,numberingSystem:e}),matrix:i,conversionAccuracy:n};return Ko(this,s)}as(r){return this.isValid?this.shiftTo(r).get(r):NaN}normalize(){if(!this.isValid)return this;let r=this.toObject();return _R(this.matrix,r),Ko(this,{values:r},!0)}rescale(){if(!this.isValid)return this;let r=lse(this.normalize().shiftToAll().toObject());return Ko(this,{values:r},!0)}shiftTo(...r){if(!this.isValid)return this;if(r.length===0)return this;r=r.map(s=>t.normalizeUnit(s));let e={},n={},i=this.toObject(),o;for(let s of sa)if(r.indexOf(s)>=0){o=s;let a=0;for(let l in n)a+=this.matrix[l][s]*n[l],n[l]=0;zn(i[s])&&(a+=i[s]);let c=Math.trunc(a);e[s]=c,n[s]=(a*1e3-c*1e3)/1e3}else zn(i[s])&&(n[s]=i[s]);for(let s in n)n[s]!==0&&(e[o]+=s===o?n[s]:n[s]/this.matrix[o][s]);return _R(this.matrix,e),Ko(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let r={};for(let e of Object.keys(this.values))r[e]=this.values[e]===0?0:-this.values[e];return Ko(this,{values:r},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(r){if(!this.isValid||!r.isValid||!this.loc.equals(r.loc))return!1;function e(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(let n of sa)if(!e(this.values[n],r.values[n]))return!1;return!0}}});function dse(t,r){return!t||!t.isValid?Vi.invalid("missing or invalid start"):!r||!r.isValid?Vi.invalid("missing or invalid end"):r<t?Vi.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${r.toISO()}`):null}var sc,Vi,ZE=G(()=>{v();Go();Id();Ho();Wo();Ed();Ad();gd();sc="Invalid Interval";Vi=class t{constructor(r){this.s=r.start,this.e=r.end,this.invalid=r.invalid||null,this.isLuxonInterval=!0}static invalid(r,e=null){if(!r)throw new Nt("need to specify a reason the Interval is invalid");let n=r instanceof tr?r:new tr(r,e);if(nt.throwOnInvalid)throw new wb(n);return new t({invalid:n})}static fromDateTimes(r,e){let n=ac(r),i=ac(e),o=dse(n,i);return o??new t({start:n,end:i})}static after(r,e){let n=Ct.fromDurationLike(e),i=ac(r);return t.fromDateTimes(i,i.plus(n))}static before(r,e){let n=Ct.fromDurationLike(e),i=ac(r);return t.fromDateTimes(i.minus(n),i)}static fromISO(r,e){let[n,i]=(r||"").split("/",2);if(n&&i){let o,s;try{o=rt.fromISO(n,e),s=o.isValid}catch{s=!1}let a,c;try{a=rt.fromISO(i,e),c=a.isValid}catch{c=!1}if(s&&c)return t.fromDateTimes(o,a);if(s){let l=Ct.fromISO(i,e);if(l.isValid)return t.after(o,l)}else if(c){let l=Ct.fromISO(n,e);if(l.isValid)return t.before(a,l)}}return t.invalid("unparsable",`the input "${r}" can't be parsed as ISO 8601`)}static isInterval(r){return r&&r.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(r="milliseconds"){return this.isValid?this.toDuration(r).get(r):NaN}count(r="milliseconds",e){if(!this.isValid)return NaN;let n=this.start.startOf(r,e),i;return e!=null&&e.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(r,e),Math.floor(i.diff(n,r).get(r))+(i.valueOf()!==this.end.valueOf())}hasSame(r){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,r):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(r){return this.isValid?this.s>r:!1}isBefore(r){return this.isValid?this.e<=r:!1}contains(r){return this.isValid?this.s<=r&&this.e>r:!1}set({start:r,end:e}={}){return this.isValid?t.fromDateTimes(r||this.s,e||this.e):this}splitAt(...r){if(!this.isValid)return[];let e=r.map(ac).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),n=[],{s:i}=this,o=0;for(;i<this.e;){let s=e[o]||this.e,a=+s>+this.e?this.e:s;n.push(t.fromDateTimes(i,a)),i=a,o+=1}return n}splitBy(r){let e=Ct.fromDurationLike(r);if(!this.isValid||!e.isValid||e.as("milliseconds")===0)return[];let{s:n}=this,i=1,o,s=[];for(;n<this.e;){let a=this.start.plus(e.mapUnits(c=>c*i));o=+a>+this.e?this.e:a,s.push(t.fromDateTimes(n,o)),n=o,i+=1}return s}divideEqually(r){return this.isValid?this.splitBy(this.length()/r).slice(0,r):[]}overlaps(r){return this.e>r.s&&this.s<r.e}abutsStart(r){return this.isValid?+this.e==+r.s:!1}abutsEnd(r){return this.isValid?+r.e==+this.s:!1}engulfs(r){return this.isValid?this.s<=r.s&&this.e>=r.e:!1}equals(r){return!this.isValid||!r.isValid?!1:this.s.equals(r.s)&&this.e.equals(r.e)}intersection(r){if(!this.isValid)return this;let e=this.s>r.s?this.s:r.s,n=this.e<r.e?this.e:r.e;return e>=n?null:t.fromDateTimes(e,n)}union(r){if(!this.isValid)return this;let e=this.s<r.s?this.s:r.s,n=this.e>r.e?this.e:r.e;return t.fromDateTimes(e,n)}static merge(r){let[e,n]=r.sort((i,o)=>i.s-o.s).reduce(([i,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[i,o.union(s)]:[i.concat([o]),s]:[i,s],[[],null]);return n&&e.push(n),e}static xor(r){let e=null,n=0,i=[],o=r.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),s=Array.prototype.concat(...o),a=s.sort((c,l)=>c.time-l.time);for(let c of a)n+=c.type==="s"?1:-1,n===1?e=c.time:(e&&+e!=+c.time&&i.push(t.fromDateTimes(e,c.time)),e=null);return t.merge(i)}difference(...r){return t.xor([this].concat(r)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:sc}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(r=$o,e={}){return this.isValid?rr.create(this.s.loc.clone(e),r).formatInterval(this):sc}toISO(r){return this.isValid?`${this.s.toISO(r)}/${this.e.toISO(r)}`:sc}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:sc}toISOTime(r){return this.isValid?`${this.s.toISOTime(r)}/${this.e.toISOTime(r)}`:sc}toFormat(r,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(r)}${e}${this.e.toFormat(r)}`:sc}toDuration(r,e){return this.isValid?this.e.diff(this.s,r,e):Ct.invalid(this.invalidReason)}mapEndpoints(r){return t.fromDateTimes(r(this.s),r(this.e))}}});var Hi,JE=G(()=>{v();Go();Ho();wd();Vo();kb();Sr();Hi=class{static hasDST(r=nt.defaultZone){let e=rt.now().setZone(r).set({month:12});return!r.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(r){return mr.isValidZone(r)}static normalizeZone(r){return Un(r,nt.defaultZone)}static getStartOfWeek({locale:r=null,locObj:e=null}={}){return(e||it.create(r)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:r=null,locObj:e=null}={}){return(e||it.create(r)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:r=null,locObj:e=null}={}){return(e||it.create(r)).getWeekendDays().slice()}static months(r="long",{locale:e=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||it.create(e,n,o)).months(r)}static monthsFormat(r="long",{locale:e=null,numberingSystem:n=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||it.create(e,n,o)).months(r,!0)}static weekdays(r="long",{locale:e=null,numberingSystem:n=null,locObj:i=null}={}){return(i||it.create(e,n,null)).weekdays(r)}static weekdaysFormat(r="long",{locale:e=null,numberingSystem:n=null,locObj:i=null}={}){return(i||it.create(e,n,null)).weekdays(r,!0)}static meridiems({locale:r=null}={}){return it.create(r).meridiems()}static eras(r="short",{locale:e=null}={}){return it.create(e,null,"gregory").eras(r)}static features(){return{relative:Cb(),localeWeek:Mb()}}}});function OR(t,r){let e=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=e(r)-e(t);return Math.floor(Ct.fromMillis(n).as("days"))}function pse(t,r,e){let n=[["years",(c,l)=>l.year-c.year],["quarters",(c,l)=>l.quarter-c.quarter+(l.year-c.year)*4],["months",(c,l)=>l.month-c.month+(l.year-c.year)*12],["weeks",(c,l)=>{let p=OR(c,l);return(p-p%7)/7}],["days",OR]],i={},o=t,s,a;for(let[c,l]of n)e.indexOf(c)>=0&&(s=c,i[c]=l(t,r),a=o.plus(i),a>r?(i[c]--,t=o.plus(i),t>r&&(a=t,i[c]--,t=o.plus(i))):t=a);return[t,i,a,s]}function SR(t,r,e,n){let[i,o,s,a]=pse(t,r,e),c=r-i,l=e.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);l.length===0&&(s<r&&(s=i.plus({[a]:1})),s!==i&&(o[a]=(o[a]||0)+c/(s-i)));let p=Ct.fromObject(o,n);return l.length>0?Ct.fromMillis(c,n).shiftTo(...l).plus(p):p}var PR=G(()=>{v();Id()});function at(t,r=e=>e){return{regex:t,deser:([e])=>r(NL(e))}}function mse(t){return t.replace(/\./g,"\\.?").replace(CR,AR)}function TR(t){return t.replace(/\./g,"").replace(CR," ").toLowerCase()}function Vn(t,r){return t===null?null:{regex:RegExp(t.map(mse).join("|")),deser:([e])=>t.findIndex(n=>TR(e)===TR(n))+r}}function xR(t,r){return{regex:t,deser:([,e,n])=>na(e,n),groups:r}}function Fb(t){return{regex:t,deser:([r])=>r}}function vse(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function bse(t,r){let e=bn(r),n=bn(r,"{2}"),i=bn(r,"{3}"),o=bn(r,"{4}"),s=bn(r,"{6}"),a=bn(r,"{1,2}"),c=bn(r,"{1,3}"),l=bn(r,"{1,6}"),p=bn(r,"{1,9}"),h=bn(r,"{2,4}"),f=bn(r,"{4,6}"),b=_=>({regex:RegExp(vse(_.val)),deser:([S])=>S,literal:!0}),w=(_=>{if(t.literal)return b(_);switch(_.val){case"G":return Vn(r.eras("short"),0);case"GG":return Vn(r.eras("long"),0);case"y":return at(l);case"yy":return at(h,xd);case"yyyy":return at(o);case"yyyyy":return at(f);case"yyyyyy":return at(s);case"M":return at(a);case"MM":return at(n);case"MMM":return Vn(r.months("short",!0),1);case"MMMM":return Vn(r.months("long",!0),1);case"L":return at(a);case"LL":return at(n);case"LLL":return Vn(r.months("short",!1),1);case"LLLL":return Vn(r.months("long",!1),1);case"d":return at(a);case"dd":return at(n);case"o":return at(c);case"ooo":return at(i);case"HH":return at(n);case"H":return at(a);case"hh":return at(n);case"h":return at(a);case"mm":return at(n);case"m":return at(a);case"q":return at(a);case"qq":return at(n);case"s":return at(a);case"ss":return at(n);case"S":return at(c);case"SSS":return at(i);case"u":return Fb(p);case"uu":return Fb(a);case"uuu":return at(e);case"a":return Vn(r.meridiems(),0);case"kkkk":return at(o);case"kk":return at(h,xd);case"W":return at(a);case"WW":return at(n);case"E":case"c":return at(e);case"EEE":return Vn(r.weekdays("short",!1),1);case"EEEE":return Vn(r.weekdays("long",!1),1);case"ccc":return Vn(r.weekdays("short",!0),1);case"cccc":return Vn(r.weekdays("long",!0),1);case"Z":case"ZZ":return xR(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return xR(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Fb(/[a-z_+-/]{1,256}?/i);case" ":return Fb(/[^\S\n\r]/);default:return b(_)}})(t)||{invalidReason:fse};return w.token=t,w}function yse(t,r,e){let{type:n,value:i}=t;if(n==="literal"){let c=/^\s+$/.test(i);return{literal:!c,val:c?" ":i}}let o=r[n],s=n;n==="hour"&&(r.hour12!=null?s=r.hour12?"hour12":"hour24":r.hourCycle!=null?r.hourCycle==="h11"||r.hourCycle==="h12"?s="hour12":s="hour24":s=e.hour12?"hour12":"hour24");let a=gse[s];if(typeof a=="object"&&(a=a[o]),a)return{literal:!1,val:a}}function _se(t){return[`^${t.map(e=>e.regex).reduce((e,n)=>`${e}(${n.source})`,"")}$`,t]}function wse(t,r,e){let n=t.match(r);if(n){let i={},o=1;for(let s in e)if(Jo(e,s)){let a=e[s],c=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(n.slice(o,o+c))),o+=c}return[n,i]}else return[n,{}]}function Ese(t){let r=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},e=null,n;return Oe(t.z)||(e=mr.create(t.z)),Oe(t.Z)||(e||(e=new er(t.Z)),n=t.Z),Oe(t.q)||(t.M=(t.q-1)*3+1),Oe(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Oe(t.u)||(t.S=Td(t.u)),[Object.keys(t).reduce((o,s)=>{let a=r(s);return a&&(o[a]=t[s]),o},{}),e,n]}function Ose(){return YE||(YE=rt.fromMillis(1555555555555)),YE}function Sse(t,r){if(t.literal)return t;let e=rr.macroTokenToFormatOpts(t.val),n=QE(e,r);return n==null||n.includes(void 0)?t:n}function KE(t,r){return Array.prototype.concat(...t.map(e=>Sse(e,r)))}function XE(t,r,e){return new kd(t,e).explainFromTokens(r)}function MR(t,r,e){let{result:n,zone:i,specificOffset:o,invalidReason:s}=XE(t,r,e);return[n,i,o,s]}function QE(t,r){if(!t)return null;let n=rr.create(r,t).dtFormatter(Ose()),i=n.formatToParts(),o=n.resolvedOptions();return i.map(s=>yse(s,t,o))}var fse,hse,AR,CR,gse,YE,kd,IR=G(()=>{v();Sr();Ad();Ju();Vo();Go();kE();Wo();fse="missing Intl.DateTimeFormat.formatToParts support";hse="\xA0",AR=`[ ${hse}]`,CR=new RegExp(AR,"g");gse={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};YE=null;kd=class{constructor(r,e){if(this.locale=r,this.format=e,this.tokens=KE(rr.parseFormat(e),r),this.units=this.tokens.map(n=>bse(n,r)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){let[n,i]=_se(this.units);this.regex=RegExp(n,"i"),this.handlers=i}}explainFromTokens(r){if(this.isValid){let[e,n]=wse(r,this.regex,this.handlers),[i,o,s]=n?Ese(n):[null,null,void 0];if(Jo(n,"a")&&Jo(n,"H"))throw new Bn("Can't include meridiem when specifying 24-hour format");return{input:r,tokens:this.tokens,regex:this.regex,rawMatches:e,matches:n,result:i,zone:o,specificOffset:s}}else return{input:r,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}});function Ld(t){return new tr("unsupported zone",`the zone "${t.name}" is not supported`)}function tO(t){return t.weekData===null&&(t.weekData=Od(t.c)),t.weekData}function rO(t){return t.localWeekData===null&&(t.localWeekData=Od(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function aa(t,r){let e={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new rt({...e,...r,old:e})}function qR(t,r,e){let n=t-r*60*1e3,i=e.offset(n);if(r===i)return[n,r];n-=(i-r)*60*1e3;let o=e.offset(n);return i===o?[n,i]:[t-Math.min(i,o)*60*1e3,Math.max(i,o)]}function jb(t,r){t+=r*60*1e3;let e=new Date(t);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function qb(t,r,e){return qR(Gu(t),r,e)}function LR(t,r){let e=t.o,n=t.c.year+Math.trunc(r.years),i=t.c.month+Math.trunc(r.months)+Math.trunc(r.quarters)*3,o={...t.c,year:n,month:i,day:Math.min(t.c.day,Xu(n,i))+Math.trunc(r.days)+Math.trunc(r.weeks)*7},s=Ct.fromObject({years:r.years-Math.trunc(r.years),quarters:r.quarters-Math.trunc(r.quarters),months:r.months-Math.trunc(r.months),weeks:r.weeks-Math.trunc(r.weeks),days:r.days-Math.trunc(r.days),hours:r.hours,minutes:r.minutes,seconds:r.seconds,milliseconds:r.milliseconds}).as("milliseconds"),a=Gu(o),[c,l]=qR(a,e,t.zone);return s!==0&&(c+=s,l=t.zone.offset(c)),{ts:c,o:l}}function uc(t,r,e,n,i,o){let{setZone:s,zone:a}=e;if(t&&Object.keys(t).length!==0||r){let c=r||a,l=rt.fromObject(t,{...e,zone:c,specificOffset:o});return s?l:l.setZone(a)}else return rt.invalid(new tr("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Db(t,r,e=!0){return t.isValid?rr.create(it.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(t,r):null}function nO(t,r){let e=t.c.year>9999||t.c.year<0,n="";return e&&t.c.year>=0&&(n+="+"),n+=At(t.c.year,e?6:4),r?(n+="-",n+=At(t.c.month),n+="-",n+=At(t.c.day)):(n+=At(t.c.month),n+=At(t.c.day)),n}function RR(t,r,e,n,i,o){let s=At(t.c.hour);return r?(s+=":",s+=At(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!e)&&(s+=":")):s+=At(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!e)&&(s+=At(t.c.second),(t.c.millisecond!==0||!n)&&(s+=".",s+=At(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!o?s+="Z":t.o<0?(s+="-",s+=At(Math.trunc(-t.o/60)),s+=":",s+=At(Math.trunc(-t.o%60))):(s+="+",s+=At(Math.trunc(t.o/60)),s+=":",s+=At(Math.trunc(t.o%60)))),o&&(s+="["+t.zone.ianaName+"]"),s}function Cse(t){let r={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!r)throw new Hu(t);return r}function NR(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Cse(t)}}function Mse(t){return Wb[t]||(Bb===void 0&&(Bb=nt.now()),Wb[t]=t.offset(Bb)),Wb[t]}function FR(t,r){let e=Un(r.zone,nt.defaultZone);if(!e.isValid)return rt.invalid(Ld(e));let n=it.fromObject(r),i,o;if(Oe(t.year))i=nt.now();else{for(let c of WR)Oe(t[c])&&(t[c]=BR[c]);let s=FE(t)||jE(t);if(s)return rt.invalid(s);let a=Mse(e);[i,o]=qb(t,a,e)}return new rt({ts:i,zone:e,loc:n,o})}function jR(t,r,e){let n=Oe(e.round)?!0:e.round,i=(s,a)=>(s=Zu(s,n||e.calendary?0:2,!0),r.loc.clone(e).relFormatter(e).format(s,a)),o=s=>e.calendary?r.hasSame(t,s)?0:r.startOf(s).diff(t.startOf(s),s).get(s):r.diff(t,s).get(s);if(e.unit)return i(o(e.unit),e.unit);for(let s of e.units){let a=o(s);if(Math.abs(a)>=1)return i(a,s)}return i(t>r?-0:0,e.units[e.units.length-1])}function DR(t){let r={},e;return t.length>0&&typeof t[t.length-1]=="object"?(r=t[t.length-1],e=Array.from(t).slice(0,t.length-1)):e=Array.from(t),[r,e]}function ac(t){if(rt.isDateTime(t))return t;if(t&&t.valueOf&&zn(t.valueOf()))return rt.fromJSDate(t);if(t&&typeof t=="object")return rt.fromObject(t);throw new Nt(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var eO,kR,BR,Pse,Tse,WR,xse,Ase,Bb,Wb,rt,Go=G(()=>{v();Id();ZE();Ho();JE();Ad();Ju();wd();Sr();kb();PR();GE();IR();DE();gd();Wo();Ed();eO="Invalid DateTime",kR=864e13;BR={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Pse={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Tse={ordinal:1,hour:0,minute:0,second:0,millisecond:0},WR=["year","month","day","hour","minute","second","millisecond"],xse=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Ase=["year","ordinal","hour","minute","second","millisecond"];Wb={},rt=class t{constructor(r){let e=r.zone||nt.defaultZone,n=r.invalid||(Number.isNaN(r.ts)?new tr("invalid input"):null)||(e.isValid?null:Ld(e));this.ts=Oe(r.ts)?nt.now():r.ts;let i=null,o=null;if(!n)if(r.old&&r.old.ts===this.ts&&r.old.zone.equals(e))[i,o]=[r.old.c,r.old.o];else{let a=zn(r.o)&&!r.old?r.o:e.offset(this.ts);i=jb(this.ts,a),n=Number.isNaN(i.year)?new tr("invalid input"):null,i=n?null:i,o=n?null:a}this._zone=e,this.loc=r.loc||it.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[r,e]=DR(arguments),[n,i,o,s,a,c,l]=e;return FR({year:n,month:i,day:o,hour:s,minute:a,second:c,millisecond:l},r)}static utc(){let[r,e]=DR(arguments),[n,i,o,s,a,c,l]=e;return r.zone=er.utcInstance,FR({year:n,month:i,day:o,hour:s,minute:a,second:c,millisecond:l},r)}static fromJSDate(r,e={}){let n=XL(r)?r.valueOf():NaN;if(Number.isNaN(n))return t.invalid("invalid input");let i=Un(e.zone,nt.defaultZone);return i.isValid?new t({ts:n,zone:i,loc:it.fromObject(e)}):t.invalid(Ld(i))}static fromMillis(r,e={}){if(zn(r))return r<-kR||r>kR?t.invalid("Timestamp out of range"):new t({ts:r,zone:Un(e.zone,nt.defaultZone),loc:it.fromObject(e)});throw new Nt(`fromMillis requires a numerical input, but received a ${typeof r} with value ${r}`)}static fromSeconds(r,e={}){if(zn(r))return new t({ts:r*1e3,zone:Un(e.zone,nt.defaultZone),loc:it.fromObject(e)});throw new Nt("fromSeconds requires a numerical input")}static fromObject(r,e={}){r=r||{};let n=Un(e.zone,nt.defaultZone);if(!n.isValid)return t.invalid(Ld(n));let i=it.fromObject(e),o=Qu(r,NR),{minDaysInFirstWeek:s,startOfWeek:a}=NE(o,i),c=nt.now(),l=Oe(e.specificOffset)?n.offset(c):e.specificOffset,p=!Oe(o.ordinal),h=!Oe(o.year),f=!Oe(o.month)||!Oe(o.day),b=h||f,g=o.weekYear||o.weekNumber;if((b||p)&&g)throw new Bn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&p)throw new Bn("Can't mix ordinal dates with month/day");let w=g||o.weekday&&!b,_,S,x=jb(c,l);w?(_=xse,S=Pse,x=Od(x,s,a)):p?(_=Ase,S=Tse,x=Nb(x)):(_=WR,S=BR);let C=!1;for(let B of _){let Q=o[B];Oe(Q)?C?o[B]=S[B]:o[B]=x[B]:C=!0}let I=w?JL(o,s,a):p?YL(o):FE(o),k=I||jE(o);if(k)return t.invalid(k);let P=w?LE(o,s,a):p?RE(o):o,[D,j]=qb(P,l,n),L=new t({ts:D,zone:n,o:j,loc:i});return o.weekday&&b&&r.weekday!==L.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${L.toISO()}`):L.isValid?L:t.invalid(L.invalid)}static fromISO(r,e={}){let[n,i]=fR(r);return uc(n,i,e,"ISO 8601",r)}static fromRFC2822(r,e={}){let[n,i]=hR(r);return uc(n,i,e,"RFC 2822",r)}static fromHTTP(r,e={}){let[n,i]=mR(r);return uc(n,i,e,"HTTP",e)}static fromFormat(r,e,n={}){if(Oe(r)||Oe(e))throw new Nt("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:o=null}=n,s=it.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[a,c,l,p]=MR(s,r,e);return p?t.invalid(p):uc(a,c,n,`format ${e}`,r,l)}static fromString(r,e,n={}){return t.fromFormat(r,e,n)}static fromSQL(r,e={}){let[n,i]=gR(r);return uc(n,i,e,"SQL",r)}static invalid(r,e=null){if(!r)throw new Nt("need to specify a reason the DateTime is invalid");let n=r instanceof tr?r:new tr(r,e);if(nt.throwOnInvalid)throw new _b(n);return new t({invalid:n})}static isDateTime(r){return r&&r.isLuxonDateTime||!1}static parseFormatForOpts(r,e={}){let n=QE(r,it.fromObject(e));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(r,e={}){return KE(rr.parseFormat(r),it.fromObject(e)).map(i=>i.val).join("")}static resetCache(){Bb=void 0,Wb={}}get(r){return this[r]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?tO(this).weekYear:NaN}get weekNumber(){return this.isValid?tO(this).weekNumber:NaN}get weekday(){return this.isValid?tO(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?rO(this).weekday:NaN}get localWeekNumber(){return this.isValid?rO(this).weekNumber:NaN}get localWeekYear(){return this.isValid?rO(this).weekYear:NaN}get ordinal(){return this.isValid?Nb(this.c).ordinal:NaN}get monthShort(){return this.isValid?Hi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Hi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Hi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Hi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let r=864e5,e=6e4,n=Gu(this.c),i=this.zone.offset(n-r),o=this.zone.offset(n+r),s=this.zone.offset(n-i*e),a=this.zone.offset(n-o*e);if(s===a)return[this];let c=n-s*e,l=n-a*e,p=jb(c,s),h=jb(l,a);return p.hour===h.hour&&p.minute===h.minute&&p.second===h.second&&p.millisecond===h.millisecond?[aa(this,{ts:c}),aa(this,{ts:l})]:[this]}get isInLeapYear(){return oa(this.year)}get daysInMonth(){return Xu(this.year,this.month)}get daysInYear(){return this.isValid?Zo(this.year):NaN}get weeksInWeekYear(){return this.isValid?ia(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ia(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(r={}){let{locale:e,numberingSystem:n,calendar:i}=rr.create(this.loc.clone(r),r).resolvedOptions(this);return{locale:e,numberingSystem:n,outputCalendar:i}}toUTC(r=0,e={}){return this.setZone(er.instance(r),e)}toLocal(){return this.setZone(nt.defaultZone)}setZone(r,{keepLocalTime:e=!1,keepCalendarTime:n=!1}={}){if(r=Un(r,nt.defaultZone),r.equals(this.zone))return this;if(r.isValid){let i=this.ts;if(e||n){let o=r.offset(this.ts),s=this.toObject();[i]=qb(s,o,r)}return aa(this,{ts:i,zone:r})}else return t.invalid(Ld(r))}reconfigure({locale:r,numberingSystem:e,outputCalendar:n}={}){let i=this.loc.clone({locale:r,numberingSystem:e,outputCalendar:n});return aa(this,{loc:i})}setLocale(r){return this.reconfigure({locale:r})}set(r){if(!this.isValid)return this;let e=Qu(r,NR),{minDaysInFirstWeek:n,startOfWeek:i}=NE(e,this.loc),o=!Oe(e.weekYear)||!Oe(e.weekNumber)||!Oe(e.weekday),s=!Oe(e.ordinal),a=!Oe(e.year),c=!Oe(e.month)||!Oe(e.day),l=a||c,p=e.weekYear||e.weekNumber;if((l||s)&&p)throw new Bn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&s)throw new Bn("Can't mix ordinal dates with month/day");let h;o?h=LE({...Od(this.c,n,i),...e},n,i):Oe(e.ordinal)?(h={...this.toObject(),...e},Oe(e.day)&&(h.day=Math.min(Xu(h.year,h.month),h.day))):h=RE({...Nb(this.c),...e});let[f,b]=qb(h,this.o,this.zone);return aa(this,{ts:f,o:b})}plus(r){if(!this.isValid)return this;let e=Ct.fromDurationLike(r);return aa(this,LR(this,e))}minus(r){if(!this.isValid)return this;let e=Ct.fromDurationLike(r).negate();return aa(this,LR(this,e))}startOf(r,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;let n={},i=Ct.normalizeUnit(r);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break;case"milliseconds":break}if(i==="weeks")if(e){let o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if(i==="quarters"){let o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(r,e){return this.isValid?this.plus({[r]:1}).startOf(r,e).minus(1):this}toFormat(r,e={}){return this.isValid?rr.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,r):eO}toLocaleString(r=$o,e={}){return this.isValid?rr.create(this.loc.clone(e),r).formatDateTime(this):eO}toLocaleParts(r={}){return this.isValid?rr.create(this.loc.clone(r),r).formatDateTimeParts(this):[]}toISO({format:r="extended",suppressSeconds:e=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;let s=r==="extended",a=nO(this,s);return a+="T",a+=RR(this,s,e,n,i,o),a}toISODate({format:r="extended"}={}){return this.isValid?nO(this,r==="extended"):null}toISOWeekDate(){return Db(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:r=!1,suppressSeconds:e=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(i?"T":"")+RR(this,s==="extended",e,r,n,o):null}toRFC2822(){return Db(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Db(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?nO(this,!0):null}toSQLTime({includeOffset:r=!0,includeZone:e=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(e||r)&&(n&&(i+=" "),e?i+="z":r&&(i+="ZZ")),Db(this,i,!0)}toSQL(r={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(r)}`:null}toString(){return this.isValid?this.toISO():eO}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(r={}){if(!this.isValid)return{};let e={...this.c};return r.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(r,e="milliseconds",n={}){if(!this.isValid||!r.isValid)return Ct.invalid("created by diffing an invalid DateTime");let i={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=QL(e).map(Ct.normalizeUnit),s=r.valueOf()>this.valueOf(),a=s?this:r,c=s?r:this,l=SR(a,c,o,i);return s?l.negate():l}diffNow(r="milliseconds",e={}){return this.diff(t.now(),r,e)}until(r){return this.isValid?Vi.fromDateTimes(this,r):this}hasSame(r,e,n){if(!this.isValid)return!1;let i=r.valueOf(),o=this.setZone(r.zone,{keepLocalTime:!0});return o.startOf(e,n)<=i&&i<=o.endOf(e,n)}equals(r){return this.isValid&&r.isValid&&this.valueOf()===r.valueOf()&&this.zone.equals(r.zone)&&this.loc.equals(r.loc)}toRelative(r={}){if(!this.isValid)return null;let e=r.base||t.fromObject({},{zone:this.zone}),n=r.padding?this<e?-r.padding:r.padding:0,i=["years","months","days","hours","minutes","seconds"],o=r.unit;return Array.isArray(r.unit)&&(i=r.unit,o=void 0),jR(e,this.plus(n),{...r,numeric:"always",units:i,unit:o})}toRelativeCalendar(r={}){return this.isValid?jR(r.base||t.fromObject({},{zone:this.zone}),this,{...r,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...r){if(!r.every(t.isDateTime))throw new Nt("min requires all arguments be DateTimes");return qE(r,e=>e.valueOf(),Math.min)}static max(...r){if(!r.every(t.isDateTime))throw new Nt("max requires all arguments be DateTimes");return qE(r,e=>e.valueOf(),Math.max)}static fromFormatExplain(r,e,n={}){let{locale:i=null,numberingSystem:o=null}=n,s=it.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return XE(s,r,e)}static fromStringExplain(r,e,n={}){return t.fromFormatExplain(r,e,n)}static buildFormatParser(r,e={}){let{locale:n=null,numberingSystem:i=null}=e,o=it.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return new kd(o,r)}static fromFormatParser(r,e,n={}){if(Oe(r)||Oe(e))throw new Nt("fromFormatParser requires an input string and a format parser");let{locale:i=null,numberingSystem:o=null}=n,s=it.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});if(!s.equals(e.locale))throw new Nt(`fromFormatParser called with a locale of ${s}, but the format parser was created for ${e.locale}`);let{result:a,zone:c,specificOffset:l,invalidReason:p}=e.explainFromTokens(r);return p?t.invalid(p):uc(a,c,n,`format ${e.format}`,r,l)}static get DATE_SHORT(){return $o}static get DATE_MED(){return Ql}static get DATE_MED_WITH_WEEKDAY(){return hE}static get DATE_FULL(){return ed}static get DATE_HUGE(){return td}static get TIME_SIMPLE(){return rd}static get TIME_WITH_SECONDS(){return nd}static get TIME_WITH_SHORT_OFFSET(){return id}static get TIME_WITH_LONG_OFFSET(){return od}static get TIME_24_SIMPLE(){return sd}static get TIME_24_WITH_SECONDS(){return ad}static get TIME_24_WITH_SHORT_OFFSET(){return ud}static get TIME_24_WITH_LONG_OFFSET(){return cd}static get DATETIME_SHORT(){return ld}static get DATETIME_SHORT_WITH_SECONDS(){return dd}static get DATETIME_MED(){return pd}static get DATETIME_MED_WITH_SECONDS(){return fd}static get DATETIME_MED_WITH_WEEKDAY(){return mE}static get DATETIME_FULL(){return hd}static get DATETIME_FULL_WITH_SECONDS(){return md}static get DATETIME_HUGE(){return vd}static get DATETIME_HUGE_WITH_SECONDS(){return bd}}});var $R=G(()=>{v();Go();Id();ZE();JE();ra();Ju();Vo();ME();Sb();Ho()});var zR={};Vt(zR,{CommentsCommentItem:()=>ua});var UR,kse,ua,VR=G(()=>{v();Re();Yr();$R();qt();Or();vn();qn();Rt();UR=$e(Ce),kse=[UR.styles,rE],ua=class extends UR{constructor(){super();this.unselectAnnotationEsc=e=>{e.key==="Escape"&&(this.isSelected=!1)};this.unselectAnnotation=()=>{this.isSelected=!1};this.selectAnnotation=({detail:e})=>{let{uuid:n}=e;if(this.isSelected){this.isSelected=!1;return}this.isSelected=n===this.annotationId};this.updateComment=({detail:e})=>{let{text:n,mentions:i}=e;this.text=n,this.closeEditMode(),this.emitEvent("update-comment",{uuid:this.uuid,mentions:i,text:n})};this.resolveAnnotation=e=>{e.stopPropagation(),this.emitEvent("resolve-annotation",{type:"resolve-annotation",resolved:!this.resolved},{composed:!1,bubbles:!1})};this.confirmDelete=()=>{if(this.deleteCommentModalOpen=!1,this.primaryComment)return this.emitEvent("delete-annotation",{uuid:this.annotationId});this.emitEvent("delete-comment",{annotationId:this.annotationId,uuid:this.uuid})};this.closeEditMode=()=>{this.mode="readonly",this.emitEvent("edit-comment",{editing:!1})};this.resolved=!1}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{pt.call(this,["comments"])}),document.body.addEventListener("select-annotation",this.selectAnnotation)}connectedCallback(){super.connectedCallback(),window.document.body.addEventListener("select-annotation",this.selectAnnotation),window.document.body.addEventListener("keyup",this.unselectAnnotationEsc),window.document.body.addEventListener("unselect-annotation",this.unselectAnnotation)}disconnectedCallback(){super.disconnectedCallback(),window.document.body.removeEventListener("select-annotation",this.selectAnnotation),window.document.body.removeEventListener("keyup",this.unselectAnnotationEsc),window.document.body.removeEventListener("unselect-annotation",this.unselectAnnotation)}getAvatar(){var e;return this.avatar?K` <div class=${this.getClasses("avatar-container")}>
        <img src=${this.avatar} class=${this.getClasses("avatar-image")} />
      </div>`:K`<div class=${this.getClasses("avatar-container")}>
      <p class="text text-bold ${this.getClasses("avatar-letter")}">
        ${((e=this.username[0])==null?void 0:e.toUpperCase())||"A"}
      </p>
    </div>`}getClasses(e){return`comments__comment-item__${e} ${this.class}__${e}`}render(){let e=this.annotationFilter==="All comments"?"resolve":"undo",n=f=>rt.fromISO(f).toFormat("yyyy-dd-MM"),i=this.resolvable?"comments__comment-item__resolve":"hidden",o=[{label:"EDIT"},{label:"DELETE"}],s=({detail:{label:f}})=>{f==="EDIT"&&(this.mode="editable",this.emitEvent("edit-comment",{editing:!0})),f==="DELETE"&&(this.deleteCommentModalOpen=!0)},a=()=>{let f={"comments__comment-item--editable":!0,"hide-edit-input":this.mode!=="editable"};return K`
        <superviz-comments-comment-input
          class="${Ie(f)}"
          editable
          mode=${this.mode}
          @click=${b=>b.stopPropagation()}
          text=${this.text}
          eventType="update-comment"
          participantsList=${JSON.stringify(this.participantsList)}
          mentions=${JSON.stringify(this.mentions)}
          @update-comment=${this.updateComment}
          @close-edit-mode=${this.closeEditMode}
        ></superviz-comments-comment-input>
      `},c=()=>{let f={text:!0,"text-big":!0,"sv-gray-700":!0,"annotation-content":!0,[this.getClasses("content")]:!0,editing:this.mode==="editable","line-clamp":!this.isSelected&&this.text.length>120};return K` <p id="comment-text" class="${Ie(f)}">${this.text}</p> `},l=()=>{this.deleteCommentModalOpen=!1},p={[this.class]:!0,"comments__comment-item":!0,reply:!this.primaryComment},h={"comments__comment-item__content__body":!0,"editing-annotation":this.mode==="editable"};return K`
      <div class=${Ie(p)}>
        <div class=${this.getClasses("header")}>
          <div class=${this.getClasses("metadata")}>
            ${this.getAvatar()}
            <span class="text text-big text-bold sv-gray-700 ${this.getClasses("username")}">
              ${this.username}
            </span>
            <span class="text text-small sv-gray-500 ${this.getClasses("date")}">
              ${n(this.createdAt)}
            </span>
          </div>
          <div class=${this.getClasses("actions")}>
            <button
              @click=${this.resolveAnnotation}
              class="${this.getClasses("icons")} ${this.getClasses("resolve-icon")} icon-button icon-button--clickable icon-button--xsmall ${i}"
            >
              <!-- TODO: Add undo icon in sm format -->
              <superviz-icon name=${e} size="sm"></superviz-icon>
            </button>
            <superviz-dropdown
              options=${JSON.stringify(o)}
              position="bottom-left"
              @selected=${s}
              @click=${f=>{f.stopPropagation()}}
              classesPrefix="comments__dropdown"
              parentComponent="comments"
            >
              <button
                slot="dropdown"
                class="${this.getClasses("icons")} ${this.getClasses("options-icon")} icon-button icon-button--clickable icon-button--small"
              >
                <superviz-icon name="more" size="sm"></superviz-icon>
              </button>
            </superviz-dropdown>
          </div>
        </div>

        <div class="comments__comment-item__content">
          <div class="${Ie(h)}">${a()} ${c()}</div>
        </div>
      </div>
      <superviz-comments-delete-comments-modal
        ?open=${this.deleteCommentModalOpen}
        @close=${l}
        @confirm=${this.confirmDelete}
      >
      </superviz-comments-delete-comments-modal>
    `}};ua.styles=kse,ua.properties={uuid:{type:String},annotationId:{type:String},avatar:{type:String},username:{type:String},text:{type:String},resolved:{type:Boolean},resolvable:{type:Boolean},createdAt:{type:String},mode:{type:String},deleteCommentModalOpen:{type:Boolean},primaryComment:{type:Boolean},isSelected:{type:Boolean},annotationFilter:{type:String},participantsList:{type:Object},mentions:{type:Array},class:{type:String}},ua=Fe([qe("superviz-comments-comment-item")],ua)});var $b,HR=G(()=>{v();$b=class{constructor(){this.keys=["@"];this.input=null,this.mentions=[]}setInput(r){this.event=r,this.input=r.target,this.key=r.data}getMentions(r,e=[]){return e.length>0&&(this.mentions=e),this.mentions.filter(n=>((o,s)=>s.includes(o.name))(n,r))}setMentions(r){this.mentions=r}addMention(r){this.mentions.some(n=>n.userId===r.userId)||this.mentions.push(r)}clearMentions(){this.mentions=[]}getSelectionPosition(){let r=this.getSelectionStart(),e=this.getLastKeyBeforeCaret(r);return{start:((e==null?void 0:e.keyIndex)??-1)+1,end:r}}getSelectionStart(){var r;return(r=this.input)==null?void 0:r.selectionStart}setCaretPosition(r){this.input.selectionEnd=r}getValue(){var r;return(r=this.input)==null?void 0:r.value}setValue(r){this.input.value=r}getLastKeyBeforeCaret(r){let[e]=this.keys.map(n=>({key:n,keyIndex:this.getValue().lastIndexOf(n,r-1)})).sort((n,i)=>i.keyIndex-n.keyIndex);return e}searchMention(r,e){return e!==-1?this.getValue().substring(e+1,r):null}isDeletion(){return this.event.inputType==="deleteContentBackward"||this.event.inputType==="deleteContentForward"||this.event.inputType==="deleteWordBackward"}insertMention(r,e,n){if(this.isDeletion())return;let{id:i,name:o}=n,s=`${this.getValue().slice(0,r)+o} ${this.getValue().slice(e,this.getValue().length)}`;this.setValue(s),this.input.focus(),this.addMention({userId:i,name:o}),this.setCaretPosition(r+o.length+1)}}});var iO,Lse,Rse,GR,ZR,JR=G(()=>{v();iO={SHOW:"show",HIDE:"hide"},Lse={action:iO.HIDE,mentions:[],findDigitParticipant:!1},Rse=(t,r,e)=>{var o,s;let n=[];if(n=e==null?void 0:e.filter(a=>a==null?void 0:a.email),t.length>0&&(n=n.filter(a=>(a==null?void 0:a.name.toLowerCase().search(t.toLowerCase()))!==-1),t===((s=(o=n[0])==null?void 0:o.name)==null?void 0:s.toLowerCase()))){let a=GR(n,r);return{action:iO.HIDE,mentions:a,findDigitParticipant:!0}}if(!((n==null?void 0:n.length)>0))return Lse;let i=GR(n,r);return{action:iO.SHOW,mentions:i,findDigitParticipant:!1}},GR=(t,r)=>t.map(e=>({id:e.id,name:e.name,avatar:e.avatar,email:e.email,position:r})),ZR={matchParticipant:(t,r,e)=>Rse(t,r,e)}});var KR={};Vt(KR,{CommentsCommentInput:()=>ca});var YR,Nse,ca,XR=G(()=>{v();Re();Yr();qt();Or();vn();HR();JR();qn();Rt();YR=$e(Ce),Nse=[YR.styles,iE],ca=class extends YR{constructor(){super();this.pinCoordinates=null;this.autoCompleteHandler=new $b;this.addAtSymbolInCaretPosition=()=>{let e=this.shadowRoot.querySelector(".comments__input__textarea"),n=new InputEvent("input",{bubbles:!0,cancelable:!0});Object.defineProperty(n,"data",{value:"@",writable:!0}),e.dispatchEvent(n)};this.getCommentInput=()=>this.shadowRoot.querySelector(".comments__input__textarea");this.userMentionedByTextInput=e=>{this.mentionList=[];let n={detail:{...e[0]}};this.insertMention(n)};this.buttonAtSymbol=()=>{let e=this.autoCompleteHandler.getSelectionStart(),n=this.autoCompleteHandler.getValue();this.autoCompleteHandler.setValue(`${n.slice(0,e)}@${n.slice(e,n.length)}`),e+=1;let i=this.autoCompleteHandler.getLastKeyBeforeCaret(e),o=(i==null?void 0:i.keyIndex)??-1,s=this.autoCompleteHandler.searchMention(e,o),a={start:o+1,end:e};return{searchText:s,position:a}};this.focusInput=()=>{this.getCommentInput().focus()};this.handleInput=e=>{var b;((b=this.commentInput)==null?void 0:b.value.length)===0?this.btnActive=!1:this.btnActive=!0,this.autoCompleteHandler.setInput(e);let n=this.autoCompleteHandler.getSelectionStart(),i=this.autoCompleteHandler.getLastKeyBeforeCaret(n),o=(i==null?void 0:i.keyIndex)??-1;if(n===-1)return;let s=this.autoCompleteHandler.searchMention(n,o),a=this.autoCompleteHandler.getSelectionPosition(),c=e.data==="@"&&o===-1,l=e.data==="@"&&n-1!==o;if(c||l){let g=this.buttonAtSymbol();s=g.searchText,a=g.position}if(s===null){this.mentionList=[];return}let{action:p,mentions:h,findDigitParticipant:f}=ZR.matchParticipant(s,a,this.participantsList);if(f){this.userMentionedByTextInput(h);return}p==="show"&&(this.mentionList=h),p==="hide"&&(this.mentionList=[])};this.insertMention=e=>{let{id:n,name:i,avatar:o,email:s,position:a}=e.detail;this.autoCompleteHandler.insertMention(a.start,a.end,{id:n,name:i,avatar:o,email:s}),this.mentionList=[],this.updateHeight()};this.sendEnter=e=>{var s;if(e.key!=="Escape"&&e.stopImmediatePropagation(),e.key==="Enter"&&!e.shiftKey&&e.preventDefault(),e.key!=="Enter"||e.shiftKey||((s=this.mentionList)==null?void 0:s.length)>0)return;let n=this.commentInput,i=n.value.trim();if(!i)return;let o=this.autoCompleteHandler.getMentions(i);this.emitEvent(this.eventType,{text:i,mentions:o,position:this.pinCoordinates},{composed:!1,bubbles:!1}),n.value="",this.sendBtn.disabled=!0,this.updateHeight()};this.closeEditMode=()=>{this.emitEvent("close-edit-mode",{},{composed:!1,bubbles:!1}),this.hideInput=!0};this.onTextareaFocus=()=>{let e=this.optionsContainer,n=this.horizontalRule,i=this.commentInput;e.classList.add("active-textarea"),n.classList.add("comments__input__divisor"),i.classList.add("active-textarea")};this.onTextareaLoseFocus=e=>{var c,l;let n=(l=(c=e.explicitOriginalTarget)==null?void 0:c.parentNode)==null?void 0:l.host,i=this.mentionButton;if(i===e.explicitOriginalTarget||i===e.relatedTarget)return;if(this.closeButton.contains(n)||this.closeButton.contains(e.explicitOriginalTarget)||this.closeButton.contains(e.relatedTarget)){this.cancelComment();return}if(!this.shadowRoot.contains(e.target))return;let o=this.optionsContainer,s=this.horizontalRule,a=this.commentInput;a.value.length||(o.classList.remove("active-textarea"),s.classList.remove("comments__input__divisor"),a.classList.remove("active-textarea"))};this.cancelComment=()=>{document.body.dispatchEvent(new KeyboardEvent("keyup",{key:"Escape"}))};this.commentInputEditableOptions=()=>{var e;if(this.editable)return K`
      <button
        id="close"
        @click=${this.closeEditMode}
        class="icon-button icon-button--medium icon-button--clickable comments__input__button comments__input__close-button"
      >
        <superviz-icon name="close" size="sm"></superviz-icon>
      </button>
      <button
        id="confirm"
        class="icon-button icon-button--medium icon-button--clickable icon-button--no-hover comments__input__button comments__input__send-button"
        disabled
        @click=${this.send}
      >
        <superviz-icon
          color=${(e=this.sendBtn)!=null&&e.disabled||!this.sendBtn?"black":"white"}
          name="check"
          size="sm"
        ></superviz-icon>
      </button>
    `};this.commentInputOptions=()=>{var e;if(!this.editable)return K`
      <button
        class="icon-button icon-button--medium icon-button--clickable comments__input__button comments__input__close-button align-send-btn"
        @click=${this.cancelComment}
      >
        <superviz-icon name="close" size="sm"></superviz-icon>
      </button>
      <button
        class="comments__input__button comments__input__send-button align-send-btn"
        disabled
        @click=${this.send}
      >
        <superviz-icon
          color=${(e=this.sendBtn)!=null&&e.disabled||!this.sendBtn?"black":"white"}
          name="line-arrow-right"
          size="sm"
        ></superviz-icon>
      </button>
    `};this.btnActive=!1,this.text="",this.mentionList=[],this.mentions=[],this.mode="readonly"}get commentInput(){return this.shadowRoot.querySelector(".comments__input__textarea")}get mentionButton(){return this.shadowRoot.querySelector(".mention-button")}get sendBtn(){return this.shadowRoot.querySelector(".comments__input__send-button")}get optionsContainer(){return this.shadowRoot.querySelector(".comments__input__options")}get horizontalRule(){return this.shadowRoot.querySelector(".sv-hr")}get closeButton(){return this.shadowRoot.querySelector(".comments__input__close-button")}connectedCallback(){super.connectedCallback(),["create-annotation","create-comment"].includes(this.eventType)&&this.addEventListener("keyup",this.sendEnter)}disconnectedCallback(){if(super.disconnectedCallback(),!["create-annotation","create-comment"].includes(this.eventType))return;let e=this.getCommentInput();this.removeEventListener("keyup",this.sendEnter),e.removeEventListener("keydown",this.sendEnter),e.removeEventListener("click",this.focusInput),e.addEventListener("input",this.handleInput)}firstUpdated(e){this.updateComplete.then(()=>{this.emitEvent("comment-input-ready",{},{composed:!1,bubbles:!1});let n=this.getCommentInput();if(n&&(n.addEventListener("input",this.handleInput),n.addEventListener("click",this.focusInput),n.addEventListener("keydown",this.sendEnter)),this.text.length>0){let i=this.participantsList.map(({id:o,name:s})=>({userId:o,name:s}));this.mentions=this.autoCompleteHandler.getMentions(this.text,i),this.autoCompleteHandler.setMentions(this.mentions)}this.editable&&this.focusInput(),pt.call(this,["comments"])})}updated(e){if(e.has("mode")&&this.mode==="editable"&&(this.focusInput(),this.updateHeight(),this.sendBtn.disabled=!1,this.btnActive=!0),e.has("text")&&this.text.length>0){let n=this.commentInput;n.value=this.text,this.updateHeight()}e.has("btnActive")&&(this.sendBtn.disabled=!this.btnActive)}updateHeight(){let e=this.commentInput;e.style.height="40px";let n=e.scrollHeight+14;n===47&&(n=40),e.style.height=`${n}px`,this.sendBtn.disabled=!(e.value.length>0)}send(e){var s;if(e.preventDefault(),((s=this.mentionList)==null?void 0:s.length)>0)return;let n=this.commentInput,i=n.value,o=this.autoCompleteHandler.getMentions(i);this.emitEvent(this.eventType,{text:i,mentions:o,position:this.pinCoordinates},{composed:!1,bubbles:!1}),n.value="",this.sendBtn.disabled=!0,this.updateHeight()}render(){let e={comments__input__textarea:!0,"fixed-width":this.eventType==="create-annotation"},n={comments__input:!0,"comments__input--editable":this.editable,"hide-input":this.hideInput};return K`
      <div class="${Ie(n)}">
        <textarea
          id="comments__input__textarea"
          class=${Ie(e)}
          placeholder=${this.placeholder??"Add comment..."}
          @input=${this.updateHeight}
          @focus=${this.onTextareaFocus}
          @blur=${this.onTextareaLoseFocus}
          spellcheck="false"
        ></textarea>
        <superviz-comments-mention-list
          .participants=${this.mentionList}
          @participant-selected=${this.insertMention}
        ></superviz-comments-mention-list>
        <div class="sv-hr"></div>
        <div class="comments__input__options">
          <button
            @click=${this.addAtSymbolInCaretPosition}
            class="mention-button icon-button icon-button--medium icon-button--clickable"
          >
            <superviz-icon name="mention" size="sm"></superviz-icon>
          </button>
          <div class="comment-input-options">
            ${this.commentInputOptions()} ${this.commentInputEditableOptions()}
          </div>
        </div>
      </div>
    `}};ca.styles=Nse,ca.properties={eventType:{type:String},text:{type:String},btnActive:{type:Boolean},editable:{type:Boolean},placeholder:{type:String},mentions:{type:Array},mentionList:{type:Object},participantsList:{type:Object},hideInput:{type:Boolean},mode:{type:String}},ca=Fe([qe("superviz-comments-comment-input")],ca)});var eN={};Vt(eN,{CommentsAnnotationPin:()=>la});var QR,Fse,la,tN=G(()=>{v();Re();Yr();$t();qt();Or();vn();qn();Rt();QR=$e(Ce),Fse=[QR.styles,aE],la=class extends QR{constructor(){super();this.focusInput=()=>{var e,n;this.inputElement||(this.inputElement=(n=(e=this.shadowRoot)==null?void 0:e.querySelector("superviz-comments-comment-input"))==null?void 0:n.shadowRoot.querySelector("textarea")),this.inputElement.focus()};this.setInputSide=()=>{let o=this.commentsSide==="right"?320:0,s=this.annotationSides.right+293,a=this.containerSides.right-o;if(s<a){this.horizontalSide="right";return}o=this.commentsSide==="left"?320:0;let c=this.annotationSides.left-293,l=this.containerSides.left+o;if(c>l){this.horizontalSide="left";return}this.horizontalSide=l-c>s-a?"right":"left"};this.createComment=({detail:e})=>{this.annotationSent=!0,document.body.dispatchEvent(new CustomEvent("create-annotation",{detail:{...e,position:{...this.originalPosition,type:"canvas"}}})),this.annotation=null};this.cancelTemporaryAnnotation=()=>{this.annotation=null};this.cancelTemporaryAnnotationEsc=e=>{this.annotation=null};this.avatar=()=>{if(this.type==="add"&&!this.showInput)return K`<div
        class="comments__annotation-pin__avatar comments__annotation-pin__avatar--add"
      >
        <superviz-icon name="add"></superviz-icon>
      </div>`;let e=this.userAvatar;return e?K`<div class="comments__annotation-pin__avatar">
        <img src=${e} />
      </div>`:K`<div class="comments__annotation-pin__avatar">
      <p class="text text-bold text-big">${this.userInitial}</p>
    </div>`};this.input=()=>{if(!(!this.showInput||this.annotationSent))return K`<div class="floating-input">
      <superviz-comments-comment-input
        @create-annotation=${this.createComment}
        eventType="create-annotation"
        @comment-input-ready=${this.focusInput}
        participantsList=${JSON.stringify(this.participantsList)}
      >
      </superviz-comments-comment-input>
    </div>`};this.position={x:0,y:0},setTimeout(()=>{this.firstLoad=!1},800)}updated(e){super.updated(e),!(!e.has("movedPosition")||!this.annotationSides)&&(this.annotationSides=this.pinAnnotation.getBoundingClientRect(),this.setInputSide(),this.inputElement&&this.focusInput())}firstUpdated(e){var n;super.firstUpdated(e),pt.call(this,["comments"]),this.showInput&&(this.originalPosition={...this.position},this.pinAnnotation=(n=this.shadowRoot)==null?void 0:n.querySelector(".comments__annotation-pin"),this.annotationSides=this.pinAnnotation.getBoundingClientRect(),this.setInputSide())}connectedCallback(){if(super.connectedCallback(),this.type!=="add")return;let{localParticipant:e}=this.useStore("global-store");e.subscribe(n=>{var i;this.localAvatar=(i=n==null?void 0:n.avatar)==null?void 0:i.imageUrl,this.localName=n==null?void 0:n.name}),window.document.body.addEventListener("close-temporary-annotation",this.cancelTemporaryAnnotation),window.document.body.addEventListener("keyup",n=>{n.key==="Escape"&&this.cancelTemporaryAnnotationEsc(n)})}disconnectedCallback(){super.disconnectedCallback(),this.type==="add"&&(window.document.body.removeEventListener("close-temporary-annotation",this.cancelTemporaryAnnotation),window.document.body.removeEventListener("keyup",e=>{e.key==="Escape"&&this.cancelTemporaryAnnotationEsc(e)}))}get userAvatar(){var e,n,i,o;return((o=(i=(n=(e=this.annotation)==null?void 0:e.comments)==null?void 0:n.at(0))==null?void 0:i.participant)==null?void 0:o.avatar)||this.localAvatar}get userInitial(){var n,i,o,s;return((((s=(o=(i=(n=this.annotation)==null?void 0:n.comments)==null?void 0:i.at(0))==null?void 0:o.participant)==null?void 0:s.name)??this.localName)||"Anonymous")[0].toUpperCase()}emitClick(){var e;document.body.dispatchEvent(new CustomEvent("select-annotation",{detail:{uuid:(e=this.annotation)==null?void 0:e.uuid}}))}render(){let e={"comments__annotation-pin":!0,preload:this.firstLoad===void 0,"comments__annotation-pin--active":this.active,"comments__cursor-pointer":this.type==="add"&&!this.showInput,"comments__annotation-pin--add":this.type==="add"&&this.showInput,[this.horizontalSide]:!0},n={"comments__annotation-pin-wrapper":!0,"comments__annotation-pin-wrapper--new":this.newPin},i=this.keepPositionRatio?"%":"px",o=`top: ${this.position.y}${i}; left: ${this.position.x}${i};`;return this.type==="add"?K`
        <div class=${Ie(e)} style=${o}>${this.avatar()} ${this.input()}</div>
      `:K`<div class=${Ie(n)} style=${o}>
      <div @click=${this.emitClick} class=${Ie(e)}>${this.avatar()}</div>
    </div> `}};la.styles=Fse,la.properties={type:{type:String},annotation:{type:Object},position:{type:Object},active:{type:Boolean},showInput:{type:Boolean},containerSides:{type:Object},horizontalSide:{type:String},commentsSide:{type:String},movedPosition:{type:String},pinAnnotation:{type:Object},localAvatar:{type:String},annotationSent:{type:Boolean},localName:{type:String},keepPositionRatio:{type:Boolean},participantsList:{type:Object},firstLoad:{type:Boolean},newPin:{type:Boolean}},la=Fe([qe("superviz-comments-annotation-pin")],la)});var nN={};Vt(nN,{CommentsAnnotationItem:()=>da});var rN,jse,da,iN=G(()=>{v();Re();Yr();qt();Or();vn();qn();Rt();rN=$e(Ce),jse=[rN.styles,oE],da=class extends rN{constructor(){super(...arguments);this.selectAnnotation=e=>{let{uuid:n}=this.annotation;document.body.dispatchEvent(new CustomEvent("select-annotation",{detail:{uuid:n}}))};this.resolveAnnotation=({detail:e})=>{let{uuid:n}=this.annotation,{resolved:i,type:o}=e,s=o==="resolve-annotation"&&this.annotationFilter==="All comments";this.emitEvent("resolve-annotation",{uuid:n,resolved:i}),s&&(this.shouldShowUndoResolved=!0)};this.hideUndoResolved=()=>{this.shouldShowUndoResolved=!1};this.generateExpandedCommentsTemplate=(e,n)=>{var i,o,s,a;return n===0?K``:K`
      <superviz-comments-comment-item
        uuid=${e.uuid}
        avatar=${(a=(s=(o=(i=this.annotation)==null?void 0:i.comments)==null?void 0:o.at(n))==null?void 0:s.participant)==null?void 0:a.avatar}
        username=${e.participant.name||"Anonymous"}
        text=${e.text}
        createdAt=${e.createdAt}
        annotationId=${this.annotation.uuid}
        participantsList=${JSON.stringify(this.participantsList)}
        mentions=${JSON.stringify(e.mentions)}
        class="comments__replies"
      ></superviz-comments-comment-item>
    `};this.updateEditMode=({detail:{editing:e}})=>{this.hideInput=e}}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{pt.call(this,["comments"])})}get filterIsAll(){return this.annotationFilter==="All comments"}get filterIsResolved(){return this.annotationFilter==="Resolved comments"}get shouldHideAnnotation(){return{hidden:this.resolved&&this.filterIsAll||!this.resolved&&this.filterIsResolved}}get replies(){return[...this.annotation.comments].splice(1).length}get repliesSize(){return this.replies>=5?5:this.replies}get replyText(){return this.replies!==1?"replies":"reply"}get isSelected(){return this.selected===this.annotation.uuid}get annotationClasses(){return{comments__thread:!0,"comments__thread--selected":this.isSelected,"extra-space-bottom":this.replies}}get mainAnnotationClasses(){return{"comments__main-annotation":!0,"comments__main-annotation--selected":this.isSelected}}get hrClasses(){return{"sv-hr":!0,hidden:this.isLastAnnotation}}get avatarCommentsClasses(){return{"avatars-comments":!0,"comment-avatar--expand":!this.expandComments&&this.replies>1,invisible:!(!this.expandComments&&this.replies>=1)}}get containerWrapperClasses(){return{"comments-container-wrapper":!0,show:this.isSelected&&this.expandComments}}get commentsClasses(){return{"comments-container":!0,"comment-item--expand":this.isSelected&&this.expandComments,show:this.isSelected&&this.expandComments}}updated(e){if(e.has("selected")){let n=this.selected===this.annotation.uuid;this.expandComments=n}}createComment({detail:e}){let{text:n,mentions:i}=e;this.emitEvent("create-comment",{uuid:this.annotation.uuid,mentions:i,text:n})}generateAvatarCommentsTemplate(){var n,i,o,s,a,c;let e=[];for(let l=1;l<=this.repliesSize;l++)(i=(n=this.annotation.comments[l])==null?void 0:n.participant)!=null&&i.avatar?e.push(K`
          <div class="avatar">
            <img src=${(s=(o=this.annotation.comments[l])==null?void 0:o.participant)==null?void 0:s.avatar} />
          </div>
        `):e.push(K`
          <div class="avatar">
            <p class="text text-bold">
              ${((c=(a=this.annotation.comments[l])==null?void 0:a.participant.name[0])==null?void 0:c.toUpperCase())||"A"}
            </p>
          </div>
        `);return K`
      ${e}
      <div class="text text-big sv-gray-500">${this.replies} ${this.replyText}</div>
    `}annotationResolvedTemplate(){return this.shouldShowUndoResolved?K`
      <superviz-comments-annotation-resolved
        @undo-resolve=${this.resolveAnnotation}
        @hide=${this.hideUndoResolved}
        class=${Ie({hidden:this.filterIsResolved,"comments__resolved-annotation-message":!0})}
      >
      </superviz-comments-annotation-resolved>
    `:K``}get inputClasses(){return{"hide-input":this.hideInput}}get wrapperClasses(){return{wrapper:!0,"show-wrapper":!this.resolved&&this.filterIsAll||this.resolved&&this.filterIsResolved}}render(){var n,i,o,s,a,c,l,p,h,f,b;let e={"comments__complete-annotation":!0,"comments__hide-complete-annotation":this.shouldShowUndoResolved};return K`
      <div class="${Ie(e)}">
        ${this.annotationResolvedTemplate()}

        <div class=${Ie(this.wrapperClasses)}>
          <div class=${Ie(this.shouldHideAnnotation)}>
            <div class=${Ie(this.annotationClasses)} @click=${this.selectAnnotation}>
              <div class=${Ie(this.mainAnnotationClasses)}>
                <superviz-comments-comment-item
                  uuid=${(n=this.annotation.comments)==null?void 0:n[0].uuid}
                  annotationId=${this.annotation.uuid}
                  username=${((o=(i=this.annotation.comments)==null?void 0:i[0].participant)==null?void 0:o.name)||"Anonymous"}
                  text=${(s=this.annotation.comments)==null?void 0:s[0].text}
                  createdAt=${(a=this.annotation.comments)==null?void 0:a[0].createdAt}
                  participantsList=${JSON.stringify(this.participantsList)}
                  primaryComment
                  avatar=${(h=(p=(l=(c=this.annotation)==null?void 0:c.comments)==null?void 0:l.at(0))==null?void 0:p.participant)==null?void 0:h.avatar}
                  resolvable
                  ?resolved=${this.resolved}
                  annotationFilter=${this.annotationFilter}
                  @resolve-annotation=${this.resolveAnnotation}
                  mentions=${JSON.stringify((f=this.annotation.comments)==null?void 0:f[0].mentions)}
                  class="comments__annotation"
                  @edit-comment=${this.updateEditMode}
                ></superviz-comments-comment-item>
              </div>

              <div class=${Ie(this.containerWrapperClasses)}>
                <div class=${Ie(this.commentsClasses)}>
                  ${(b=this.annotation.comments)==null?void 0:b.map(this.generateExpandedCommentsTemplate)}
                  <span class=${Ie(this.inputClasses)}>
                    <superviz-comments-comment-input
                      @create-comment=${this.createComment}
                      eventType="create-comment"
                      @click=${g=>g.stopPropagation()}
                      placeholder="Reply"
                      participantsList=${JSON.stringify(this.participantsList)}
                    ></superviz-comments-comment-input>
                  </span>
                </div>
              </div>
              <div class=${Ie(this.avatarCommentsClasses)}>
                <div class="avatar-container">${this.generateAvatarCommentsTemplate()}</div>
              </div>
            </div>
            <div class=${Ie(this.hrClasses)}></div>
          </div>
        </div>
      </div>
    `}};da.styles=jse,da.properties={annotation:{type:Object},expandComments:{type:Boolean},selected:{type:String,reflect:!0},resolved:{type:Boolean},shouldShowUndoResolved:{type:Boolean},isLastAnnotation:{type:Boolean},annotationFilter:{type:String},participantsList:{type:Object},hideInput:{type:Boolean}},da=Fe([qe("superviz-comments-annotation-item")],da)});var sN={};Vt(sN,{DeleteCommentModal:()=>pa});var oN,Dse,pa,aN=G(()=>{v();Re();qt();Rt();oN=$e(Ce),Dse=[oN.styles],pa=class extends oN{constructor(){super(...arguments);this.emitEventOpenModal=()=>{window.document.body.dispatchEvent(new CustomEvent("superviz-modal--open",{detail:{title:"DELETE COMMENT",body:K`<span class="text text-big sv-gray-600"
            >Are you sure you want to delete this comment? <br />
            This action cannot be undone</span
          >`,confirmLabel:"DELETE",confirm:!0,cancel:!0},bubbles:!0,composed:!0}))};this.toggle=()=>{this.open=!this.open}}firstUpdated(){window.document.body.addEventListener("superviz-modal--close",()=>{this.open&&this.emitEvent("close",{},{bubbles:!1,composed:!1})}),window.document.body.addEventListener("superviz-modal--confirm",()=>{this.open&&(this.emitEvent("confirm",{},{bubbles:!1,composed:!1}),this.emitEventCloseModal())})}updated(e){e.has("open")&&(this.open&&setTimeout(()=>this.emitEventOpenModal()),this.open||setTimeout(()=>this.emitEventCloseModal()))}emitEventCloseModal(){this.open&&(window.document.body.dispatchEvent(new CustomEvent("superviz-modal--close",{detail:{open:!0},bubbles:!0,composed:!0})),this.emitEvent("close",{},{bubbles:!1,composed:!1}))}render(){let e=()=>{if(this.useSlot)return K`<slot name="modal-handler" @click=${this.toggle}></slot>`},n=()=>{if(this.open)return K` <superviz-modal></superviz-modal> `};return K` ${e()} ${n()} `}};pa.styles=Dse,pa.properties={open:{type:Boolean},useSlot:{type:Boolean}},pa=Fe([qe("superviz-comments-delete-comments-modal")],pa)});var cN={};Vt(cN,{CommentsAnnotationResolved:()=>fa});var uN,qse,Bse,fa,lN=G(()=>{v();Re();qt();Or();vn();Rt();uN=$e(Ce),qse=[uN.styles,sE],Bse=10*1e3,fa=class extends uN{constructor(){super();this.setTimer=()=>{clearTimeout(this.timeout),this.isCanceled=!1,this.timeout=setTimeout(()=>{this.isCanceled||(this.timeToHide=0,this.isCanceled=!1,this.hide())},this.timeToHide)};this.timeToHide=Bse,this.isCanceled=!1}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{pt.call(this,["comments"]),this.setTimer()})}hide(){this.emitEvent("hide",{},{bubbles:!1,composed:!1})}undone(){this.isCanceled=!0,this.hide(),this.emitEvent("undo-resolve",{type:"undo-resolve",resolved:!1},{bubbles:!1,composed:!1}),clearTimeout(this.timeout)}render(){return this.timeToHide===0?K``:this.isCanceled?K``:K`
      <div class="comments__annotation-resolved">
        <span class="text text-big sv-gray-700 comments__annotation-resolved__text"
          >You resolved this comment</span
        >
        <button
          id="undone"
          @click=${this.undone}
          class="icon-button icon-button--clickable icon-button--medium comments__annotation-resolved__unresolve_button"
        >
          <superviz-icon name="undo" size="md"></superviz-icon>
        </button>
      </div>
    `}};fa.styles=qse,fa.properties={timeToHide:{type:Number},isCanceled:{type:Boolean}},fa=Fe([qe("superviz-comments-annotation-resolved")],fa)});var pN={};Vt(pN,{CommentsAnnotationFilter:()=>ha});var dN,Wse,Rd,ha,fN=G(()=>{v();Re();Yr();qt();Or();vn();qn();Rt();dN=$e(Ce),Wse=[dN.styles,uE],Rd=[{label:"All comments"},{label:"Resolved comments"}],ha=class extends dN{constructor(){super();this.selectClick=()=>{this.caret=this.caret==="down"?"up":"down"};this.dropdownOptionsHandler=({detail:e})=>{this.emitEvent("select",{filter:e}),this.selectClick()};this.caret="down"}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{pt.call(this,["comments"])})}render(){let e=this.filter==="All comments"?Rd[0].label:Rd[1].label;Rd[0].active=this.filter==="All comments",Rd[1].active=this.filter==="Resolved comments";let n={text:!0,"text-bold":!0,"select-content":!0,"comments__filter__selected-label":!0,"sv-gray-500":this.caret==="down","sv-gray-700":this.caret==="up"};return K`
      <div class="comments__filter-container">
        <div class="comments__filter">
          <superviz-dropdown
            options=${JSON.stringify(Rd)}
            position="bottom-left"
            right-offset="100px"
            @click=${this.selectClick}
            @selected=${this.dropdownOptionsHandler}
            @close=${this.selectClick}
            classesPrefix="comments__dropdown"
            parentComponent="comments"
          >
            <div class="comments__filter__toggle-button" slot="dropdown">
              <span class=${Ie(n)}>${e}</span>
              <div class="comments__filter__icon">
                <superviz-icon name=${this.caret} size="xs"></superviz-icon>
              </div>
            </div>
          </superviz-dropdown>
        </div>
      </div>
    `}};ha.styles=Wse,ha.properties={filter:{type:String},caret:{type:String}},ha=Fe([qe("superviz-comments-annotation-filter")],ha)});var mN={};Vt(mN,{CommentsFloatButton:()=>ma});var hN,$se,ma,vN=G(()=>{v();Re();Yr();qt();Or();vn();Rt();hN=$e(Ce),$se=[hN.styles,cE],ma=class extends hN{constructor(){super();this.onTogglePinActive=({detail:{isActive:e}})=>{this.isActive=e};this.isHidden=!0,this.positionStyles="top: 20px; left: 20px;",this.shouldHide=!1,this.commentsPosition="left"}firstUpdated(e){super.firstUpdated(e),this.updateComplete.then(()=>{pt.call(this,["comments"])}),this.mouseHovering=!1;let n=this.shadowRoot.querySelector(".comments__floating-button");n.addEventListener("mouseenter",()=>{setTimeout(()=>n.classList.add("comments-floating-button-hovered"),300),this.mouseHovering=!0}),n.addEventListener("mouseleave",()=>{n.classList.remove("comments-floating-button-hovered"),this.mouseHovering=!1})}toggle(){this.emitEvent("toggle",{})}connectedCallback(){super.connectedCallback(),window.document.body.addEventListener("toggle-annotation-sidebar",()=>{this.isHidden=!this.isHidden}),window.document.body.addEventListener("toggle-pin-active",this.onTogglePinActive)}disconnectedCallback(){super.disconnectedCallback(),window.document.body.removeEventListener("toggle-annotation-sidebar",()=>{this.isHidden=!this.isHidden}),window.document.body.removeEventListener("toggle-pin-active",this.onTogglePinActive)}updated(e){super.updated(e),this.updateComplete.then(()=>{let n=this.shadowRoot.querySelector(".comments__floating-button");n&&n.setAttribute("style",this.positionStyles)})}calculateIfShouldHide(){var _;let e=(_=document.getElementsByTagName("superviz-comments")[0])==null?void 0:_.shadowRoot.querySelector(".superviz-comments"),n=this.shadowRoot.querySelector(".comments__floating-button");if(!e||!n)return;let{left:i,right:o,top:s,bottom:a}=e.getBoundingClientRect(),{left:c,right:l,top:p,bottom:h}=n.getBoundingClientRect(),f=a>p&&h>s,b=s<h&&p<a,g=o>c&&l>i,w=i<l&&c<o;this.shouldHide=(b||f)&&(g||w)}render(){this.calculateIfShouldHide();let e={"comments__floating-button":!0,"hide-button":!this.isHidden&&this.shouldHide,"is-active":this.isActive,"is-inactive":!this.isActive},n={"comments__floating-button-text-box":!0,"comments__floating-button-text-box--hovered":this.mouseHovering},i={text:!0,"text-big":!0,"text-bold":!0,"not-hovered":!this.mouseHovering,"comments__floating-button__text":!0,textActive:this.isActive,textInactive:!this.isActive};return K` <button @click=${this.toggle} class="${Ie(e)}">
      <div class="comments__floating-button__icon">
        <superviz-icon
          size="sm"
          name="comment"
          color=${this.mouseHovering||this.isActive?"white":"black"}
        ></superviz-icon>
        <svg class="cross" width="8px" height="8px" viewBox="0 0 8 8">
          <rect class="cross-bar-1" x="0" y="3" width="8px" height="2px" />
          <rect class="cross-bar-2" x="0" y="3" width="8px" height="2px" />
        </svg>
      </div>
      <div class=${Ie(n)}>
        <p class="${Ie(i)} comment">Comment</p>
        <p class="${Ie(i)} cancel">Cancel</p>
      </div>
    </button>`}};ma.styles=$se,ma.properties={positionStyles:{type:String},isHidden:{type:Boolean},commentsPosition:{type:String},isActive:{type:Boolean},mouseHovering:{type:Boolean}},ma=Fe([qe("superviz-comments-button")],ma)});var gN={};Vt(gN,{CommentsMentionList:()=>va});var bN,Use,va,yN=G(()=>{v();Re();Xl();qt();vn();Rt();bN=$e(Ce),Use=[bN.styles,dE],va=class extends bN{constructor(){super();this.showMentionList=()=>{var n;let e=(n=this.shadowRoot)==null?void 0:n.getElementById("mention-list");e==null||e.style.setProperty("display","block"),e==null||e.style.setProperty("margin-top","1px"),e.addEventListener("wheel",this.stopHandleZoom)};this.hideMentionList=()=>{var n;let e=(n=this.shadowRoot)==null?void 0:n.getElementById("mention-list");e.removeEventListener("wheel",this.stopHandleZoom),e==null||e.style.setProperty("display","none")};this.selectParticipant=e=>{this.emitEvent("participant-selected",e,{bubbles:!1,composed:!1}),this.hideMentionList()};this.stopHandleZoom=e=>{var i;let n=(i=this.shadowRoot)==null?void 0:i.getElementById("mention-list");n.scrollTop+=e.deltaY,e.preventDefault()};this.participants=[]}updated(e){if(e.has("participants")&&this.participants.length>0){this.showMentionList();return}this.hideMentionList()}getAvatar(e){var n;return e.avatar?K`<img class="avatar" src=${e.avatar} />`:K`<div class="default-avatar">
      <p class="text text-bold">${((n=e.name[0])==null?void 0:n.toUpperCase())||"A"}</p>
    </div>`}render(){let e=n=>K`
      <div class="mention-item" @click=${()=>this.selectParticipant(n)}>
        ${this.getAvatar(n)}
        <div class="avatar-type">${n.name}</div>
      </div>
    `;return K`
      <div id="mention-list">
        ${Bo(this.participants,n=>n.id,n=>K` ${e(n)} `)}
      </div>
    `}};va.styles=Use,va.properties={participants:{type:Object}},va=Fe([qe("superviz-comments-mention-list")],va)});var oO,sO=G(()=>{v();oO=(i=>(i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i))(oO||{})});var aO,_N=G(()=>{v();Re();aO=Ae`
  .who-is-online__participant-list {
    display: flex;
    align-items: center;
    gap: 4px;
    position: relative;
  }

  .who-is-online {
    display: flex;
    flex-direction: column;
    position: fixed;
    z-index: 99;
  }

  .who-is-online__presence-control-message__text {
    margin: 0;
  }

  .who-is-online__participant {
    border-radius: 50%;
    box-sizing: border-box;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    user-select: none;
    cursor: pointer;
    transition: opacity 0.3s ease-in-out;
    border: 2px solid #878291;
    border-radius: 50%;
    max-width: 40px;
    flex: 1 0 40px;
  }

  .followed {
    border-style: dashed !important;
    animation: rotate 15s linear infinite;
  }

  .followed .who-is-online__participant__avatar {
    animation: nullifyRotate 15s linear infinite;
  }

  .private {
    opacity: 0.3;
  }

  @keyframes rotate {
    100% {
      transform: rotate(1turn);
    }
  }

  @keyframes nullifyRotate {
    100% {
      transform: rotate(-1turn);
    }
  }

  .who-is-online__participant.disable-dropdown {
    cursor: default;
  }

  .who-is-online__participant__avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Open Sans';
    font-size: 14px;
    line-height: 14px;
    line-height: 14px;
    font-weight: bold;
    color: #26242a;
    object-fit: contain;
  }

  .superviz-who-is-online__excess {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: Roboto;
    font-size: 14px;
    line-height: 16px;
    text-align: center;
    font-weight: bold;
    cursor: pointer;
    color: #aea9b8;
  }

  .excess_participants:hover,
  .excess_participants--open {
    background-color: #aea9b8 !important;
  }

  .excess_participants:hover > div,
  .excess_participants--open > div {
    color: #fff !important;
  }

  @media (max-width: 780px) {
    .who-is-online__participant {
      width: 32px;
      height: 32px;
    }

    .who-is-online__participant {
      flex: 1 0 32px;
      max-width: 32px;
    }

    .who-is-online__participant__avatar {
      width: 24px;
      height: 24px;
    }

    .who-is-online__participant-list {
      gap: 8px;
    }

    .superviz-who-is-online__excess {
      width: 24px;
      height: 24px;
      font-size: 12px;
      line-height: 12px;
    }
  }
`});var uO,wN=G(()=>{v();Re();uO=Ae`
  .dropdown {
    position: relative;
  }

  .who-is-online__extra-participant {
    display: flex;
    user-select: none;
    align-items: center;
    justify-items: start;
    gap: 4px;
    width: 100%;
    padding: 10px;
    border-radius: 2px;
    position: relative;
    cursor: pointer;
  }

  .who-is-online__extra-participant.disable-dropdown {
    cursor: default;
  }

  .who-is-online__extra-participant:hover,
  .who-is-online__extra-participant--selected {
    background-color: rgb(var(--sv-gray-200));
  }

  .who-is-online__participant {
    border-radius: 50%;
    box-sizing: border-box;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border: 2px solid #878291;
    border-radius: 50%;
    max-width: 40px;
    flex: 1 0 40px;
  }

  .who-is-online__participant__avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Open Sans';
    font-size: 14px;
    line-height: 14px;
    font-weight: bold;
    color: #26242a;
    object-fit: contain;
  }

  .dropdown-list {
    position: relative;
    display: flex;
    flex-direction: column;
    z-index: 100;
  }

  .dropdown-list > div {
    padding: 4px;
    width: 216px;
    box-sizing: border-box;
  }

  .who-is-online__extras-dropdown {
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    opacity: 0;
    display: none;
    background: #fff;
    padding: 0;
    z-index: 1;
    transition: 0.2s;
    border-radius: 3px;
    max-height: 240px;
    overflow: auto;
  }

  .who-is-online__extras-dropdown superviz-dropdown:hover {
    z-index: 999;
    position: relative;
  }

  .who-is-online__extras__arrow-icon {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .menu--bottom {
    top: 4px;
    min-width: 103px;
    position: absolute;
    right: 0;
  }

  .menu--top {
    bottom: 44px;
    min-width: 103px;
    position: absolute;
    right: 0px;
  }

  .menu-open {
    display: block;
    opacity: 1;
  }

  .superviz-who-is-online-dropdown__tooltip {
    background-color: rgb(var(--sv-gray-600));
    padding: 8px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
    position: absolute;
    top: 52px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: 2px;
    opacity: 0;
    cursor: default;
    display: none;
    transition: opacity 0.2s ease-in-out display 0s;
  }

  .superviz-who-is-online-dropdown__tooltip-arrow {
    width: 13px;
    height: 13px;
    position: absolute;
    top: 0px;
    left: 50%;
    transform: rotate(45deg) translateX(-50%);
    background-color: rgb(var(--sv-gray-600));
    border-top-left-radius: 3px;
  }

  .dropdown-content:hover + .superviz-who-is-online-dropdown__tooltip {
    opacity: 1;
    display: block;
  }

  .tooltip-content {
    margin: 0;
    font-family: roboto;
    white-space: nowrap;
    text-align: center;
    color: white;
    font-size: 14px;
  }

  .who-is-online__extras__username {
    font-size: 14px;
    line-height: 20px;
    font-family: 'Open sans';
    color: rgb(var(--sv-gray-600));
  }

  .icon {
    flex: 1;
    justify-content: flex-end;
    display: flex;
  }

  .hide-icon {
    display: none;
  }

  @media (max-width: 780px) {
    .sv-icon,
    .who-is-online__participant {
      width: 32px;
      height: 32px;
    }

    .who-is-online__participant {
      flex: 1 0 32px;
      max-width: 32px;
    }

    .who-is-online__participant__avatar {
      width: 24px;
      height: 24px;
    }

    .dropdown-list > div {
      width: 192px;
    }

    .menu--top {
      bottom: 36px;
    }

    .superviz-who-is-online-dropdown__tooltip {
      top: 44px;
    }
  }
`});var cO,EN=G(()=>{v();Re();cO=Ae`
  .who-is-online__controls-messages {
    position: absolute;
    right: 0;
    display: flex;
    flex-direction: column;
    gap: 5px;
    margin-top: 4px;
  }

  .who-is-online__presence-control-message {
    box-sizing: border-box;
    font-size: 12px;
    padding: 8px 10px;
    font-family: 'Roboto';
    border-radius: 6px;
    background-color: #fff;
    color: rgb(var(--sv-gray-700));
    border: 2px solid #e0e0e0;
    white-space: nowrap;
  }

  .who-is-online__pcm__text {
    margin: 0;
  }

  .who-is-online__presence-control-message span {
    margin-left: 3px;
    text-decoration: underline;
    cursor: pointer;
  }

  .left-side {
    left: 0;
  }

  .right-side {
    right: 0;
  }

  .left-side .who-is-online__presence-control-message {
    align-self: flex-start;
  }

  .right-side .who-is-online__presence-control-message {
    align-self: flex-end;
  }

  .bottom-side {
    bottom: auto;
    top: calc(100% + 5px);
  }

  .top-side {
    top: auto;
    bottom: calc(100% + 5px);
  }
`});var Ub=G(()=>{v();_N();wN();EN()});var ON,Vse,Xo,SN=G(()=>{v();Re();Yr();Xl();Rr();$t();sO();qt();Or();Ub();Rt();ON=$e(Ce),Vse=[ON.styles,aO],Xo=class extends ON{constructor(){super();this.onClickOutDropdown=({detail:e})=>{this.open=e.open};this.toggleShowTooltip=()=>{this.showTooltip=!this.showTooltip};this.dropdownOptionsHandler=({detail:{label:e,participantId:n,source:i}})=>{switch(e){case"go to":this.handleGoTo(n);break;case"follow":this.handleLocalFollow(n,i);break;case"unfollow":this.handleLocalUnfollow();break;case"private mode":this.handlePrivate(n);break;case"leave private mode":this.handleCancelPrivate(n);break;case"everyone follows me":this.handleFollow(n,i);break;case"stop followers":this.handleStopFollow();break;case"gather all":this.handleGatherAll(n);break;default:break}};this.position="top: 20px; right: 40px;",this.showTooltip=!0,this.open=!1;let{localParticipant:e}=this.useStore("global-store"),{participants:n,following:i,extras:o,disablePresenceControls:s}=this.useStore("who-is-online-store");n.subscribe(a=>{this.participants=a}),i.subscribe(),s.subscribe(),o.subscribe(a=>{this.amountOfExtras=a.length}),e.subscribe(a=>{var l,p;let c=(l=a.activeComponents)==null?void 0:l.some(h=>h.toLowerCase().includes("presence"));this.localParticipantData={id:a.id,joinedPresence:(p=a.activeComponents)==null?void 0:p.some(h=>h.toLowerCase().includes("presence"))},this.disableDropdown=!c})}firstUpdated(e){super.firstUpdated(e),pt.call(this,"who-is-online")}toggleOpen(){this.open=!this.open}dropdownPosition(e){if(this.participants.length===1)return"bottom-center";if(e===0)return"bottom-right";let n=this.participants.length>4,i=e+1===this.participants.length;return n||!i?"bottom-center":"bottom-left"}renderExtras(){var n;if(!this.amountOfExtras)return;let e={"who-is-online__participant":!0,excess_participants:!0,"excess_participants--open":this.open};return K`
      <superviz-who-is-online-dropdown
        @selected=${this.dropdownOptionsHandler}
        @clickout=${this.onClickOutDropdown}
        ?disableDropdown=${this.disableDropdown}
        ?showSeeMoreTooltip=${this.showTooltip}
        @toggle=${this.toggleOpen}
        @toggle-dropdown-state=${this.toggleShowTooltip}
        ?localParticipantJoinedPresence=${(n=this.localParticipantData)==null?void 0:n.joinedPresence}
        classesPrefix="who-is-online__controls"
        parentComponent="who-is-online"
        tooltipPrefix="who-is-online"
      >
        <div class=${Ie(e)} slot="dropdown">
          <div class="superviz-who-is-online__excess who-is-online__extras">
            +${this.amountOfExtras}
          </div>
        </div>
      </superviz-who-is-online-dropdown>
    `}getAvatar({color:e,imageUrl:n,firstLetter:i,letterColor:o}){return n?K` <img
        class="who-is-online__participant__avatar"
        style="background-color: ${e}"
        src=${n}
      />`:K`<div
      class="who-is-online__participant__avatar"
      style="background-color: ${e}; color: ${o}"
    >
      ${i}
    </div>`}cancelPrivate(){this.isPrivate=void 0,this.emitEvent("realtime.private-mode",{id:this.localParticipantData.id})}renderParticipants(){return this.participants.length?K`
      ${Bo(this.participants,e=>e.id,(e,n)=>{var g;let{avatar:i,id:o,name:s,tooltip:a,controls:c,disableDropdown:l,isLocalParticipant:p}=e,h=this.dropdownPosition(n),f=((g=this.following)==null?void 0:g.id)===o,b={"who-is-online__participant":!0,"disable-dropdown":l,followed:f||this.everyoneFollowsMe&&p,private:p&&this.isPrivate};return K`
            <superviz-dropdown
              options=${JSON.stringify(c)}
              returnData=${JSON.stringify({participantId:o,source:"participants"})}
              position=${h}
              name=${s}
              tooltipData=${JSON.stringify(a)}
              classesPrefix="who-is-online__controls"
              parentComponent="who-is-online"
              tooltipPrefix="who-is-online"
              ?disabled=${l}
              ?canShowTooltip=${this.showTooltip}
              @selected=${this.dropdownOptionsHandler}
              @toggle-dropdown-state=${this.toggleShowTooltip}
            >
              <div
                slot="dropdown"
                class=${Ie(b)}
                style="border-color: ${i.color}"
              >
                ${this.getAvatar(i)}
              </div>
            </superviz-dropdown>
          `})}
    `:K``}handleGoTo(e){this.emitEvent("realtime.go-to-participant",{id:e})}handleLocalFollow(e,n){let{following:i}=this.useStore("who-is-online-store"),o=this.useStore("who-is-online-store")[n].value,{id:s,name:a,avatar:{color:c}}=o.find(({id:l})=>l===e);this.everyoneFollowsMe&&this.handleStopFollow(),i.publish({name:a,id:s,color:c}),this.emitEvent("realtime.local-follow-participant",{id:s,source:n})}handleLocalUnfollow(){let{following:e}=this.useStore("who-is-online-store");e.publish(void 0),this.emitEvent("realtime.local-follow-participant",{id:void 0})}handlePrivate(e){this.everyoneFollowsMe&&this.handleStopFollow(),this.emitEvent("realtime.private-mode",{id:e,isPrivate:!0}),this.isPrivate=!0}handleCancelPrivate(e){this.emitEvent("realtime.private-mode",{id:e,isPrivate:!1}),this.isPrivate=!1}handleFollow(e,n){this.isPrivate&&this.cancelPrivate();let i=this.useStore("who-is-online-store")[n].value,{id:o,name:s,avatar:{color:a}}=i.find(({id:l})=>l===e);this.everyoneFollowsMe=!0;let{following:c}=this.useStore("who-is-online-store");c.publish(void 0),this.emitEvent("realtime.follow-participant",{id:o,name:s,color:a})}handleStopFollow(){this.everyoneFollowsMe=!1,this.emitEvent("realtime.follow-participant",void 0)}handleGatherAll(e){this.isPrivate&&this.cancelPrivate(),this.emitEvent("realtime.gather",{id:e})}updated(e){super.updated(e),this.updateComplete.then(()=>{let n=this.shadowRoot.querySelector(".who-is-online");if(!n)return;let i=this.position.includes("left")?"flex-start":"flex-end",o=`${this.position} align-items: ${i};`;n.setAttribute("style",o)})}render(){return K`<div class="who-is-online who-is-online">
      <div class="who-is-online__participant-list">
        ${this.renderParticipants()} ${this.renderExtras()}
      </div>
      <superviz-who-is-online-messages
        ?everyoneFollowsMe=${this.everyoneFollowsMe}
        ?isPrivate=${this.isPrivate}
        @stop-following=${this.handleLocalUnfollow}
        @cancel-private=${this.cancelPrivate}
        @stop-everyone-follows-me=${this.handleStopFollow}
      ></superviz-who-is-online-messages>
    </div> `}};Xo.styles=Vse,Xo.properties={position:{type:String},open:{type:Boolean},localParticipantColor:{type:String},isPrivate:{type:Boolean},everyoneFollowsMe:{type:Boolean},showTooltip:{type:Boolean}},Xo=Fe([qe("superviz-who-is-online")],Xo)});var lO=G(()=>{v()});var PN,Gse,Qo,TN=G(()=>{v();Re();Yr();$t();qt();Or();Ub();lO();Wu();Rt();PN=$e(Ce),Gse=[PN.styles,cO],Qo=class extends PN{constructor(){super();this.repositionMessages=()=>{let{following:e,everyoneFollowsMe:n,isPrivate:i}=this;if(e||n||i){this.repositionInVerticalDirection(),this.repositionInHorizontalDirection(),this.animationFrame=window.requestAnimationFrame(this.repositionMessages);return}window.cancelAnimationFrame(this.animationFrame)};let{localParticipant:e}=this.useStore("global-store");e.subscribe(i=>{var o;this.participantColor=((o=i.slot)==null?void 0:o.color)??Xt.gray});let{following:n}=this.useStore("who-is-online-store");n.subscribe()}firstUpdated(e){super.firstUpdated(e),pt.call(this,"who-is-online")}updated(e){super.updated(e),["following","everyoneFollowsMe","isPrivate"].some(i=>e.has(i))&&this.repositionMessages()}repositionInVerticalDirection(){let e=window.innerHeight/2,{top:n}=this.parentElement.getBoundingClientRect();if(n<e){this.verticalSide="bottom-side";return}this.verticalSide="top-side"}repositionInHorizontalDirection(){let e=window.innerWidth/2,{left:n}=this.parentElement.getBoundingClientRect();if(n<e){this.horizontalSide="left-side";return}this.horizontalSide="right-side"}stopFollowing(){this.emitEvent("stop-following",{})}cancelPrivate(){this.emitEvent("cancel-private",{})}stopEveryoneFollowsMe(){this.emitEvent("stop-everyone-follows-me",{})}followingMessage(){if(!this.following)return"";let{name:e,color:n}=this.following;return K`<div
      class="who-is-online__following-message who-is-online__presence-control-message who-is-online__pcm"
      style="border-color: ${n}"
    >
      <p class="who-is-online__presence-control-message__text who-is-online__pcm__text">
        Following: ${e}
        <span
          class="who-is-online__presence-control-message__cancel-action-button who-is-online__pcm__cancel-action-button"
          @click=${this.stopFollowing}
          >Stop</span
        >
      </p>
    </div>`}everyoneFollowsMeMessage(){return this.everyoneFollowsMe?K`<div
      class="who-is-online__follow-me-message who-is-online__presence-control-message who-is-online__pcm"
      style="border-color: ${this.participantColor}"
    >
      <p class="who-is-online__presence-control-message__text who-is-online__pcm__text">
        Everyone is following you
        <span
          class="who-is-online__presence-control-message__cancel-action-button who-is-online__pcm__cancel-action-button"
          @click=${this.stopEveryoneFollowsMe}
          >Stop</span
        >
      </p>
    </div>`:""}privateMessage(){return this.isPrivate?K`<div
      class="who-is-online__private-mode-message who-is-online__presence-control-message who-is-online__pcm"
      style="border-color: ${this.participantColor}"
    >
      <p class="who-is-online__presence-control-message__text who-is-online__pcm__text">
        You are in Private Mode
        <span
          class="who-is-online__presence-control-message__cancel-action-button who-is-online__pcm__cancel-action-button"
          @click=${this.cancelPrivate}
          >Cancel</span
        >
      </p>
    </div>`:""}render(){let e={"who-is-online__controls-messages":!0,[this.verticalSide]:!0,[this.horizontalSide]:!0};return K` <div class=${Ie(e)}>
      ${this.followingMessage()} ${this.everyoneFollowsMeMessage()} ${this.privateMessage()}
    </div>`}};Qo.styles=Gse,Qo.properties={everyoneFollowsMe:{type:Boolean},isPrivate:{type:Boolean},verticalSide:{type:String},horizontalSide:{type:String}},Qo=Fe([qe("superviz-who-is-online-messages")],Qo)});var xN,Zse,es,AN=G(()=>{v();Re();Yr();Xl();$t();qt();Or();Ub();lO();Rt();xN=$e(Ce),Zse=[xN.styles,uO],es=class extends xN{constructor(){super();this.onClickOutDropdown=e=>{if(e.stopPropagation(),!this.open)return;let n=e.composedPath(),i=this.shadowRoot.querySelector(".dropdown-content"),o=this.shadowRoot.querySelector(".dropdown-list"),a=this.shadowRoot.querySelector('slot[name="dropdown"]').assignedElements()[0],c=n.includes(i),l=n.includes(o),p=n.includes(a);c||l||p||this.close()};this.close=()=>{this.open=!1,this.selected="",this.emitEvent("clickout",{bubbles:!1,composed:!1})};this.selectParticipant=(e,n)=>()=>{n||(this.selected=e)};this.toggleShowTooltip=({detail:{open:e}})=>{this.showParticipantTooltip=!this.showParticipantTooltip,e||(this.selected="")};this.tooltip=()=>this.showSeeMoreTooltip?K`<superviz-tooltip
      tooltipData=${JSON.stringify({name:"See more"})}
      classesPrefix="who-is-online__tooltip"
      parentComponent="who-is-online"
    ></superviz-tooltip>`:"";this.repositionDropdown=()=>{if(!this.open||!this.parentElement){window.cancelAnimationFrame(this.animationFrame);return}this.repositionInVerticalDirection(),this.repositionInHorizontalDirection(),this.animationFrame=window.requestAnimationFrame(this.repositionDropdown)};this.repositionInVerticalDirection=()=>{let{bottom:e,top:n,height:i}=this.parentElement.getBoundingClientRect(),o=window.innerHeight/2;if(n+i/2>o){this.dropdownList.style.setProperty("bottom",`${window.innerHeight-n+8}px`),this.dropdownList.style.setProperty("top","");return}this.dropdownList.style.setProperty("top",`${e+8}px`),this.dropdownList.style.setProperty("bottom","")};this.repositionInHorizontalDirection=()=>{let{right:e,left:n}=this.parentElement.getBoundingClientRect();this.dropdownList.style.setProperty("right",`${window.innerWidth-e}px`),this.dropdownList.style.setProperty("left",`${n}px`)};this.selected="",this.showParticipantTooltip=!0;let{extras:e}=this.useStore("who-is-online-store");e.subscribe(n=>{this.participants=n})}firstUpdated(e){this.shadowRoot.querySelector(".who-is-online__extras-dropdown").scrollTop=0,pt.call(this,"who-is-online"),this.dropdownList=this.shadowRoot.querySelector(".dropdown-list"),this.dropdownList.style.position="fixed"}updated(e){if(e.has("open")){if(this.emitEvent("toggle-dropdown-state",{open:this.open,font:"toggle"}),this.open){document.addEventListener("click",this.onClickOutDropdown);return}document.removeEventListener("click",this.onClickOutDropdown)}}getAvatar({color:e,imageUrl:n,firstLetter:i,letterColor:o}){return n?K` <img
        class="who-is-online__participant__avatar"
        style="background-color: ${e}"
        src=${n}
      />`:K`<div
      class="who-is-online__participant__avatar"
      style="background-color: ${e}; color: ${o}"
    >
      ${i}
    </div>`}renderParticipants(){if(!this.participants)return;let e=this.participants.length-1;return Bo(this.participants,n=>n.id,(n,i)=>{let{disableDropdown:o,id:s,avatar:a,controls:c,tooltip:l,name:p}=n,h={"who-is-online__extra-participant":!0,"who-is-online__extra-participant--selected":this.selected===s,"disable-dropdown":o},f={"who-is-online__extras__arrow-icon":!0,"hide-icon":o},b=i===e;return K`
        <superviz-dropdown
          options=${JSON.stringify(c)}
          returnData=${JSON.stringify({participantId:s,source:"extras"})}
          tooltipData=${JSON.stringify(l)}
          position="bottom-right"
          classesPrefix="who-is-online__controls"
          parentComponent="who-is-online"
          tooltipPrefix="who-is-online"
          ?disabled=${o}
          ?canShowTooltip=${this.showParticipantTooltip}
          ?shiftTooltipLeft=${!0}
          ?lastParticipant=${b}
          @toggle-dropdown-state=${this.toggleShowTooltip}
          @selected=${this.close}
        >
        <div 
          class=${Ie(h)} 
          @click=${this.selectParticipant(s,o)} slot="dropdown">
            <div class="who-is-online__participant" style="border-color: 
            ${a.color}">
              ${this.getAvatar(a)}
            </div>
            <span class="who-is-online__extras__username">${p}</span>
            <superviz-icon 
              class=${Ie(f)} 
              name="right" 
              color="var(--sv-gray-600)"
              size="sm"
            >
          </superviz-icon>
          </div>
        </div>
      </superviz-dropdown>
      `})}toggle(){this.open=!this.open,this.open&&(this.selected="",this.repositionDropdown())}get menuClasses(){return{"who-is-online__extras-dropdown":!0,"menu--bottom":this.position==="bottom-side","menu--top":this.position==="top-side","menu-open":this.open}}render(){return K`
      <div class="dropdown">
        <div class="dropdown-content" @click=${this.toggle}>
          <slot name="dropdown"></slot>
        </div>
        ${this.tooltip()}
      </div>
      <div class="dropdown-list">
        <div class=${Ie(this.menuClasses)}>${this.renderParticipants()}</div>
      </div>
    `}};es.styles=Zse,es.properties={open:{type:Boolean},align:{type:String},position:{type:String},selected:{type:String},disableDropdown:{type:Boolean},showSeeMoreTooltip:{type:Boolean},showParticipantTooltip:{type:Boolean},localParticipantJoinedPresence:{type:Boolean},dropdownList:{type:Object}},es=Fe([qe("superviz-who-is-online-dropdown")],es)});var CN=G(()=>{v();TN();AN()});var MN={};Vt(MN,{WhoIsOnline:()=>Xo,WhoIsOnlineDropdown:()=>es,WhoIsOnlineMessages:()=>Qo});var IN=G(()=>{v();SN();CN()});var kN={};Vt(kN,{HelloWorld:()=>ba});var ba,LN=G(()=>{v();Re();Rt();ba=class extends Ce{render(){return K` <div>Hello from SuperViz, ${this.name}</div> `}};ba.properties={name:{type:String}},ba.styles=Ae`
    div {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: black;
      color: white;
    }
  `,ba=Fe([qe("superviz-hello-world")],ba)});var jN=R((Bd,dO)=>{v();(function(t,r){typeof Bd=="object"&&typeof dO=="object"?dO.exports=r():typeof define=="function"&&define.amd?define([],r):typeof Bd=="object"?Bd.bowser=r():t.bowser=r()})(Bd,function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=r,e.d=function(n,i,o){e.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:o})},e.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,i){if(1&i&&(n=e(n)),8&i||4&i&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&i&&typeof n!="string")for(var s in n)e.d(o,s,function(a){return n[a]}.bind(null,s));return o},e.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(i,"a",i),i},e.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},e.p="",e(e.s=90)}({17:function(t,r,e){"use strict";r.__esModule=!0,r.default=void 0;var n=e(18),i=function(){function o(){}return o.getFirstMatch=function(s,a){var c=a.match(s);return c&&c.length>0&&c[1]||""},o.getSecondMatch=function(s,a){var c=a.match(s);return c&&c.length>1&&c[2]||""},o.matchAndReturnConst=function(s,a,c){if(s.test(a))return c},o.getWindowsVersionName=function(s){switch(s){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),a[0]===10)switch(a[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(s){var a=s.split(".").splice(0,2).map(function(c){return parseInt(c,10)||0});if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?"Cupcake":a[0]===1&&a[1]>=6?"Donut":a[0]===2&&a[1]<2?"Eclair":a[0]===2&&a[1]===2?"Froyo":a[0]===2&&a[1]>2?"Gingerbread":a[0]===3?"Honeycomb":a[0]===4&&a[1]<1?"Ice Cream Sandwich":a[0]===4&&a[1]<4?"Jelly Bean":a[0]===4&&a[1]>=4?"KitKat":a[0]===5?"Lollipop":a[0]===6?"Marshmallow":a[0]===7?"Nougat":a[0]===8?"Oreo":a[0]===9?"Pie":void 0},o.getVersionPrecision=function(s){return s.split(".").length},o.compareVersions=function(s,a,c){c===void 0&&(c=!1);var l=o.getVersionPrecision(s),p=o.getVersionPrecision(a),h=Math.max(l,p),f=0,b=o.map([s,a],function(g){var w=h-o.getVersionPrecision(g),_=g+new Array(w+1).join(".0");return o.map(_.split("."),function(S){return new Array(20-S.length).join("0")+S}).reverse()});for(c&&(f=h-Math.min(l,p)),h-=1;h>=f;){if(b[0][h]>b[1][h])return 1;if(b[0][h]===b[1][h]){if(h===f)return 0;h-=1}else if(b[0][h]<b[1][h])return-1}},o.map=function(s,a){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(s,a);for(c=0;c<s.length;c+=1)l.push(a(s[c]));return l},o.find=function(s,a){var c,l;if(Array.prototype.find)return Array.prototype.find.call(s,a);for(c=0,l=s.length;c<l;c+=1){var p=s[c];if(a(p,c))return p}},o.assign=function(s){for(var a,c,l=s,p=arguments.length,h=new Array(p>1?p-1:0),f=1;f<p;f++)h[f-1]=arguments[f];if(Object.assign)return Object.assign.apply(Object,[s].concat(h));var b=function(){var g=h[a];typeof g=="object"&&g!==null&&Object.keys(g).forEach(function(w){l[w]=g[w]})};for(a=0,c=h.length;a<c;a+=1)b();return s},o.getBrowserAlias=function(s){return n.BROWSER_ALIASES_MAP[s]},o.getBrowserTypeByAlias=function(s){return n.BROWSER_MAP[s]||""},o}();r.default=i,t.exports=r.default},18:function(t,r,e){"use strict";r.__esModule=!0,r.ENGINE_MAP=r.OS_MAP=r.PLATFORMS_MAP=r.BROWSER_MAP=r.BROWSER_ALIASES_MAP=void 0,r.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},r.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},r.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},r.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},r.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,r,e){"use strict";r.__esModule=!0,r.default=void 0;var n,i=(n=e(91))&&n.__esModule?n:{default:n},o=e(18);function s(c,l){for(var p=0;p<l.length;p++){var h=l[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}var a=function(){function c(){}var l,p,h;return c.getParser=function(f,b){if(b===void 0&&(b=!1),typeof f!="string")throw new Error("UserAgent should be a string");return new i.default(f,b)},c.parse=function(f){return new i.default(f).getResult()},l=c,h=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(p=null)&&s(l.prototype,p),h&&s(l,h),c}();r.default=a,t.exports=r.default},91:function(t,r,e){"use strict";r.__esModule=!0,r.default=void 0;var n=c(e(92)),i=c(e(93)),o=c(e(94)),s=c(e(95)),a=c(e(17));function c(p){return p&&p.__esModule?p:{default:p}}var l=function(){function p(f,b){if(b===void 0&&(b=!1),f==null||f==="")throw new Error("UserAgent parameter can't be empty");this._ua=f,this.parsedResult={},b!==!0&&this.parse()}var h=p.prototype;return h.getUA=function(){return this._ua},h.test=function(f){return f.test(this._ua)},h.parseBrowser=function(){var f=this;this.parsedResult.browser={};var b=a.default.find(n.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(w){return f.test(w)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.browser=b.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(f){return f?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var f=this;this.parsedResult.os={};var b=a.default.find(i.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(w){return f.test(w)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.os=b.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(f){var b=this.getOS().name;return f?String(b).toLowerCase()||"":b||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(f){f===void 0&&(f=!1);var b=this.getPlatform().type;return f?String(b).toLowerCase()||"":b||""},h.parsePlatform=function(){var f=this;this.parsedResult.platform={};var b=a.default.find(o.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(w){return f.test(w)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.platform=b.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(f){return f?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var f=this;this.parsedResult.engine={};var b=a.default.find(s.default,function(g){if(typeof g.test=="function")return g.test(f);if(g.test instanceof Array)return g.test.some(function(w){return f.test(w)});throw new Error("Browser's test function is not valid")});return b&&(this.parsedResult.engine=b.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return a.default.assign({},this.parsedResult)},h.satisfies=function(f){var b=this,g={},w=0,_={},S=0;if(Object.keys(f).forEach(function(L){var B=f[L];typeof B=="string"?(_[L]=B,S+=1):typeof B=="object"&&(g[L]=B,w+=1)}),w>0){var x=Object.keys(g),C=a.default.find(x,function(L){return b.isOS(L)});if(C){var I=this.satisfies(g[C]);if(I!==void 0)return I}var k=a.default.find(x,function(L){return b.isPlatform(L)});if(k){var P=this.satisfies(g[k]);if(P!==void 0)return P}}if(S>0){var D=Object.keys(_),j=a.default.find(D,function(L){return b.isBrowser(L,!0)});if(j!==void 0)return this.compareVersion(_[j])}},h.isBrowser=function(f,b){b===void 0&&(b=!1);var g=this.getBrowserName().toLowerCase(),w=f.toLowerCase(),_=a.default.getBrowserTypeByAlias(w);return b&&_&&(w=_.toLowerCase()),w===g},h.compareVersion=function(f){var b=[0],g=f,w=!1,_=this.getBrowserVersion();if(typeof _=="string")return f[0]===">"||f[0]==="<"?(g=f.substr(1),f[1]==="="?(w=!0,g=f.substr(2)):b=[],f[0]===">"?b.push(1):b.push(-1)):f[0]==="="?g=f.substr(1):f[0]==="~"&&(w=!0,g=f.substr(1)),b.indexOf(a.default.compareVersions(_,g,w))>-1},h.isOS=function(f){return this.getOSName(!0)===String(f).toLowerCase()},h.isPlatform=function(f){return this.getPlatformType(!0)===String(f).toLowerCase()},h.isEngine=function(f){return this.getEngineName(!0)===String(f).toLowerCase()},h.is=function(f,b){return b===void 0&&(b=!1),this.isBrowser(f,b)||this.isOS(f)||this.isPlatform(f)},h.some=function(f){var b=this;return f===void 0&&(f=[]),f.some(function(g){return b.is(g)})},p}();r.default=l,t.exports=r.default},92:function(t,r,e){"use strict";r.__esModule=!0,r.default=void 0;var n,i=(n=e(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(a){var c={name:"Googlebot"},l=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opr\/|opios/i],describe:function(a){var c={name:"Opera"},l=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(a){var c={name:"Samsung Internet for Android"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(a){var c={name:"NAVER Whale Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(a){var c={name:"MZ Browser"},l=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(a){var c={name:"Focus"},l=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(a){var c={name:"Swing"},l=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(a){var c={name:"Opera Coast"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(a){var c={name:"Opera Touch"},l=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(a){var c={name:"Yandex Browser"},l=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(a){var c={name:"UC Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(a){var c={name:"Maxthon"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(a){var c={name:"Epiphany"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(a){var c={name:"Puffin"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(a){var c={name:"Sleipnir"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(a){var c={name:"K-Meleon"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(a){var c={name:"WeChat"},l=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(a){var c={name:/qqbrowserlite/i.test(a)?"QQ Browser Lite":"QQ Browser"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(a){var c={name:"Internet Explorer"},l=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/\sedg\//i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(a){var c={name:"Microsoft Edge"},l=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(a){var c={name:"Vivaldi"},l=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(a){var c={name:"SeaMonkey"},l=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(a){var c={name:"Sailfish"},l=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,a);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(a){var c={name:"Amazon Silk"},l=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(a){var c={name:"PhantomJS"},l=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(a){var c={name:"SlimerJS"},l=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c={name:"BlackBerry"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c={name:"WebOS Browser"},l=i.default.getFirstMatch(o,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(a){var c={name:"Bada"},l=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(a){var c={name:"Tizen"},l=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(a){var c={name:"QupZilla"},l=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var c={name:"Firefox"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(a){var c={name:"Electron"},l=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(a){var c={name:"Miui"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(a){var c={name:"Chromium"},l=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,a)||i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(a){var c={name:"Chrome"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(a){var c={name:"Google Search"},l=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c={name:"Android Browser"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(a){var c={name:"PlayStation 4"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(a){var c={name:"Safari"},l=i.default.getFirstMatch(o,a);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(a){var c=a.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(c,a),version:i.default.getSecondMatch(c,a)}}}];r.default=s,t.exports=r.default},93:function(t,r,e){"use strict";r.__esModule=!0,r.default=void 0;var n,i=(n=e(17))&&n.__esModule?n:{default:n},o=e(18),s=[{test:[/Roku\/DVP/],describe:function(a){var c=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,a);return{name:o.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(a){var c=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(a){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,a),l=i.default.getWindowsVersionName(c);return{name:o.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(a){var c={name:o.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,a);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(a){var c=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,a).replace(/[_\s]/g,"."),l=i.default.getMacOSVersionName(c),p={name:o.OS_MAP.MacOS,version:c};return l&&(p.versionName=l),p}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var c=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,a).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:c}}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,a),l=i.default.getAndroidVersionName(c),p={name:o.OS_MAP.Android,version:c};return l&&(p.versionName=l),p}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,a),l={name:o.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(a){var c=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,a)||i.default.getFirstMatch(/\bbb(\d+)/i,a);return{name:o.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(a){var c=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(a){var c=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var c=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,a);return{name:o.OS_MAP.PlayStation4,version:c}}}];r.default=s,t.exports=r.default},94:function(t,r,e){"use strict";r.__esModule=!0,r.default=void 0;var n,i=(n=e(17))&&n.__esModule?n:{default:n},o=e(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(a){var c=i.default.getFirstMatch(/(can-l01)/i,a)&&"Nova",l={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return c&&(l.model=c),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){var c=a.test(/ipod|iphone/i),l=a.test(/like (ipod|iphone)/i);return c&&!l},describe:function(a){var c=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:c}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(a){return a.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(a){var c=Number(String(a.getOSVersion()).split(".")[0]);return a.getOSName(!0)==="android"&&c>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(a){return a.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];r.default=s,t.exports=r.default},95:function(t,r,e){"use strict";r.__esModule=!0,r.default=void 0;var n,i=(n=e(17))&&n.__esModule?n:{default:n},o=e(18),s=[{test:function(a){return a.getBrowserName(!0)==="microsoft edge"},describe:function(a){if(/\sedg\//i.test(a))return{name:o.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,a);return{name:o.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(a){var c={name:o.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){return a.test(/presto/i)},describe:function(a){var c={name:o.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=a.test(/gecko/i),l=a.test(/like gecko/i);return c&&!l},describe:function(a){var c={name:o.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var c={name:o.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,a);return l&&(c.version=l),c}}];r.default=s,t.exports=r.default}})})});var tae={};Vt(tae,{CamerasPosition:()=>Fd,CanvasPin:()=>dc,CommentEvent:()=>El,Comments:()=>lc,ComponentLifeCycleEvent:()=>Ss,DeviceEvent:()=>Wf,FieldEvents:()=>qd,FormElements:()=>bc,FrameEvent:()=>Xa,HTMLPin:()=>pc,LayoutMode:()=>Nd,LayoutPosition:()=>cc,MeetingConnectionStatus:()=>eu,MeetingControlsEvent:()=>Qa,MeetingEvent:()=>Ka,MeetingState:()=>_l,MousePointers:()=>hc,ParticipantEvent:()=>wl,ParticipantType:()=>qs,PinMode:()=>Xs,PresenceEvents:()=>ge,Realtime:()=>mc,RealtimeComponentEvent:()=>Dd,RealtimeComponentState:()=>jd,RealtimeEvent:()=>ai,StoreType:()=>kt,VideoConference:()=>fc,WhoIsOnline:()=>vc,WhoIsOnlineEvent:()=>Ol,default:()=>eae});module.exports=OW(tae);v();v();var Cw=wr(o_());v();var s_=(S=>(S.svPrimary="sv-primary",S.svPrimary900="sv-primary-900",S.svPrimary200="sv-primary-200",S.svSecondary="sv-secondary",S.svGray="sv-gray",S.svSuccess="sv-success",S.svDanger="sv-danger",S.svBlack="sv-black",S.svWhite="sv-white",S.svGray100="sv-gray-100",S.svGray200="sv-gray-200",S.svGray300="sv-gray-300",S.svGray400="sv-gray-400",S.svGray500="sv-gray-500",S.svGray600="sv-gray-600",S.svGray700="sv-gray-700",S.svGray800="sv-gray-800",S))(s_||{});v();v();v();v();var Dt=async(t,r,e,n={})=>{let i=await fetch(t,{method:r,headers:{"Content-Type":"application/json",...n},body:e?JSON.stringify(e):null});if(!i.ok)throw i;try{return await i.json()}catch{return i.ok}};v();var xP=wr(o_()),He=class{constructor(r){this.debug=(0,xP.default)(r)}log(r,...e){this.debug(r,...e)}};v();v();var aT=wr(l_());var tt=class{constructor(r={}){this.subscribe=r=>{this.callbacks.push(r)};this.unsubscribe=r=>{this.callbacks=this.callbacks.filter(e=>e!==r)};this.publish=(...r)=>{this.callbacks&&this.callbacks.forEach(e=>{this.callListener(e,r).catch(n=>{var i;(i=this.logger)==null||i.log("superviz-sdk:observer-helper:publish:error",`
            Failed to execute callback on publish value.
            Callback: ${e.name}
            Event: ${JSON.stringify(r)}
            Error: ${n}
          `)})})};this.reset=()=>{this.callbacks=[]};this.destroy=()=>{delete this.logger,delete this.callbacks};this.callListener=(r,e)=>new Promise((n,i)=>{try{let o=r(...e);n(o)}catch(o){i(o)}});let{logger:e,throttleTime:n}=r;this.logger=e||new He("@superviz/sdk/observer-helper"),this.throttle=n,this.callbacks=[],this.throttle&&(this.publish=(0,aT.default)(this.publish,this.throttle))}};var Mi=class{constructor(){this.observers={};this.subscribe=(r,e)=>{this.logger.log(`subscribed to ${r} event`),this.observers[r]||(this.observers[r]=new tt({logger:this.logger})),this.observers[r].subscribe(e)};this.unsubscribe=(r,e)=>{if(this.logger.log(`unsubscribed from ${r} event`),!!this.observers[r]){if(!e){this.observers[r].destroy(),delete this.observers[r];return}this.observers[r].unsubscribe(e)}};this.publish=(r,e)=>{r in this.observers&&this.observers[r].publish(e)}}};v();An();var Ot=class{static createUrl(r,e,n={}){let i=new URL(e,r);return Object.keys(n).forEach(o=>i.searchParams.append(o,n[o])),i.toString()}static validateApiKey(r,e){let i=this.createUrl(r,"/user/checkapikey");return Dt(i,"POST",{apiKey:e})}static fetchConfig(r,e){let i=this.createUrl(r,"/immersive-config");return Dt(i,"POST",{apiKey:e})}static async fetchLimits(r,e){let i=this.createUrl(r,"/user/check_limits_v2");return(await Dt(i,"GET","",{apikey:e})).limits}static async fetchWaterMark(r,e){let i=this.createUrl(r,"/user/watermark"),{message:o}=await Dt(i,"POST",{apiKey:e});return o}static async createAnnotations(r,e,n){let o=this.createUrl(r,"/annotations");return Dt(o,"POST",{...n},{apikey:e})}static async updateComment(r,e,n,i){let o=`/comments/${n}`,s=this.createUrl(r,o);return Dt(s,"PUT",{text:i},{apikey:e})}static async createComment(r,e,n){let o=this.createUrl(r,"/comments");return Dt(o,"POST",{...n},{apikey:e})}static async fetchAnnotation(r,e,n){let o=this.createUrl(r,"/annotations",{roomId:n.roomId});return Dt(o,"GET",void 0,{apikey:e})}static async resolveAnnotation(r,e,n){let i=`/annotations/resolve/${n}`,o=this.createUrl(r,i);return Dt(o,"POST",{},{apikey:e})}static async deleteComment(r,e,n){let i=`/comments/${n}`,o=this.createUrl(r,i);return Dt(o,"DELETE",{},{apikey:e})}static async deleteAnnotation(r,e,n){let i=`/annotations/${n}`,o=this.createUrl(r,i);return Dt(o,"DELETE",{},{apikey:e})}static async createParticipant(r){let e=me.get("apiUrl"),i=this.createUrl(e,"/participants");return Dt(i,"POST",{...r},{apikey:me.get("apiKey")})}static async fetchParticipant(r){let e=me.get("apiUrl"),n=`/participants/${r}`,i=this.createUrl(e,n);return Dt(i,"GET",void 0,{apikey:me.get("apiKey")})}static async sendActivity(r,e,n,i){let o="/activity",s=me.get("apiUrl"),a=me.get("roomId"),c=me.get("apiKey"),l=this.createUrl(s,o);return Dt(l,"POST",{groupId:e,groupName:n,meetingId:a,product:i,userId:r},{apikey:c})}static async fetchParticipantsByGroup(r){let e=`/groups/participants/${r}`,n=me.get("apiUrl"),i=this.createUrl(n,e,{take:1e4});return Dt(i,"GET",void 0,{apikey:me.get("apiKey")})}static async createMentions(r){let e="/mentions",n=me.get("apiUrl"),i=this.createUrl(n,e);return Dt(i,"POST",r,{apikey:me.get("apiKey")})}};v();async function W$(t,r){try{return await Ot.validateApiKey(t,r)===!0}catch(e){if(e.status===404)return!1;throw new Error("Unable to validate API key")}}var cT=W$;An();v();var lT="6.7.1-beta.1";var hs=class{static async getRemoteConfig(r="prod"){if(r==="local")return(await Promise.resolve().then(()=>wr(dT()))).default.remoteConfig;let e={version:lT,environment:r},n=this.createUrl(e);return Dt(n,"GET",null)}static async getFeatures(r){return Dt(`${this.REMOTE_CONFIG_BASE_URL}/features/${r}`,"GET",void 0)}static createUrl({version:r,environment:e}){return`${this.REMOTE_CONFIG_BASE_URL}/sdk/${r}?env=${e}`}};hs.REMOTE_CONFIG_BASE_URL="https://remote-config.superviz.com";v();v();var z$=Object.create,Of=Object.defineProperty,V$=Object.defineProperties,H$=Object.getOwnPropertyDescriptor,G$=Object.getOwnPropertyDescriptors,Z$=Object.getOwnPropertyNames,pT=Object.getOwnPropertySymbols,J$=Object.getPrototypeOf,MT=Object.prototype.hasOwnProperty,Y$=Object.prototype.propertyIsEnumerable,fT=(t,r,e)=>r in t?Of(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,z=(t,r)=>{for(var e in r||(r={}))MT.call(r,e)&&fT(t,e,r[e]);if(pT)for(var e of pT(r))Y$.call(r,e)&&fT(t,e,r[e]);return t},Ee=(t,r)=>V$(t,G$(r)),lt=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(r,e)=>(typeof require<"u"?require:r)[e]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),N=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),K$=(t,r)=>{for(var e in r)Of(t,e,{get:r[e],enumerable:!0})},X$=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Z$(r))!MT.call(t,i)&&i!==e&&Of(t,i,{get:()=>r[i],enumerable:!(n=H$(r,i))||n.enumerable});return t},_t=(t,r,e)=>(e=t!=null?z$(J$(t)):{},X$(r||!t||!t.__esModule?Of(e,"default",{value:t,enumerable:!0}):e,t)),ki=(t,r,e)=>new Promise((n,i)=>{var o=c=>{try{a(e.next(c))}catch(l){i(l)}},s=c=>{try{a(e.throw(c))}catch(l){i(l)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,s);a((e=e.apply(t,r)).next())}),ht=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0;function r(e){return typeof e=="function"}t.isFunction=r}),gs=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0;function r(e){var n=function(o){Error.call(o),o.stack=new Error().stack},i=e(n);return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}t.createErrorClass=r}),IT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var r=gs();t.UnsubscriptionError=r.createErrorClass(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(i,o){return o+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}})}),po=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0;function r(e,n){if(e){var i=e.indexOf(n);0<=i&&e.splice(i,1)}}t.arrRemove=r}),hn=N(t=>{"use strict";var r=t&&t.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,f=h&&p[h],b=0;if(f)return f.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&b>=p.length&&(p=void 0),{value:p&&p[b++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},e=t&&t.__read||function(p,h){var f=typeof Symbol=="function"&&p[Symbol.iterator];if(!f)return p;var b=f.call(p),g,w=[],_;try{for(;(h===void 0||h-- >0)&&!(g=b.next()).done;)w.push(g.value)}catch(S){_={error:S}}finally{try{g&&!g.done&&(f=b.return)&&f.call(b)}finally{if(_)throw _.error}}return w},n=t&&t.__spreadArray||function(p,h){for(var f=0,b=h.length,g=p.length;f<b;f++,g++)p[g]=h[f];return p};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var i=ht(),o=IT(),s=po(),a=function(){function p(h){this.initialTeardown=h,this.closed=!1,this._parentage=null,this._finalizers=null}return p.prototype.unsubscribe=function(){var h,f,b,g,w;if(!this.closed){this.closed=!0;var _=this._parentage;if(_)if(this._parentage=null,Array.isArray(_))try{for(var S=r(_),x=S.next();!x.done;x=S.next()){var C=x.value;C.remove(this)}}catch(L){h={error:L}}finally{try{x&&!x.done&&(f=S.return)&&f.call(S)}finally{if(h)throw h.error}}else _.remove(this);var I=this.initialTeardown;if(i.isFunction(I))try{I()}catch(L){w=L instanceof o.UnsubscriptionError?L.errors:[L]}var k=this._finalizers;if(k){this._finalizers=null;try{for(var P=r(k),D=P.next();!D.done;D=P.next()){var j=D.value;try{l(j)}catch(L){w=w??[],L instanceof o.UnsubscriptionError?w=n(n([],e(w)),e(L.errors)):w.push(L)}}}catch(L){b={error:L}}finally{try{D&&!D.done&&(g=P.return)&&g.call(P)}finally{if(b)throw b.error}}}if(w)throw new o.UnsubscriptionError(w)}},p.prototype.add=function(h){var f;if(h&&h!==this)if(this.closed)l(h);else{if(h instanceof p){if(h.closed||h._hasParent(this))return;h._addParent(this)}(this._finalizers=(f=this._finalizers)!==null&&f!==void 0?f:[]).push(h)}},p.prototype._hasParent=function(h){var f=this._parentage;return f===h||Array.isArray(f)&&f.includes(h)},p.prototype._addParent=function(h){var f=this._parentage;this._parentage=Array.isArray(f)?(f.push(h),f):f?[f,h]:h},p.prototype._removeParent=function(h){var f=this._parentage;f===h?this._parentage=null:Array.isArray(f)&&s.arrRemove(f,h)},p.prototype.remove=function(h){var f=this._finalizers;f&&s.arrRemove(f,h),h instanceof p&&h._removeParent(this)},p.EMPTY=function(){var h=new p;return h.closed=!0,h}(),p}();t.Subscription=a,t.EMPTY_SUBSCRIPTION=a.EMPTY;function c(p){return p instanceof a||p&&"closed"in p&&i.isFunction(p.remove)&&i.isFunction(p.add)&&i.isFunction(p.unsubscribe)}t.isSubscription=c;function l(p){i.isFunction(p)?p():p.unsubscribe()}}),hl=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}}),kT=N(t=>{"use strict";var r=t&&t.__read||function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,c=[],l;try{for(;(i===void 0||i-- >0)&&!(a=s.next()).done;)c.push(a.value)}catch(p){l={error:p}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(l)throw l.error}}return c},e=t&&t.__spreadArray||function(n,i){for(var o=0,s=i.length,a=n.length;o<s;o++,a++)n[a]=i[o];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(n,i){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=t.timeoutProvider.delegate;return a!=null&&a.setTimeout?a.setTimeout.apply(a,e([n,i],r(o))):setTimeout.apply(void 0,e([n,i],r(o)))},clearTimeout:function(n){var i=t.timeoutProvider.delegate;return((i==null?void 0:i.clearTimeout)||clearTimeout)(n)},delegate:void 0}}),LT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var r=hl(),e=kT();function n(i){e.timeoutProvider.setTimeout(function(){var o=r.config.onUnhandledError;if(o)o(i);else throw i})}t.reportUnhandledError=n}),pr=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0;function r(){}t.noop=r}),Q$=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=function(){return n("C",void 0,void 0)}();function r(i){return n("E",void 0,i)}t.errorNotification=r;function e(i){return n("N",i,void 0)}t.nextNotification=e;function n(i,o,s){return{kind:i,value:o,error:s}}t.createNotification=n}),L_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var r=hl(),e=null;function n(o){if(r.config.useDeprecatedSynchronousErrorHandling){var s=!e;if(s&&(e={errorThrown:!1,error:null}),o(),s){var a=e,c=a.errorThrown,l=a.error;if(e=null,c)throw l}}else o()}t.errorContext=n;function i(o){r.config.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=o)}t.captureError=i}),ml=N(t=>{"use strict";var r=t&&t.__extends||function(){var x=function(C,I){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,P){k.__proto__=P}||function(k,P){for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(k[D]=P[D])},x(C,I)};return function(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");x(C,I);function k(){this.constructor=C}C.prototype=I===null?Object.create(I):(k.prototype=I.prototype,new k)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var e=ht(),n=hn(),i=hl(),o=LT(),s=pr(),a=Q$(),c=kT(),l=L_(),p=function(x){r(C,x);function C(I){var k=x.call(this)||this;return k.isStopped=!1,I?(k.destination=I,n.isSubscription(I)&&I.add(k)):k.destination=t.EMPTY_OBSERVER,k}return C.create=function(I,k,P){return new g(I,k,P)},C.prototype.next=function(I){this.isStopped?S(a.nextNotification(I),this):this._next(I)},C.prototype.error=function(I){this.isStopped?S(a.errorNotification(I),this):(this.isStopped=!0,this._error(I))},C.prototype.complete=function(){this.isStopped?S(a.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},C.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,x.prototype.unsubscribe.call(this),this.destination=null)},C.prototype._next=function(I){this.destination.next(I)},C.prototype._error=function(I){try{this.destination.error(I)}finally{this.unsubscribe()}},C.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},C}(n.Subscription);t.Subscriber=p;var h=Function.prototype.bind;function f(x,C){return h.call(x,C)}var b=function(){function x(C){this.partialObserver=C}return x.prototype.next=function(C){var I=this.partialObserver;if(I.next)try{I.next(C)}catch(k){w(k)}},x.prototype.error=function(C){var I=this.partialObserver;if(I.error)try{I.error(C)}catch(k){w(k)}else w(C)},x.prototype.complete=function(){var C=this.partialObserver;if(C.complete)try{C.complete()}catch(I){w(I)}},x}(),g=function(x){r(C,x);function C(I,k,P){var D=x.call(this)||this,j;if(e.isFunction(I)||!I)j={next:I??void 0,error:k??void 0,complete:P??void 0};else{var L;D&&i.config.useDeprecatedNextContext?(L=Object.create(I),L.unsubscribe=function(){return D.unsubscribe()},j={next:I.next&&f(I.next,L),error:I.error&&f(I.error,L),complete:I.complete&&f(I.complete,L)}):j=I}return D.destination=new b(j),D}return C}(p);t.SafeSubscriber=g;function w(x){i.config.useDeprecatedSynchronousErrorHandling?l.captureError(x):o.reportUnhandledError(x)}function _(x){throw x}function S(x,C){var I=i.config.onStoppedNotification;I&&c.timeoutProvider.setTimeout(function(){return I(x,C)})}t.EMPTY_OBSERVER={closed:!0,next:s.noop,error:_,complete:s.noop}}),Sf=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()}),fr=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0;function r(e){return e}t.identity=r}),Pf=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var r=fr();function e(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n(i)}t.pipe=e;function n(i){return i.length===0?r.identity:i.length===1?i[0]:function(o){return i.reduce(function(s,a){return a(s)},o)}}t.pipeFromArray=n}),gt=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var r=ml(),e=hn(),n=Sf(),i=Pf(),o=hl(),s=ht(),a=L_(),c=function(){function f(b){b&&(this._subscribe=b)}return f.prototype.lift=function(b){var g=new f;return g.source=this,g.operator=b,g},f.prototype.subscribe=function(b,g,w){var _=this,S=h(b)?b:new r.SafeSubscriber(b,g,w);return a.errorContext(function(){var x=_,C=x.operator,I=x.source;S.add(C?C.call(S,I):I?_._subscribe(S):_._trySubscribe(S))}),S},f.prototype._trySubscribe=function(b){try{return this._subscribe(b)}catch(g){b.error(g)}},f.prototype.forEach=function(b,g){var w=this;return g=l(g),new g(function(_,S){var x=new r.SafeSubscriber({next:function(C){try{b(C)}catch(I){S(I),x.unsubscribe()}},error:S,complete:_});w.subscribe(x)})},f.prototype._subscribe=function(b){var g;return(g=this.source)===null||g===void 0?void 0:g.subscribe(b)},f.prototype[n.observable]=function(){return this},f.prototype.pipe=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];return i.pipeFromArray(b)(this)},f.prototype.toPromise=function(b){var g=this;return b=l(b),new b(function(w,_){var S;g.subscribe(function(x){return S=x},function(x){return _(x)},function(){return w(S)})})},f.create=function(b){return new f(b)},f}();t.Observable=c;function l(f){var b;return(b=f??o.config.Promise)!==null&&b!==void 0?b:Promise}function p(f){return f&&s.isFunction(f.next)&&s.isFunction(f.error)&&s.isFunction(f.complete)}function h(f){return f&&f instanceof r.Subscriber||p(f)&&e.isSubscription(f)}}),ce=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var r=ht();function e(i){return r.isFunction(i==null?void 0:i.lift)}t.hasLift=e;function n(i){return function(o){if(e(o))return o.lift(function(s){try{return i(s,this)}catch(a){this.error(a)}});throw new TypeError("Unable to lift unknown Observable type")}}t.operate=n}),ve=N(t=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(c[p]=l[p])},o(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var e=ml();function n(o,s,a,c,l){return new i(o,s,a,c,l)}t.createOperatorSubscriber=n;var i=function(o){r(s,o);function s(a,c,l,p,h,f){var b=o.call(this,a)||this;return b.onFinalize=h,b.shouldUnsubscribe=f,b._next=c?function(g){try{c(g)}catch(w){a.error(w)}}:o.prototype._next,b._error=p?function(g){try{p(g)}catch(w){a.error(w)}finally{this.unsubscribe()}}:o.prototype._error,b._complete=l?function(){try{l()}catch(g){a.error(g)}finally{this.unsubscribe()}}:o.prototype._complete,b}return s.prototype.unsubscribe=function(){var a;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var c=this.closed;o.prototype.unsubscribe.call(this),!c&&((a=this.onFinalize)===null||a===void 0||a.call(this))}},s}(e.Subscriber);t.OperatorSubscriber=i}),RT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var r=ce(),e=ve();function n(){return r.operate(function(i,o){var s=null;i._refCount++;var a=e.createOperatorSubscriber(o,void 0,void 0,void 0,function(){if(!i||i._refCount<=0||0<--i._refCount){s=null;return}var c=i._connection,l=s;s=null,c&&(!l||c===l)&&c.unsubscribe(),o.unsubscribe()});i.subscribe(a),a.closed||(s=i.connect())})}t.refCount=n}),Tf=N(t=>{"use strict";var r=t&&t.__extends||function(){var c=function(l,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(h[b]=f[b])},c(l,p)};return function(l,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");c(l,p);function h(){this.constructor=l}l.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var e=gt(),n=hn(),i=RT(),o=ve(),s=ce(),a=function(c){r(l,c);function l(p,h){var f=c.call(this)||this;return f.source=p,f.subjectFactory=h,f._subject=null,f._refCount=0,f._connection=null,s.hasLift(p)&&(f.lift=p.lift),f}return l.prototype._subscribe=function(p){return this.getSubject().subscribe(p)},l.prototype.getSubject=function(){var p=this._subject;return(!p||p.isStopped)&&(this._subject=this.subjectFactory()),this._subject},l.prototype._teardown=function(){this._refCount=0;var p=this._connection;this._subject=this._connection=null,p==null||p.unsubscribe()},l.prototype.connect=function(){var p=this,h=this._connection;if(!h){h=this._connection=new n.Subscription;var f=this.getSubject();h.add(this.source.subscribe(o.createOperatorSubscriber(f,void 0,function(){p._teardown(),f.complete()},function(b){p._teardown(),f.error(b)},function(){return p._teardown()}))),h.closed&&(this._connection=null,h=n.Subscription.EMPTY)}return h},l.prototype.refCount=function(){return i.refCount()(this)},l}(e.Observable);t.ConnectableObservable=a}),eU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceTimestampProvider=void 0,t.performanceTimestampProvider={now:function(){return(t.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}}),NT=N(t=>{"use strict";var r=t&&t.__read||function(i,o){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var a=s.call(i),c,l=[],p;try{for(;(o===void 0||o-- >0)&&!(c=a.next()).done;)l.push(c.value)}catch(h){p={error:h}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(p)throw p.error}}return l},e=t&&t.__spreadArray||function(i,o){for(var s=0,a=o.length,c=i.length;s<a;s++,c++)i[c]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrameProvider=void 0;var n=hn();t.animationFrameProvider={schedule:function(i){var o=requestAnimationFrame,s=cancelAnimationFrame,a=t.animationFrameProvider.delegate;a&&(o=a.requestAnimationFrame,s=a.cancelAnimationFrame);var c=o(function(l){s=void 0,i(l)});return new n.Subscription(function(){return s==null?void 0:s(c)})},requestAnimationFrame:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=t.animationFrameProvider.delegate;return((s==null?void 0:s.requestAnimationFrame)||requestAnimationFrame).apply(void 0,e([],r(i)))},cancelAnimationFrame:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=t.animationFrameProvider.delegate;return((s==null?void 0:s.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,e([],r(i)))},delegate:void 0}}),tU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrames=void 0;var r=gt(),e=eU(),n=NT();function i(a){return a?o(a):s}t.animationFrames=i;function o(a){return new r.Observable(function(c){var l=a||e.performanceTimestampProvider,p=l.now(),h=0,f=function(){c.closed||(h=n.animationFrameProvider.requestAnimationFrame(function(b){h=0;var g=l.now();c.next({timestamp:a?g:b,elapsed:g-p}),f()}))};return f(),function(){h&&n.animationFrameProvider.cancelAnimationFrame(h)}})}var s=o()}),FT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var r=gs();t.ObjectUnsubscribedError=r.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})}),hr=N(t=>{"use strict";var r=t&&t.__extends||function(){var p=function(h,f){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(b[w]=g[w])},p(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");p(h,f);function b(){this.constructor=h}h.prototype=f===null?Object.create(f):(b.prototype=f.prototype,new b)}}(),e=t&&t.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,f=h&&p[h],b=0;if(f)return f.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&b>=p.length&&(p=void 0),{value:p&&p[b++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var n=gt(),i=hn(),o=FT(),s=po(),a=L_(),c=function(p){r(h,p);function h(){var f=p.call(this)||this;return f.closed=!1,f.currentObservers=null,f.observers=[],f.isStopped=!1,f.hasError=!1,f.thrownError=null,f}return h.prototype.lift=function(f){var b=new l(this,this);return b.operator=f,b},h.prototype._throwIfClosed=function(){if(this.closed)throw new o.ObjectUnsubscribedError},h.prototype.next=function(f){var b=this;a.errorContext(function(){var g,w;if(b._throwIfClosed(),!b.isStopped){b.currentObservers||(b.currentObservers=Array.from(b.observers));try{for(var _=e(b.currentObservers),S=_.next();!S.done;S=_.next()){var x=S.value;x.next(f)}}catch(C){g={error:C}}finally{try{S&&!S.done&&(w=_.return)&&w.call(_)}finally{if(g)throw g.error}}}})},h.prototype.error=function(f){var b=this;a.errorContext(function(){if(b._throwIfClosed(),!b.isStopped){b.hasError=b.isStopped=!0,b.thrownError=f;for(var g=b.observers;g.length;)g.shift().error(f)}})},h.prototype.complete=function(){var f=this;a.errorContext(function(){if(f._throwIfClosed(),!f.isStopped){f.isStopped=!0;for(var b=f.observers;b.length;)b.shift().complete()}})},h.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(h.prototype,"observed",{get:function(){var f;return((f=this.observers)===null||f===void 0?void 0:f.length)>0},enumerable:!1,configurable:!0}),h.prototype._trySubscribe=function(f){return this._throwIfClosed(),p.prototype._trySubscribe.call(this,f)},h.prototype._subscribe=function(f){return this._throwIfClosed(),this._checkFinalizedStatuses(f),this._innerSubscribe(f)},h.prototype._innerSubscribe=function(f){var b=this,g=this,w=g.hasError,_=g.isStopped,S=g.observers;return w||_?i.EMPTY_SUBSCRIPTION:(this.currentObservers=null,S.push(f),new i.Subscription(function(){b.currentObservers=null,s.arrRemove(S,f)}))},h.prototype._checkFinalizedStatuses=function(f){var b=this,g=b.hasError,w=b.thrownError,_=b.isStopped;g?f.error(w):_&&f.complete()},h.prototype.asObservable=function(){var f=new n.Observable;return f.source=this,f},h.create=function(f,b){return new l(f,b)},h}(n.Observable);t.Subject=c;var l=function(p){r(h,p);function h(f,b){var g=p.call(this)||this;return g.destination=f,g.source=b,g}return h.prototype.next=function(f){var b,g;(g=(b=this.destination)===null||b===void 0?void 0:b.next)===null||g===void 0||g.call(b,f)},h.prototype.error=function(f){var b,g;(g=(b=this.destination)===null||b===void 0?void 0:b.error)===null||g===void 0||g.call(b,f)},h.prototype.complete=function(){var f,b;(b=(f=this.destination)===null||f===void 0?void 0:f.complete)===null||b===void 0||b.call(f)},h.prototype._subscribe=function(f){var b,g;return(g=(b=this.source)===null||b===void 0?void 0:b.subscribe(f))!==null&&g!==void 0?g:i.EMPTY_SUBSCRIPTION},h}(c);t.AnonymousSubject=l}),jT=N(t=>{"use strict";var r=t&&t.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(a[l]=c[l])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var e=hr(),n=function(i){r(o,i);function o(s){var a=i.call(this)||this;return a._value=s,a}return Object.defineProperty(o.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),o.prototype._subscribe=function(s){var a=i.prototype._subscribe.call(this,s);return!a.closed&&s.next(this._value),a},o.prototype.getValue=function(){var s=this,a=s.hasError,c=s.thrownError,l=s._value;if(a)throw c;return this._throwIfClosed(),l},o.prototype.next=function(s){i.prototype.next.call(this,this._value=s)},o}(e.Subject);t.BehaviorSubject=n}),R_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}}),N_=N(t=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(c[p]=l[p])},o(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var e=hr(),n=R_(),i=function(o){r(s,o);function s(a,c,l){a===void 0&&(a=1/0),c===void 0&&(c=1/0),l===void 0&&(l=n.dateTimestampProvider);var p=o.call(this)||this;return p._bufferSize=a,p._windowTime=c,p._timestampProvider=l,p._buffer=[],p._infiniteTimeWindow=!0,p._infiniteTimeWindow=c===1/0,p._bufferSize=Math.max(1,a),p._windowTime=Math.max(1,c),p}return s.prototype.next=function(a){var c=this,l=c.isStopped,p=c._buffer,h=c._infiniteTimeWindow,f=c._timestampProvider,b=c._windowTime;l||(p.push(a),!h&&p.push(f.now()+b)),this._trimBuffer(),o.prototype.next.call(this,a)},s.prototype._subscribe=function(a){this._throwIfClosed(),this._trimBuffer();for(var c=this._innerSubscribe(a),l=this,p=l._infiniteTimeWindow,h=l._buffer,f=h.slice(),b=0;b<f.length&&!a.closed;b+=p?1:2)a.next(f[b]);return this._checkFinalizedStatuses(a),c},s.prototype._trimBuffer=function(){var a=this,c=a._bufferSize,l=a._timestampProvider,p=a._buffer,h=a._infiniteTimeWindow,f=(h?1:2)*c;if(c<1/0&&f<p.length&&p.splice(0,p.length-f),!h){for(var b=l.now(),g=0,w=1;w<p.length&&p[w]<=b;w+=2)g=w;g&&p.splice(0,g+1)}},s}(e.Subject);t.ReplaySubject=i}),F_=N(t=>{"use strict";var r=t&&t.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(a[l]=c[l])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var e=hr(),n=function(i){r(o,i);function o(){var s=i!==null&&i.apply(this,arguments)||this;return s._value=null,s._hasValue=!1,s._isComplete=!1,s}return o.prototype._checkFinalizedStatuses=function(s){var a=this,c=a.hasError,l=a._hasValue,p=a._value,h=a.thrownError,f=a.isStopped,b=a._isComplete;c?s.error(h):(f||b)&&(l&&s.next(p),s.complete())},o.prototype.next=function(s){this.isStopped||(this._value=s,this._hasValue=!0)},o.prototype.complete=function(){var s=this,a=s._hasValue,c=s._value,l=s._isComplete;l||(this._isComplete=!0,a&&i.prototype.next.call(this,c),i.prototype.complete.call(this))},o}(e.Subject);t.AsyncSubject=n}),rU=N(t=>{"use strict";var r=t&&t.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(a[l]=c[l])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var e=hn(),n=function(i){r(o,i);function o(s,a){return i.call(this)||this}return o.prototype.schedule=function(s,a){return a===void 0&&(a=0),this},o}(e.Subscription);t.Action=n}),nU=N(t=>{"use strict";var r=t&&t.__read||function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,c=[],l;try{for(;(i===void 0||i-- >0)&&!(a=s.next()).done;)c.push(a.value)}catch(p){l={error:p}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(l)throw l.error}}return c},e=t&&t.__spreadArray||function(n,i){for(var o=0,s=i.length,a=n.length;o<s;o++,a++)n[a]=i[o];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(n,i){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=t.intervalProvider.delegate;return a!=null&&a.setInterval?a.setInterval.apply(a,e([n,i],r(o))):setInterval.apply(void 0,e([n,i],r(o)))},clearInterval:function(n){var i=t.intervalProvider.delegate;return((i==null?void 0:i.clearInterval)||clearInterval)(n)},delegate:void 0}}),vl=N(t=>{"use strict";var r=t&&t.__extends||function(){var s=function(a,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,p){l.__proto__=p}||function(l,p){for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(l[h]=p[h])},s(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(a,c);function l(){this.constructor=a}a.prototype=c===null?Object.create(c):(l.prototype=c.prototype,new l)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var e=rU(),n=nU(),i=po(),o=function(s){r(a,s);function a(c,l){var p=s.call(this,c,l)||this;return p.scheduler=c,p.work=l,p.pending=!1,p}return a.prototype.schedule=function(c,l){var p;if(l===void 0&&(l=0),this.closed)return this;this.state=c;var h=this.id,f=this.scheduler;return h!=null&&(this.id=this.recycleAsyncId(f,h,l)),this.pending=!0,this.delay=l,this.id=(p=this.id)!==null&&p!==void 0?p:this.requestAsyncId(f,this.id,l),this},a.prototype.requestAsyncId=function(c,l,p){return p===void 0&&(p=0),n.intervalProvider.setInterval(c.flush.bind(c,this),p)},a.prototype.recycleAsyncId=function(c,l,p){if(p===void 0&&(p=0),p!=null&&this.delay===p&&this.pending===!1)return l;l!=null&&n.intervalProvider.clearInterval(l)},a.prototype.execute=function(c,l){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var p=this._execute(c,l);if(p)return p;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},a.prototype._execute=function(c,l){var p=!1,h;try{this.work(c)}catch(f){p=!0,h=f||new Error("Scheduled action threw falsy error")}if(p)return this.unsubscribe(),h},a.prototype.unsubscribe=function(){if(!this.closed){var c=this,l=c.id,p=c.scheduler,h=p.actions;this.work=this.state=this.scheduler=null,this.pending=!1,i.arrRemove(h,this),l!=null&&(this.id=this.recycleAsyncId(p,l,null)),this.delay=null,s.prototype.unsubscribe.call(this)}},a}(e.Action);t.AsyncAction=o}),iU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestTools=t.Immediate=void 0;var r=1,e,n={};function i(o){return o in n?(delete n[o],!0):!1}t.Immediate={setImmediate:function(o){var s=r++;return n[s]=!0,e||(e=Promise.resolve()),e.then(function(){return i(s)&&o()}),s},clearImmediate:function(o){i(o)}},t.TestTools={pending:function(){return Object.keys(n).length}}}),oU=N(t=>{"use strict";var r=t&&t.__read||function(s,a){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var l=c.call(s),p,h=[],f;try{for(;(a===void 0||a-- >0)&&!(p=l.next()).done;)h.push(p.value)}catch(b){f={error:b}}finally{try{p&&!p.done&&(c=l.return)&&c.call(l)}finally{if(f)throw f.error}}return h},e=t&&t.__spreadArray||function(s,a){for(var c=0,l=a.length,p=s.length;c<l;c++,p++)s[p]=a[c];return s};Object.defineProperty(t,"__esModule",{value:!0}),t.immediateProvider=void 0;var n=iU(),i=n.Immediate.setImmediate,o=n.Immediate.clearImmediate;t.immediateProvider={setImmediate:function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var c=t.immediateProvider.delegate;return((c==null?void 0:c.setImmediate)||i).apply(void 0,e([],r(s)))},clearImmediate:function(s){var a=t.immediateProvider.delegate;return((a==null?void 0:a.clearImmediate)||o)(s)},delegate:void 0}}),sU=N(t=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(c[p]=l[p])},o(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsapAction=void 0;var e=vl(),n=oU(),i=function(o){r(s,o);function s(a,c){var l=o.call(this,a,c)||this;return l.scheduler=a,l.work=c,l}return s.prototype.requestAsyncId=function(a,c,l){return l===void 0&&(l=0),l!==null&&l>0?o.prototype.requestAsyncId.call(this,a,c,l):(a.actions.push(this),a._scheduled||(a._scheduled=n.immediateProvider.setImmediate(a.flush.bind(a,void 0))))},s.prototype.recycleAsyncId=function(a,c,l){var p;if(l===void 0&&(l=0),l!=null?l>0:this.delay>0)return o.prototype.recycleAsyncId.call(this,a,c,l);var h=a.actions;c!=null&&((p=h[h.length-1])===null||p===void 0?void 0:p.id)!==c&&(n.immediateProvider.clearImmediate(c),a._scheduled===c&&(a._scheduled=void 0))},s}(e.AsyncAction);t.AsapAction=i}),DT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var r=R_(),e=function(){function n(i,o){o===void 0&&(o=n.now),this.schedulerActionCtor=i,this.now=o}return n.prototype.schedule=function(i,o,s){return o===void 0&&(o=0),new this.schedulerActionCtor(this,i).schedule(s,o)},n.now=r.dateTimestampProvider.now,n}();t.Scheduler=e}),bl=N(t=>{"use strict";var r=t&&t.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(a[l]=c[l])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var e=DT(),n=function(i){r(o,i);function o(s,a){a===void 0&&(a=e.Scheduler.now);var c=i.call(this,s,a)||this;return c.actions=[],c._active=!1,c}return o.prototype.flush=function(s){var a=this.actions;if(this._active){a.push(s);return}var c;this._active=!0;do if(c=s.execute(s.state,s.delay))break;while(s=a.shift());if(this._active=!1,c){for(;s=a.shift();)s.unsubscribe();throw c}},o}(e.Scheduler);t.AsyncScheduler=n}),aU=N(t=>{"use strict";var r=t&&t.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(a[l]=c[l])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AsapScheduler=void 0;var e=bl(),n=function(i){r(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return o.prototype.flush=function(s){this._active=!0;var a=this._scheduled;this._scheduled=void 0;var c=this.actions,l;s=s||c.shift();do if(l=s.execute(s.state,s.delay))break;while((s=c[0])&&s.id===a&&c.shift());if(this._active=!1,l){for(;(s=c[0])&&s.id===a&&c.shift();)s.unsubscribe();throw l}},o}(e.AsyncScheduler);t.AsapScheduler=n}),uU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asap=t.asapScheduler=void 0;var r=sU(),e=aU();t.asapScheduler=new e.AsapScheduler(r.AsapAction),t.asap=t.asapScheduler}),Gr=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var r=vl(),e=bl();t.asyncScheduler=new e.AsyncScheduler(r.AsyncAction),t.async=t.asyncScheduler}),cU=N(t=>{"use strict";var r=t&&t.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(a[l]=c[l])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QueueAction=void 0;var e=vl(),n=function(i){r(o,i);function o(s,a){var c=i.call(this,s,a)||this;return c.scheduler=s,c.work=a,c}return o.prototype.schedule=function(s,a){return a===void 0&&(a=0),a>0?i.prototype.schedule.call(this,s,a):(this.delay=a,this.state=s,this.scheduler.flush(this),this)},o.prototype.execute=function(s,a){return a>0||this.closed?i.prototype.execute.call(this,s,a):this._execute(s,a)},o.prototype.requestAsyncId=function(s,a,c){return c===void 0&&(c=0),c!=null&&c>0||c==null&&this.delay>0?i.prototype.requestAsyncId.call(this,s,a,c):(s.flush(this),0)},o}(e.AsyncAction);t.QueueAction=n}),lU=N(t=>{"use strict";var r=t&&t.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(a[l]=c[l])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QueueScheduler=void 0;var e=bl(),n=function(i){r(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return o}(e.AsyncScheduler);t.QueueScheduler=n}),dU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.queueScheduler=void 0;var r=cU(),e=lU();t.queueScheduler=new e.QueueScheduler(r.QueueAction),t.queue=t.queueScheduler}),pU=N(t=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(c[p]=l[p])},o(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameAction=void 0;var e=vl(),n=NT(),i=function(o){r(s,o);function s(a,c){var l=o.call(this,a,c)||this;return l.scheduler=a,l.work=c,l}return s.prototype.requestAsyncId=function(a,c,l){return l===void 0&&(l=0),l!==null&&l>0?o.prototype.requestAsyncId.call(this,a,c,l):(a.actions.push(this),a._scheduled||(a._scheduled=n.animationFrameProvider.requestAnimationFrame(function(){return a.flush(void 0)})))},s.prototype.recycleAsyncId=function(a,c,l){var p;if(l===void 0&&(l=0),l!=null?l>0:this.delay>0)return o.prototype.recycleAsyncId.call(this,a,c,l);var h=a.actions;c!=null&&((p=h[h.length-1])===null||p===void 0?void 0:p.id)!==c&&(n.animationFrameProvider.cancelAnimationFrame(c),a._scheduled=void 0)},s}(e.AsyncAction);t.AnimationFrameAction=i}),fU=N(t=>{"use strict";var r=t&&t.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(a[l]=c[l])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameScheduler=void 0;var e=bl(),n=function(i){r(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return o.prototype.flush=function(s){this._active=!0;var a=this._scheduled;this._scheduled=void 0;var c=this.actions,l;s=s||c.shift();do if(l=s.execute(s.state,s.delay))break;while((s=c[0])&&s.id===a&&c.shift());if(this._active=!1,l){for(;(s=c[0])&&s.id===a&&c.shift();)s.unsubscribe();throw l}},o}(e.AsyncScheduler);t.AnimationFrameScheduler=n}),hU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=t.animationFrameScheduler=void 0;var r=pU(),e=fU();t.animationFrameScheduler=new e.AnimationFrameScheduler(r.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler}),mU=N(t=>{"use strict";var r=t&&t.__extends||function(){var a=function(c,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(p[f]=h[f])},a(c,l)};return function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");a(c,l);function p(){this.constructor=c}c.prototype=l===null?Object.create(l):(p.prototype=l.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualAction=t.VirtualTimeScheduler=void 0;var e=vl(),n=hn(),i=bl(),o=function(a){r(c,a);function c(l,p){l===void 0&&(l=s),p===void 0&&(p=1/0);var h=a.call(this,l,function(){return h.frame})||this;return h.maxFrames=p,h.frame=0,h.index=-1,h}return c.prototype.flush=function(){for(var l=this,p=l.actions,h=l.maxFrames,f,b;(b=p[0])&&b.delay<=h&&(p.shift(),this.frame=b.delay,!(f=b.execute(b.state,b.delay))););if(f){for(;b=p.shift();)b.unsubscribe();throw f}},c.frameTimeFactor=10,c}(i.AsyncScheduler);t.VirtualTimeScheduler=o;var s=function(a){r(c,a);function c(l,p,h){h===void 0&&(h=l.index+=1);var f=a.call(this,l,p)||this;return f.scheduler=l,f.work=p,f.index=h,f.active=!0,f.index=l.index=h,f}return c.prototype.schedule=function(l,p){if(p===void 0&&(p=0),Number.isFinite(p)){if(!this.id)return a.prototype.schedule.call(this,l,p);this.active=!1;var h=new c(this.scheduler,this.work);return this.add(h),h.schedule(l,p)}else return n.Subscription.EMPTY},c.prototype.requestAsyncId=function(l,p,h){h===void 0&&(h=0),this.delay=l.frame+h;var f=l.actions;return f.push(this),f.sort(c.sortActions),1},c.prototype.recycleAsyncId=function(l,p,h){h===void 0&&(h=0)},c.prototype._execute=function(l,p){if(this.active===!0)return a.prototype._execute.call(this,l,p)},c.sortActions=function(l,p){return l.delay===p.delay?l.index===p.index?0:l.index>p.index?1:-1:l.delay>p.delay?1:-1},c}(e.AsyncAction);t.VirtualAction=s}),ii=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var r=gt();t.EMPTY=new r.Observable(function(i){return i.complete()});function e(i){return i?n(i):t.EMPTY}t.empty=e;function n(i){return new r.Observable(function(o){return i.schedule(function(){return o.complete()})})}}),xf=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var r=ht();function e(n){return n&&r.isFunction(n.schedule)}t.isScheduler=e}),Zr=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var r=ht(),e=xf();function n(a){return a[a.length-1]}function i(a){return r.isFunction(n(a))?a.pop():void 0}t.popResultSelector=i;function o(a){return e.isScheduler(n(a))?a.pop():void 0}t.popScheduler=o;function s(a,c){return typeof n(a)=="number"?a.pop():c}t.popNumber=s}),j_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}}),qT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var r=ht();function e(n){return r.isFunction(n==null?void 0:n.then)}t.isPromise=e}),BT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var r=Sf(),e=ht();function n(i){return e.isFunction(i[r.observable])}t.isInteropObservable=n}),WT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var r=ht();function e(n){return Symbol.asyncIterator&&r.isFunction(n==null?void 0:n[Symbol.asyncIterator])}t.isAsyncIterable=e}),$T=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0;function r(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}t.createInvalidObservableTypeError=r}),UT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0;function r(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}t.getSymbolIterator=r,t.iterator=r()}),zT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var r=UT(),e=ht();function n(i){return e.isFunction(i==null?void 0:i[r.iterator])}t.isIterable=n}),D_=N(t=>{"use strict";var r=t&&t.__generator||function(a,c){var l={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},p,h,f,b;return b={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function g(_){return function(S){return w([_,S])}}function w(_){if(p)throw new TypeError("Generator is already executing.");for(;l;)try{if(p=1,h&&(f=_[0]&2?h.return:_[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,_[1])).done)return f;switch(h=0,f&&(_=[_[0]&2,f.value]),_[0]){case 0:case 1:f=_;break;case 4:return l.label++,{value:_[1],done:!1};case 5:l.label++,h=_[1],_=[0];continue;case 7:_=l.ops.pop(),l.trys.pop();continue;default:if(f=l.trys,!(f=f.length>0&&f[f.length-1])&&(_[0]===6||_[0]===2)){l=0;continue}if(_[0]===3&&(!f||_[1]>f[0]&&_[1]<f[3])){l.label=_[1];break}if(_[0]===6&&l.label<f[1]){l.label=f[1],f=_;break}if(f&&l.label<f[2]){l.label=f[2],l.ops.push(_);break}f[2]&&l.ops.pop(),l.trys.pop();continue}_=c.call(a,l)}catch(S){_=[6,S],h=0}finally{p=f=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},e=t&&t.__await||function(a){return this instanceof e?(this.v=a,this):new e(a)},n=t&&t.__asyncGenerator||function(a,c,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p=l.apply(a,c||[]),h,f=[];return h={},b("next"),b("throw"),b("return"),h[Symbol.asyncIterator]=function(){return this},h;function b(C){p[C]&&(h[C]=function(I){return new Promise(function(k,P){f.push([C,I,k,P])>1||g(C,I)})})}function g(C,I){try{w(p[C](I))}catch(k){x(f[0][3],k)}}function w(C){C.value instanceof e?Promise.resolve(C.value.v).then(_,S):x(f[0][2],C)}function _(C){g("next",C)}function S(C){g("throw",C)}function x(C,I){C(I),f.shift(),f.length&&g(f[0][0],f[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var i=ht();function o(a){return n(this,arguments,function(){var c,l,p,h;return r(this,function(f){switch(f.label){case 0:c=a.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,e(c.read())];case 3:return l=f.sent(),p=l.value,h=l.done,h?[4,e(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,e(p)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return c.releaseLock(),[7];case 10:return[2]}})})}t.readableStreamLikeToAsyncGenerator=o;function s(a){return i.isFunction(a==null?void 0:a.getReader)}t.isReadableStreamLike=s}),We=N(t=>{"use strict";var r=t&&t.__awaiter||function(j,L,B,Q){function ie(te){return te instanceof B?te:new B(function(be){be(te)})}return new(B||(B=Promise))(function(te,be){function we(Ge){try{oe(Q.next(Ge))}catch(yt){be(yt)}}function ke(Ge){try{oe(Q.throw(Ge))}catch(yt){be(yt)}}function oe(Ge){Ge.done?te(Ge.value):ie(Ge.value).then(we,ke)}oe((Q=Q.apply(j,L||[])).next())})},e=t&&t.__generator||function(j,L){var B={label:0,sent:function(){if(te[0]&1)throw te[1];return te[1]},trys:[],ops:[]},Q,ie,te,be;return be={next:we(0),throw:we(1),return:we(2)},typeof Symbol=="function"&&(be[Symbol.iterator]=function(){return this}),be;function we(oe){return function(Ge){return ke([oe,Ge])}}function ke(oe){if(Q)throw new TypeError("Generator is already executing.");for(;B;)try{if(Q=1,ie&&(te=oe[0]&2?ie.return:oe[0]?ie.throw||((te=ie.return)&&te.call(ie),0):ie.next)&&!(te=te.call(ie,oe[1])).done)return te;switch(ie=0,te&&(oe=[oe[0]&2,te.value]),oe[0]){case 0:case 1:te=oe;break;case 4:return B.label++,{value:oe[1],done:!1};case 5:B.label++,ie=oe[1],oe=[0];continue;case 7:oe=B.ops.pop(),B.trys.pop();continue;default:if(te=B.trys,!(te=te.length>0&&te[te.length-1])&&(oe[0]===6||oe[0]===2)){B=0;continue}if(oe[0]===3&&(!te||oe[1]>te[0]&&oe[1]<te[3])){B.label=oe[1];break}if(oe[0]===6&&B.label<te[1]){B.label=te[1],te=oe;break}if(te&&B.label<te[2]){B.label=te[2],B.ops.push(oe);break}te[2]&&B.ops.pop(),B.trys.pop();continue}oe=L.call(j,B)}catch(Ge){oe=[6,Ge],ie=0}finally{Q=te=0}if(oe[0]&5)throw oe[1];return{value:oe[0]?oe[1]:void 0,done:!0}}},n=t&&t.__asyncValues||function(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L=j[Symbol.asyncIterator],B;return L?L.call(j):(j=typeof i=="function"?i(j):j[Symbol.iterator](),B={},Q("next"),Q("throw"),Q("return"),B[Symbol.asyncIterator]=function(){return this},B);function Q(te){B[te]=j[te]&&function(be){return new Promise(function(we,ke){be=j[te](be),ie(we,ke,be.done,be.value)})}}function ie(te,be,we,ke){Promise.resolve(ke).then(function(oe){te({value:oe,done:we})},be)}},i=t&&t.__values||function(j){var L=typeof Symbol=="function"&&Symbol.iterator,B=L&&j[L],Q=0;if(B)return B.call(j);if(j&&typeof j.length=="number")return{next:function(){return j&&Q>=j.length&&(j=void 0),{value:j&&j[Q++],done:!j}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var o=j_(),s=qT(),a=gt(),c=BT(),l=WT(),p=$T(),h=zT(),f=D_(),b=ht(),g=LT(),w=Sf();function _(j){if(j instanceof a.Observable)return j;if(j!=null){if(c.isInteropObservable(j))return S(j);if(o.isArrayLike(j))return x(j);if(s.isPromise(j))return C(j);if(l.isAsyncIterable(j))return k(j);if(h.isIterable(j))return I(j);if(f.isReadableStreamLike(j))return P(j)}throw p.createInvalidObservableTypeError(j)}t.innerFrom=_;function S(j){return new a.Observable(function(L){var B=j[w.observable]();if(b.isFunction(B.subscribe))return B.subscribe(L);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}t.fromInteropObservable=S;function x(j){return new a.Observable(function(L){for(var B=0;B<j.length&&!L.closed;B++)L.next(j[B]);L.complete()})}t.fromArrayLike=x;function C(j){return new a.Observable(function(L){j.then(function(B){L.closed||(L.next(B),L.complete())},function(B){return L.error(B)}).then(null,g.reportUnhandledError)})}t.fromPromise=C;function I(j){return new a.Observable(function(L){var B,Q;try{for(var ie=i(j),te=ie.next();!te.done;te=ie.next()){var be=te.value;if(L.next(be),L.closed)return}}catch(we){B={error:we}}finally{try{te&&!te.done&&(Q=ie.return)&&Q.call(ie)}finally{if(B)throw B.error}}L.complete()})}t.fromIterable=I;function k(j){return new a.Observable(function(L){D(j,L).catch(function(B){return L.error(B)})})}t.fromAsyncIterable=k;function P(j){return k(f.readableStreamLikeToAsyncGenerator(j))}t.fromReadableStreamLike=P;function D(j,L){var B,Q,ie,te;return r(this,void 0,void 0,function(){var be,we;return e(this,function(ke){switch(ke.label){case 0:ke.trys.push([0,5,6,11]),B=n(j),ke.label=1;case 1:return[4,B.next()];case 2:if(Q=ke.sent(),!!Q.done)return[3,4];if(be=Q.value,L.next(be),L.closed)return[2];ke.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return we=ke.sent(),ie={error:we},[3,11];case 6:return ke.trys.push([6,,9,10]),Q&&!Q.done&&(te=B.return)?[4,te.call(B)]:[3,8];case 7:ke.sent(),ke.label=8;case 8:return[3,10];case 9:if(ie)throw ie.error;return[7];case 10:return[7];case 11:return L.complete(),[2]}})})}}),fo=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0;function r(e,n,i,o,s){o===void 0&&(o=0),s===void 0&&(s=!1);var a=n.schedule(function(){i(),s?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(a),!s)return a}t.executeSchedule=r}),Af=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var r=fo(),e=ce(),n=ve();function i(o,s){return s===void 0&&(s=0),e.operate(function(a,c){a.subscribe(n.createOperatorSubscriber(c,function(l){return r.executeSchedule(c,o,function(){return c.next(l)},s)},function(){return r.executeSchedule(c,o,function(){return c.complete()},s)},function(l){return r.executeSchedule(c,o,function(){return c.error(l)},s)}))})}t.observeOn=i}),Cf=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var r=ce();function e(n,i){return i===void 0&&(i=0),r.operate(function(o,s){s.add(n.schedule(function(){return o.subscribe(s)},i))})}t.subscribeOn=e}),vU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var r=We(),e=Af(),n=Cf();function i(o,s){return r.innerFrom(o).pipe(n.subscribeOn(s),e.observeOn(s))}t.scheduleObservable=i}),bU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var r=We(),e=Af(),n=Cf();function i(o,s){return r.innerFrom(o).pipe(n.subscribeOn(s),e.observeOn(s))}t.schedulePromise=i}),gU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var r=gt();function e(n,i){return new r.Observable(function(o){var s=0;return i.schedule(function(){s===n.length?o.complete():(o.next(n[s++]),o.closed||this.schedule())})})}t.scheduleArray=e}),VT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var r=gt(),e=UT(),n=ht(),i=fo();function o(s,a){return new r.Observable(function(c){var l;return i.executeSchedule(c,a,function(){l=s[e.iterator](),i.executeSchedule(c,a,function(){var p,h,f;try{p=l.next(),h=p.value,f=p.done}catch(b){c.error(b);return}f?c.complete():c.next(h)},0,!0)}),function(){return n.isFunction(l==null?void 0:l.return)&&l.return()}})}t.scheduleIterable=o}),HT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var r=gt(),e=fo();function n(i,o){if(!i)throw new Error("Iterable cannot be null");return new r.Observable(function(s){e.executeSchedule(s,o,function(){var a=i[Symbol.asyncIterator]();e.executeSchedule(s,o,function(){a.next().then(function(c){c.done?s.complete():s.next(c.value)})},0,!0)})})}t.scheduleAsyncIterable=n}),yU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var r=HT(),e=D_();function n(i,o){return r.scheduleAsyncIterable(e.readableStreamLikeToAsyncGenerator(i),o)}t.scheduleReadableStreamLike=n}),GT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var r=vU(),e=bU(),n=gU(),i=VT(),o=HT(),s=BT(),a=qT(),c=j_(),l=zT(),p=WT(),h=$T(),f=D_(),b=yU();function g(w,_){if(w!=null){if(s.isInteropObservable(w))return r.scheduleObservable(w,_);if(c.isArrayLike(w))return n.scheduleArray(w,_);if(a.isPromise(w))return e.schedulePromise(w,_);if(p.isAsyncIterable(w))return o.scheduleAsyncIterable(w,_);if(l.isIterable(w))return i.scheduleIterable(w,_);if(f.isReadableStreamLike(w))return b.scheduleReadableStreamLike(w,_)}throw h.createInvalidObservableTypeError(w)}t.scheduled=g}),ho=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var r=GT(),e=We();function n(i,o){return o?r.scheduled(i,o):e.innerFrom(i)}t.from=n}),q_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var r=Zr(),e=ho();function n(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=r.popScheduler(i);return e.from(i,s)}t.of=n}),ZT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var r=gt(),e=ht();function n(i,o){var s=e.isFunction(i)?i:function(){return i},a=function(c){return c.error(s())};return new r.Observable(o?function(c){return o.schedule(a,0,c)}:a)}t.throwError=n}),B_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var r=ii(),e=q_(),n=ZT(),i=ht(),o;(function(c){c.NEXT="N",c.ERROR="E",c.COMPLETE="C"})(o=t.NotificationKind||(t.NotificationKind={}));var s=function(){function c(l,p,h){this.kind=l,this.value=p,this.error=h,this.hasValue=l==="N"}return c.prototype.observe=function(l){return a(this,l)},c.prototype.do=function(l,p,h){var f=this,b=f.kind,g=f.value,w=f.error;return b==="N"?l==null?void 0:l(g):b==="E"?p==null?void 0:p(w):h==null?void 0:h()},c.prototype.accept=function(l,p,h){var f;return i.isFunction((f=l)===null||f===void 0?void 0:f.next)?this.observe(l):this.do(l,p,h)},c.prototype.toObservable=function(){var l=this,p=l.kind,h=l.value,f=l.error,b=p==="N"?e.of(h):p==="E"?n.throwError(function(){return f}):p==="C"?r.EMPTY:0;if(!b)throw new TypeError("Unexpected notification kind "+p);return b},c.createNext=function(l){return new c("N",l)},c.createError=function(l){return new c("E",void 0,l)},c.createComplete=function(){return c.completeNotification},c.completeNotification=new c("C"),c}();t.Notification=s;function a(c,l){var p,h,f,b=c,g=b.kind,w=b.value,_=b.error;if(typeof g!="string")throw new TypeError('Invalid notification, missing "kind"');g==="N"?(p=l.next)===null||p===void 0||p.call(l,w):g==="E"?(h=l.error)===null||h===void 0||h.call(l,_):(f=l.complete)===null||f===void 0||f.call(l)}t.observeNotification=a}),_U=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObservable=void 0;var r=gt(),e=ht();function n(i){return!!i&&(i instanceof r.Observable||e.isFunction(i.lift)&&e.isFunction(i.subscribe))}t.isObservable=n}),ys=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var r=gs();t.EmptyError=r.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})}),wU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lastValueFrom=void 0;var r=ys();function e(n,i){var o=typeof i=="object";return new Promise(function(s,a){var c=!1,l;n.subscribe({next:function(p){l=p,c=!0},error:a,complete:function(){c?s(l):o?s(i.defaultValue):a(new r.EmptyError)}})})}t.lastValueFrom=e}),EU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firstValueFrom=void 0;var r=ys(),e=ml();function n(i,o){var s=typeof o=="object";return new Promise(function(a,c){var l=new e.SafeSubscriber({next:function(p){a(p),l.unsubscribe()},error:c,complete:function(){s?a(o.defaultValue):c(new r.EmptyError)}});i.subscribe(l)})}t.firstValueFrom=n}),JT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var r=gs();t.ArgumentOutOfRangeError=r.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})}),YT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var r=gs();t.NotFoundError=r.createErrorClass(function(e){return function(n){e(this),this.name="NotFoundError",this.message=n}})}),KT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var r=gs();t.SequenceError=r.createErrorClass(function(e){return function(n){e(this),this.name="SequenceError",this.message=n}})}),W_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0;function r(e){return e instanceof Date&&!isNaN(e)}t.isValidDate=r}),b_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var r=Gr(),e=W_(),n=ce(),i=We(),o=gs(),s=ve(),a=fo();t.TimeoutError=o.createErrorClass(function(p){return function(h){h===void 0&&(h=null),p(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=h}});function c(p,h){var f=e.isValidDate(p)?{first:p}:typeof p=="number"?{each:p}:p,b=f.first,g=f.each,w=f.with,_=w===void 0?l:w,S=f.scheduler,x=S===void 0?h??r.asyncScheduler:S,C=f.meta,I=C===void 0?null:C;if(b==null&&g==null)throw new TypeError("No timeout provided.");return n.operate(function(k,P){var D,j,L=null,B=0,Q=function(ie){j=a.executeSchedule(P,x,function(){try{D.unsubscribe(),i.innerFrom(_({meta:I,lastValue:L,seen:B})).subscribe(P)}catch(te){P.error(te)}},ie)};D=k.subscribe(s.createOperatorSubscriber(P,function(ie){j==null||j.unsubscribe(),B++,P.next(L=ie),g>0&&Q(g)},void 0,void 0,function(){j!=null&&j.closed||j==null||j.unsubscribe(),L=null})),!B&&Q(b!=null?typeof b=="number"?b:+b-x.now():g)})}t.timeout=c;function l(p){throw new t.TimeoutError(p)}}),_s=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var r=ce(),e=ve();function n(i,o){return r.operate(function(s,a){var c=0;s.subscribe(e.createOperatorSubscriber(a,function(l){a.next(i.call(o,l,c++))}))})}t.map=n}),ws=N(t=>{"use strict";var r=t&&t.__read||function(a,c){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var p=l.call(a),h,f=[],b;try{for(;(c===void 0||c-- >0)&&!(h=p.next()).done;)f.push(h.value)}catch(g){b={error:g}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(b)throw b.error}}return f},e=t&&t.__spreadArray||function(a,c){for(var l=0,p=c.length,h=a.length;l<p;l++,h++)a[h]=c[l];return a};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var n=_s(),i=Array.isArray;function o(a,c){return i(c)?a.apply(void 0,e([],r(c))):a(c)}function s(a){return n.map(function(c){return o(a,c)})}t.mapOneOrManyArgs=s}),XT=N(t=>{"use strict";var r=t&&t.__read||function(p,h){var f=typeof Symbol=="function"&&p[Symbol.iterator];if(!f)return p;var b=f.call(p),g,w=[],_;try{for(;(h===void 0||h-- >0)&&!(g=b.next()).done;)w.push(g.value)}catch(S){_={error:S}}finally{try{g&&!g.done&&(f=b.return)&&f.call(b)}finally{if(_)throw _.error}}return w},e=t&&t.__spreadArray||function(p,h){for(var f=0,b=h.length,g=p.length;f<b;f++,g++)p[g]=h[f];return p};Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallbackInternals=void 0;var n=xf(),i=gt(),o=Cf(),s=ws(),a=Af(),c=F_();function l(p,h,f,b){if(f)if(n.isScheduler(f))b=f;else return function(){for(var g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];return l(p,h,b).apply(this,g).pipe(s.mapOneOrManyArgs(f))};return b?function(){for(var g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];return l(p,h).apply(this,g).pipe(o.subscribeOn(b),a.observeOn(b))}:function(){for(var g=this,w=[],_=0;_<arguments.length;_++)w[_]=arguments[_];var S=new c.AsyncSubject,x=!0;return new i.Observable(function(C){var I=S.subscribe(C);if(x){x=!1;var k=!1,P=!1;h.apply(g,e(e([],r(w)),[function(){for(var D=[],j=0;j<arguments.length;j++)D[j]=arguments[j];if(p){var L=D.shift();if(L!=null){S.error(L);return}}S.next(1<D.length?D:D[0]),P=!0,k&&S.complete()}])),P&&S.complete(),k=!0}return I})}}t.bindCallbackInternals=l}),OU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallback=void 0;var r=XT();function e(n,i,o){return r.bindCallbackInternals(!1,n,i,o)}t.bindCallback=e}),SU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindNodeCallback=void 0;var r=XT();function e(n,i,o){return r.bindCallbackInternals(!0,n,i,o)}t.bindNodeCallback=e}),QT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var r=Array.isArray,e=Object.getPrototypeOf,n=Object.prototype,i=Object.keys;function o(a){if(a.length===1){var c=a[0];if(r(c))return{args:c,keys:null};if(s(c)){var l=i(c);return{args:l.map(function(p){return c[p]}),keys:l}}}return{args:a,keys:null}}t.argsArgArrayOrObject=o;function s(a){return a&&typeof a=="object"&&e(a)===n}}),ex=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0;function r(e,n){return e.reduce(function(i,o,s){return i[o]=n[s],i},{})}t.createObject=r}),$_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var r=gt(),e=QT(),n=ho(),i=fr(),o=ws(),s=Zr(),a=ex(),c=ve(),l=fo();function p(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];var w=s.popScheduler(b),_=s.popResultSelector(b),S=e.argsArgArrayOrObject(b),x=S.args,C=S.keys;if(x.length===0)return n.from([],w);var I=new r.Observable(h(x,w,C?function(k){return a.createObject(C,k)}:i.identity));return _?I.pipe(o.mapOneOrManyArgs(_)):I}t.combineLatest=p;function h(b,g,w){return w===void 0&&(w=i.identity),function(_){f(g,function(){for(var S=b.length,x=new Array(S),C=S,I=S,k=function(D){f(g,function(){var j=n.from(b[D],g),L=!1;j.subscribe(c.createOperatorSubscriber(_,function(B){x[D]=B,L||(L=!0,I--),I||_.next(w(x.slice()))},function(){--C||_.complete()}))},_)},P=0;P<S;P++)k(P)},_)}}t.combineLatestInit=h;function f(b,g,w){b?l.executeSchedule(w,b,g):g()}}),U_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var r=We(),e=fo(),n=ve();function i(o,s,a,c,l,p,h,f){var b=[],g=0,w=0,_=!1,S=function(){_&&!b.length&&!g&&s.complete()},x=function(I){return g<c?C(I):b.push(I)},C=function(I){p&&s.next(I),g++;var k=!1;r.innerFrom(a(I,w++)).subscribe(n.createOperatorSubscriber(s,function(P){l==null||l(P),p?x(P):s.next(P)},function(){k=!0},void 0,function(){if(k)try{g--;for(var P=function(){var D=b.shift();h?e.executeSchedule(s,h,function(){return C(D)}):C(D)};b.length&&g<c;)P();S()}catch(D){s.error(D)}}))};return o.subscribe(n.createOperatorSubscriber(s,x,function(){_=!0,S()})),function(){f==null||f()}}t.mergeInternals=i}),mo=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var r=_s(),e=We(),n=ce(),i=U_(),o=ht();function s(a,c,l){return l===void 0&&(l=1/0),o.isFunction(c)?s(function(p,h){return r.map(function(f,b){return c(p,f,h,b)})(e.innerFrom(a(p,h)))},l):(typeof c=="number"&&(l=c),n.operate(function(p,h){return i.mergeInternals(p,h,a,l)}))}t.mergeMap=s}),Mf=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var r=mo(),e=fr();function n(i){return i===void 0&&(i=1/0),r.mergeMap(e.identity,i)}t.mergeAll=n}),z_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var r=Mf();function e(){return r.mergeAll(1)}t.concatAll=e}),If=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var r=z_(),e=Zr(),n=ho();function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return r.concatAll()(n.from(o,e.popScheduler(o)))}t.concat=i}),kf=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defer=void 0;var r=gt(),e=We();function n(i){return new r.Observable(function(o){e.innerFrom(i()).subscribe(o)})}t.defer=n}),PU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectable=void 0;var r=hr(),e=gt(),n=kf(),i={connector:function(){return new r.Subject},resetOnDisconnect:!0};function o(s,a){a===void 0&&(a=i);var c=null,l=a.connector,p=a.resetOnDisconnect,h=p===void 0?!0:p,f=l(),b=new e.Observable(function(g){return f.subscribe(g)});return b.connect=function(){return(!c||c.closed)&&(c=n.defer(function(){return s}).subscribe(f),h&&c.add(function(){return f=l()})),c},b}t.connectable=o}),TU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forkJoin=void 0;var r=gt(),e=QT(),n=We(),i=Zr(),o=ve(),s=ws(),a=ex();function c(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var h=i.popResultSelector(l),f=e.argsArgArrayOrObject(l),b=f.args,g=f.keys,w=new r.Observable(function(_){var S=b.length;if(!S){_.complete();return}for(var x=new Array(S),C=S,I=S,k=function(D){var j=!1;n.innerFrom(b[D]).subscribe(o.createOperatorSubscriber(_,function(L){j||(j=!0,I--),x[D]=L},function(){return C--},void 0,function(){(!C||!j)&&(I||_.next(g?a.createObject(g,x):x),_.complete())}))},P=0;P<S;P++)k(P)});return h?w.pipe(s.mapOneOrManyArgs(h)):w}t.forkJoin=c}),xU=N(t=>{"use strict";var r=t&&t.__read||function(_,S){var x=typeof Symbol=="function"&&_[Symbol.iterator];if(!x)return _;var C=x.call(_),I,k=[],P;try{for(;(S===void 0||S-- >0)&&!(I=C.next()).done;)k.push(I.value)}catch(D){P={error:D}}finally{try{I&&!I.done&&(x=C.return)&&x.call(C)}finally{if(P)throw P.error}}return k};Object.defineProperty(t,"__esModule",{value:!0}),t.fromEvent=void 0;var e=We(),n=gt(),i=mo(),o=j_(),s=ht(),a=ws(),c=["addListener","removeListener"],l=["addEventListener","removeEventListener"],p=["on","off"];function h(_,S,x,C){if(s.isFunction(x)&&(C=x,x=void 0),C)return h(_,S,x).pipe(a.mapOneOrManyArgs(C));var I=r(w(_)?l.map(function(D){return function(j){return _[D](S,j,x)}}):b(_)?c.map(f(_,S)):g(_)?p.map(f(_,S)):[],2),k=I[0],P=I[1];if(!k&&o.isArrayLike(_))return i.mergeMap(function(D){return h(D,S,x)})(e.innerFrom(_));if(!k)throw new TypeError("Invalid event target");return new n.Observable(function(D){var j=function(){for(var L=[],B=0;B<arguments.length;B++)L[B]=arguments[B];return D.next(1<L.length?L:L[0])};return k(j),function(){return P(j)}})}t.fromEvent=h;function f(_,S){return function(x){return function(C){return _[x](S,C)}}}function b(_){return s.isFunction(_.addListener)&&s.isFunction(_.removeListener)}function g(_){return s.isFunction(_.on)&&s.isFunction(_.off)}function w(_){return s.isFunction(_.addEventListener)&&s.isFunction(_.removeEventListener)}}),AU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromEventPattern=void 0;var r=gt(),e=ht(),n=ws();function i(o,s,a){return a?i(o,s).pipe(n.mapOneOrManyArgs(a)):new r.Observable(function(c){var l=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];return c.next(h.length===1?h[0]:h)},p=o(l);return e.isFunction(s)?function(){return s(l,p)}:void 0})}t.fromEventPattern=i}),CU=N(t=>{"use strict";var r=t&&t.__generator||function(a,c){var l={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},p,h,f,b;return b={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function g(_){return function(S){return w([_,S])}}function w(_){if(p)throw new TypeError("Generator is already executing.");for(;l;)try{if(p=1,h&&(f=_[0]&2?h.return:_[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,_[1])).done)return f;switch(h=0,f&&(_=[_[0]&2,f.value]),_[0]){case 0:case 1:f=_;break;case 4:return l.label++,{value:_[1],done:!1};case 5:l.label++,h=_[1],_=[0];continue;case 7:_=l.ops.pop(),l.trys.pop();continue;default:if(f=l.trys,!(f=f.length>0&&f[f.length-1])&&(_[0]===6||_[0]===2)){l=0;continue}if(_[0]===3&&(!f||_[1]>f[0]&&_[1]<f[3])){l.label=_[1];break}if(_[0]===6&&l.label<f[1]){l.label=f[1],f=_;break}if(f&&l.label<f[2]){l.label=f[2],l.ops.push(_);break}f[2]&&l.ops.pop(),l.trys.pop();continue}_=c.call(a,l)}catch(S){_=[6,S],h=0}finally{p=f=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.generate=void 0;var e=fr(),n=xf(),i=kf(),o=VT();function s(a,c,l,p,h){var f,b,g,w;arguments.length===1?(f=a,w=f.initialState,c=f.condition,l=f.iterate,b=f.resultSelector,g=b===void 0?e.identity:b,h=f.scheduler):(w=a,!p||n.isScheduler(p)?(g=e.identity,h=p):g=p);function _(){var S;return r(this,function(x){switch(x.label){case 0:S=w,x.label=1;case 1:return!c||c(S)?[4,g(S)]:[3,4];case 2:x.sent(),x.label=3;case 3:return S=l(S),[3,1];case 4:return[2]}})}return i.defer(h?function(){return o.scheduleIterable(_(),h)}:_)}t.generate=s}),MU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iif=void 0;var r=kf();function e(n,i,o){return r.defer(function(){return n()?i:o})}t.iif=e}),Es=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var r=gt(),e=Gr(),n=xf(),i=W_();function o(s,a,c){s===void 0&&(s=0),c===void 0&&(c=e.async);var l=-1;return a!=null&&(n.isScheduler(a)?c=a:l=a),new r.Observable(function(p){var h=i.isValidDate(s)?+s-c.now():s;h<0&&(h=0);var f=0;return c.schedule(function(){p.closed||(p.next(f++),0<=l?this.schedule(void 0,l):p.complete())},h)})}t.timer=o}),tx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var r=Gr(),e=Es();function n(i,o){return i===void 0&&(i=0),o===void 0&&(o=r.asyncScheduler),i<0&&(i=0),e.timer(i,i,o)}t.interval=n}),IU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var r=Mf(),e=We(),n=ii(),i=Zr(),o=ho();function s(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=i.popScheduler(a),p=i.popNumber(a,1/0),h=a;return h.length?h.length===1?e.innerFrom(h[0]):r.mergeAll(p)(o.from(h,l)):n.EMPTY}t.merge=s}),hT=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.never=t.NEVER=void 0;var r=gt(),e=pr();t.NEVER=new r.Observable(e.noop);function n(){return t.NEVER}t.never=n}),Ha=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var r=Array.isArray;function e(n){return n.length===1&&r(n[0])?n[0]:n}t.argsOrArgArray=e}),rx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var r=gt(),e=Ha(),n=ve(),i=pr(),o=We();function s(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=e.argsOrArgArray(a);return new r.Observable(function(p){var h=0,f=function(){if(h<l.length){var b=void 0;try{b=o.innerFrom(l[h++])}catch{f();return}var g=new n.OperatorSubscriber(p,void 0,i.noop,i.noop);b.subscribe(g),g.add(f)}else p.complete()};f()})}t.onErrorResumeNext=s}),kU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairs=void 0;var r=ho();function e(n,i){return r.from(Object.entries(n),i)}t.pairs=e}),LU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0;function r(e,n){return function(i,o){return!e.call(n,i,o)}}t.not=r}),Ga=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var r=ce(),e=ve();function n(i,o){return r.operate(function(s,a){var c=0;s.subscribe(e.createOperatorSubscriber(a,function(l){return i.call(o,l,c++)&&a.next(l)}))})}t.filter=n}),RU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var r=LU(),e=Ga(),n=We();function i(o,s,a){return[e.filter(s,a)(n.innerFrom(o)),e.filter(r.not(s,a))(n.innerFrom(o))]}t.partition=i}),nx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var r=gt(),e=We(),n=Ha(),i=ve();function o(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return a=n.argsOrArgArray(a),a.length===1?e.innerFrom(a[0]):new r.Observable(s(a))}t.race=o;function s(a){return function(c){for(var l=[],p=function(f){l.push(e.innerFrom(a[f]).subscribe(i.createOperatorSubscriber(c,function(b){if(l){for(var g=0;g<l.length;g++)g!==f&&l[g].unsubscribe();l=null}c.next(b)})))},h=0;l&&!c.closed&&h<a.length;h++)p(h)}}t.raceInit=s}),NU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.range=void 0;var r=gt(),e=ii();function n(i,o,s){if(o==null&&(o=i,i=0),o<=0)return e.EMPTY;var a=o+i;return new r.Observable(s?function(c){var l=i;return s.schedule(function(){l<a?(c.next(l++),this.schedule()):c.complete()})}:function(c){for(var l=i;l<a&&!c.closed;)c.next(l++);c.complete()})}t.range=n}),FU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.using=void 0;var r=gt(),e=We(),n=ii();function i(o,s){return new r.Observable(function(a){var c=o(),l=s(c),p=l?e.innerFrom(l):n.EMPTY;return p.subscribe(a),function(){c&&c.unsubscribe()}})}t.using=i}),V_=N(t=>{"use strict";var r=t&&t.__read||function(p,h){var f=typeof Symbol=="function"&&p[Symbol.iterator];if(!f)return p;var b=f.call(p),g,w=[],_;try{for(;(h===void 0||h-- >0)&&!(g=b.next()).done;)w.push(g.value)}catch(S){_={error:S}}finally{try{g&&!g.done&&(f=b.return)&&f.call(b)}finally{if(_)throw _.error}}return w},e=t&&t.__spreadArray||function(p,h){for(var f=0,b=h.length,g=p.length;f<b;f++,g++)p[g]=h[f];return p};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var n=gt(),i=We(),o=Ha(),s=ii(),a=ve(),c=Zr();function l(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];var f=c.popResultSelector(p),b=o.argsOrArgArray(p);return b.length?new n.Observable(function(g){var w=b.map(function(){return[]}),_=b.map(function(){return!1});g.add(function(){w=_=null});for(var S=function(C){i.innerFrom(b[C]).subscribe(a.createOperatorSubscriber(g,function(I){if(w[C].push(I),w.every(function(P){return P.length})){var k=w.map(function(P){return P.shift()});g.next(f?f.apply(void 0,e([],r(k))):k),w.some(function(P,D){return!P.length&&_[D]})&&g.complete()}},function(){_[C]=!0,!w[C].length&&g.complete()}))},x=0;!g.closed&&x<b.length;x++)S(x);return function(){w=_=null}}):s.EMPTY}t.zip=l}),jU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),ix=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var r=ce(),e=We(),n=ve();function i(o){return r.operate(function(s,a){var c=!1,l=null,p=null,h=!1,f=function(){if(p==null||p.unsubscribe(),p=null,c){c=!1;var g=l;l=null,a.next(g)}h&&a.complete()},b=function(){p=null,h&&a.complete()};s.subscribe(n.createOperatorSubscriber(a,function(g){c=!0,l=g,p||e.innerFrom(o(g)).subscribe(p=n.createOperatorSubscriber(a,f,b))},function(){h=!0,(!c||!p||p.closed)&&a.complete()}))})}t.audit=i}),DU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var r=Gr(),e=ix(),n=Es();function i(o,s){return s===void 0&&(s=r.asyncScheduler),e.audit(function(){return n.timer(o,s)})}t.auditTime=i}),qU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var r=ce(),e=pr(),n=ve(),i=We();function o(s){return r.operate(function(a,c){var l=[];return a.subscribe(n.createOperatorSubscriber(c,function(p){return l.push(p)},function(){c.next(l),c.complete()})),i.innerFrom(s).subscribe(n.createOperatorSubscriber(c,function(){var p=l;l=[],c.next(p)},e.noop)),function(){l=null}})}t.buffer=o}),BU=N(t=>{"use strict";var r=t&&t.__values||function(s){var a=typeof Symbol=="function"&&Symbol.iterator,c=a&&s[a],l=0;if(c)return c.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var e=ce(),n=ve(),i=po();function o(s,a){return a===void 0&&(a=null),a=a??s,e.operate(function(c,l){var p=[],h=0;c.subscribe(n.createOperatorSubscriber(l,function(f){var b,g,w,_,S=null;h++%a===0&&p.push([]);try{for(var x=r(p),C=x.next();!C.done;C=x.next()){var I=C.value;I.push(f),s<=I.length&&(S=S??[],S.push(I))}}catch(D){b={error:D}}finally{try{C&&!C.done&&(g=x.return)&&g.call(x)}finally{if(b)throw b.error}}if(S)try{for(var k=r(S),P=k.next();!P.done;P=k.next()){var I=P.value;i.arrRemove(p,I),l.next(I)}}catch(D){w={error:D}}finally{try{P&&!P.done&&(_=k.return)&&_.call(k)}finally{if(w)throw w.error}}},function(){var f,b;try{for(var g=r(p),w=g.next();!w.done;w=g.next()){var _=w.value;l.next(_)}}catch(S){f={error:S}}finally{try{w&&!w.done&&(b=g.return)&&b.call(g)}finally{if(f)throw f.error}}l.complete()},void 0,function(){p=null}))})}t.bufferCount=o}),WU=N(t=>{"use strict";var r=t&&t.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,f=h&&p[h],b=0;if(f)return f.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&b>=p.length&&(p=void 0),{value:p&&p[b++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var e=hn(),n=ce(),i=ve(),o=po(),s=Gr(),a=Zr(),c=fo();function l(p){for(var h,f,b=[],g=1;g<arguments.length;g++)b[g-1]=arguments[g];var w=(h=a.popScheduler(b))!==null&&h!==void 0?h:s.asyncScheduler,_=(f=b[0])!==null&&f!==void 0?f:null,S=b[1]||1/0;return n.operate(function(x,C){var I=[],k=!1,P=function(L){var B=L.buffer,Q=L.subs;Q.unsubscribe(),o.arrRemove(I,L),C.next(B),k&&D()},D=function(){if(I){var L=new e.Subscription;C.add(L);var B=[],Q={buffer:B,subs:L};I.push(Q),c.executeSchedule(L,w,function(){return P(Q)},p)}};_!==null&&_>=0?c.executeSchedule(C,w,D,_,!0):k=!0,D();var j=i.createOperatorSubscriber(C,function(L){var B,Q,ie=I.slice();try{for(var te=r(ie),be=te.next();!be.done;be=te.next()){var we=be.value,ke=we.buffer;ke.push(L),S<=ke.length&&P(we)}}catch(oe){B={error:oe}}finally{try{be&&!be.done&&(Q=te.return)&&Q.call(te)}finally{if(B)throw B.error}}},function(){for(;I!=null&&I.length;)C.next(I.shift().buffer);j==null||j.unsubscribe(),C.complete(),C.unsubscribe()},void 0,function(){return I=null});x.subscribe(j)})}t.bufferTime=l}),$U=N(t=>{"use strict";var r=t&&t.__values||function(l){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&l[p],f=0;if(h)return h.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&f>=l.length&&(l=void 0),{value:l&&l[f++],done:!l}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var e=hn(),n=ce(),i=We(),o=ve(),s=pr(),a=po();function c(l,p){return n.operate(function(h,f){var b=[];i.innerFrom(l).subscribe(o.createOperatorSubscriber(f,function(g){var w=[];b.push(w);var _=new e.Subscription,S=function(){a.arrRemove(b,w),f.next(w),_.unsubscribe()};_.add(i.innerFrom(p(g)).subscribe(o.createOperatorSubscriber(f,S,s.noop)))},s.noop)),h.subscribe(o.createOperatorSubscriber(f,function(g){var w,_;try{for(var S=r(b),x=S.next();!x.done;x=S.next()){var C=x.value;C.push(g)}}catch(I){w={error:I}}finally{try{x&&!x.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}},function(){for(;b.length>0;)f.next(b.shift());f.complete()}))})}t.bufferToggle=c}),UU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var r=ce(),e=pr(),n=ve(),i=We();function o(s){return r.operate(function(a,c){var l=null,p=null,h=function(){p==null||p.unsubscribe();var f=l;l=[],f&&c.next(f),i.innerFrom(s()).subscribe(p=n.createOperatorSubscriber(c,h,e.noop))};h(),a.subscribe(n.createOperatorSubscriber(c,function(f){return l==null?void 0:l.push(f)},function(){l&&c.next(l),c.complete()},void 0,function(){return l=p=null}))})}t.bufferWhen=o}),zU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var r=We(),e=ve(),n=ce();function i(o){return n.operate(function(s,a){var c=null,l=!1,p;c=s.subscribe(e.createOperatorSubscriber(a,void 0,void 0,function(h){p=r.innerFrom(o(h,i(o)(s))),c?(c.unsubscribe(),c=null,p.subscribe(a)):l=!0})),l&&(c.unsubscribe(),c=null,p.subscribe(a))})}t.catchError=i}),ox=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var r=ve();function e(n,i,o,s,a){return function(c,l){var p=o,h=i,f=0;c.subscribe(r.createOperatorSubscriber(l,function(b){var g=f++;h=p?n(h,b,g):(p=!0,b),s&&l.next(h)},a&&function(){p&&l.next(h),l.complete()}))}}t.scanInternals=e}),gl=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var r=ox(),e=ce();function n(i,o){return e.operate(r.scanInternals(i,o,arguments.length>=2,!1,!0))}t.reduce=n}),sx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var r=gl(),e=ce(),n=function(o,s){return o.push(s),o};function i(){return e.operate(function(o,s){r.reduce(n,[])(o).subscribe(s)})}t.toArray=i}),ax=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var r=fr(),e=ws(),n=Pf(),i=mo(),o=sx();function s(a,c){return n.pipe(o.toArray(),i.mergeMap(function(l){return a(l)}),c?e.mapOneOrManyArgs(c):r.identity)}t.joinAllInternals=s}),ux=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var r=$_(),e=ax();function n(i){return e.joinAllInternals(r.combineLatest,i)}t.combineLatestAll=n}),VU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var r=ux();t.combineAll=r.combineLatestAll}),HU=N(t=>{"use strict";var r=t&&t.__read||function(p,h){var f=typeof Symbol=="function"&&p[Symbol.iterator];if(!f)return p;var b=f.call(p),g,w=[],_;try{for(;(h===void 0||h-- >0)&&!(g=b.next()).done;)w.push(g.value)}catch(S){_={error:S}}finally{try{g&&!g.done&&(f=b.return)&&f.call(b)}finally{if(_)throw _.error}}return w},e=t&&t.__spreadArray||function(p,h){for(var f=0,b=h.length,g=p.length;f<b;f++,g++)p[g]=h[f];return p};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var n=$_(),i=ce(),o=Ha(),s=ws(),a=Pf(),c=Zr();function l(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];var f=c.popResultSelector(p);return f?a.pipe(l.apply(void 0,e([],r(p))),s.mapOneOrManyArgs(f)):i.operate(function(b,g){n.combineLatestInit(e([b],r(o.argsOrArgArray(p))))(g)})}t.combineLatest=l}),GU=N(t=>{"use strict";var r=t&&t.__read||function(o,s){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var c=a.call(o),l,p=[],h;try{for(;(s===void 0||s-- >0)&&!(l=c.next()).done;)p.push(l.value)}catch(f){h={error:f}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(h)throw h.error}}return p},e=t&&t.__spreadArray||function(o,s){for(var a=0,c=s.length,l=o.length;a<c;a++,l++)o[l]=s[a];return o};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var n=HU();function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n.combineLatest.apply(void 0,e([],r(o)))}t.combineLatestWith=i}),cx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var r=mo(),e=ht();function n(i,o){return e.isFunction(o)?r.mergeMap(i,o,1):r.mergeMap(i,1)}t.concatMap=n}),ZU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var r=cx(),e=ht();function n(i,o){return e.isFunction(o)?r.concatMap(function(){return i},o):r.concatMap(function(){return i})}t.concatMapTo=n}),JU=N(t=>{"use strict";var r=t&&t.__read||function(c,l){var p=typeof Symbol=="function"&&c[Symbol.iterator];if(!p)return c;var h=p.call(c),f,b=[],g;try{for(;(l===void 0||l-- >0)&&!(f=h.next()).done;)b.push(f.value)}catch(w){g={error:w}}finally{try{f&&!f.done&&(p=h.return)&&p.call(h)}finally{if(g)throw g.error}}return b},e=t&&t.__spreadArray||function(c,l){for(var p=0,h=l.length,f=c.length;p<h;p++,f++)c[f]=l[p];return c};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var n=ce(),i=z_(),o=Zr(),s=ho();function a(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var p=o.popScheduler(c);return n.operate(function(h,f){i.concatAll()(s.from(e([h],r(c)),p)).subscribe(f)})}t.concat=a}),YU=N(t=>{"use strict";var r=t&&t.__read||function(o,s){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var c=a.call(o),l,p=[],h;try{for(;(s===void 0||s-- >0)&&!(l=c.next()).done;)p.push(l.value)}catch(f){h={error:f}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(h)throw h.error}}return p},e=t&&t.__spreadArray||function(o,s){for(var a=0,c=s.length,l=o.length;a<c;a++,l++)o[l]=s[a];return o};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var n=JU();function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n.concat.apply(void 0,e([],r(o)))}t.concatWith=i}),KU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var r=gt();function e(n){return new r.Observable(function(i){return n.subscribe(i)})}t.fromSubscribable=e}),H_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var r=hr(),e=We(),n=ce(),i=KU(),o={connector:function(){return new r.Subject}};function s(a,c){c===void 0&&(c=o);var l=c.connector;return n.operate(function(p,h){var f=l();e.innerFrom(a(i.fromSubscribable(f))).subscribe(h),h.add(p.subscribe(f))})}t.connect=s}),XU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var r=gl();function e(n){return r.reduce(function(i,o,s){return!n||n(o,s)?i+1:i},0)}t.count=e}),QU=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var r=ce(),e=pr(),n=ve(),i=We();function o(s){return r.operate(function(a,c){var l=!1,p=null,h=null,f=function(){if(h==null||h.unsubscribe(),h=null,l){l=!1;var b=p;p=null,c.next(b)}};a.subscribe(n.createOperatorSubscriber(c,function(b){h==null||h.unsubscribe(),l=!0,p=b,h=n.createOperatorSubscriber(c,f,e.noop),i.innerFrom(s(b)).subscribe(h)},function(){f(),c.complete()},void 0,function(){p=h=null}))})}t.debounce=o}),e3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var r=Gr(),e=ce(),n=ve();function i(o,s){return s===void 0&&(s=r.asyncScheduler),e.operate(function(a,c){var l=null,p=null,h=null,f=function(){if(l){l.unsubscribe(),l=null;var g=p;p=null,c.next(g)}};function b(){var g=h+o,w=s.now();if(w<g){l=this.schedule(void 0,g-w),c.add(l);return}f()}a.subscribe(n.createOperatorSubscriber(c,function(g){p=g,h=s.now(),l||(l=s.schedule(b,o),c.add(l))},function(){f(),c.complete()},void 0,function(){p=l=null}))})}t.debounceTime=i}),Lf=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var r=ce(),e=ve();function n(i){return r.operate(function(o,s){var a=!1;o.subscribe(e.createOperatorSubscriber(s,function(c){a=!0,s.next(c)},function(){a||s.next(i),s.complete()}))})}t.defaultIfEmpty=n}),Rf=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var r=ii(),e=ce(),n=ve();function i(o){return o<=0?function(){return r.EMPTY}:e.operate(function(s,a){var c=0;s.subscribe(n.createOperatorSubscriber(a,function(l){++c<=o&&(a.next(l),o<=c&&a.complete())}))})}t.take=i}),lx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var r=ce(),e=ve(),n=pr();function i(){return r.operate(function(o,s){o.subscribe(e.createOperatorSubscriber(s,n.noop))})}t.ignoreElements=i}),dx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var r=_s();function e(n){return r.map(function(){return n})}t.mapTo=e}),px=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var r=If(),e=Rf(),n=lx(),i=dx(),o=mo(),s=We();function a(c,l){return l?function(p){return r.concat(l.pipe(e.take(1),n.ignoreElements()),p.pipe(a(c)))}:o.mergeMap(function(p,h){return s.innerFrom(c(p,h)).pipe(e.take(1),i.mapTo(p))})}t.delayWhen=a}),t3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var r=Gr(),e=px(),n=Es();function i(o,s){s===void 0&&(s=r.asyncScheduler);var a=n.timer(o,s);return e.delayWhen(function(){return a})}t.delay=i}),r3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var r=B_(),e=ce(),n=ve();function i(){return e.operate(function(o,s){o.subscribe(n.createOperatorSubscriber(s,function(a){return r.observeNotification(a,s)}))})}t.dematerialize=i}),n3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var r=ce(),e=ve(),n=pr(),i=We();function o(s,a){return r.operate(function(c,l){var p=new Set;c.subscribe(e.createOperatorSubscriber(l,function(h){var f=s?s(h):h;p.has(f)||(p.add(f),l.next(h))})),a&&i.innerFrom(a).subscribe(e.createOperatorSubscriber(l,function(){return p.clear()},n.noop))})}t.distinct=o}),fx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var r=fr(),e=ce(),n=ve();function i(s,a){return a===void 0&&(a=r.identity),s=s??o,e.operate(function(c,l){var p,h=!0;c.subscribe(n.createOperatorSubscriber(l,function(f){var b=a(f);(h||!s(p,b))&&(h=!1,p=b,l.next(f))}))})}t.distinctUntilChanged=i;function o(s,a){return s===a}}),i3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var r=fx();function e(n,i){return r.distinctUntilChanged(function(o,s){return i?i(o[n],s[n]):o[n]===s[n]})}t.distinctUntilKeyChanged=e}),Nf=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var r=ys(),e=ce(),n=ve();function i(s){return s===void 0&&(s=o),e.operate(function(a,c){var l=!1;a.subscribe(n.createOperatorSubscriber(c,function(p){l=!0,c.next(p)},function(){return l?c.complete():c.error(s())}))})}t.throwIfEmpty=i;function o(){return new r.EmptyError}}),o3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var r=JT(),e=Ga(),n=Nf(),i=Lf(),o=Rf();function s(a,c){if(a<0)throw new r.ArgumentOutOfRangeError;var l=arguments.length>=2;return function(p){return p.pipe(e.filter(function(h,f){return f===a}),o.take(1),l?i.defaultIfEmpty(c):n.throwIfEmpty(function(){return new r.ArgumentOutOfRangeError}))}}t.elementAt=s}),s3=N(t=>{"use strict";var r=t&&t.__read||function(s,a){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var l=c.call(s),p,h=[],f;try{for(;(a===void 0||a-- >0)&&!(p=l.next()).done;)h.push(p.value)}catch(b){f={error:b}}finally{try{p&&!p.done&&(c=l.return)&&c.call(l)}finally{if(f)throw f.error}}return h},e=t&&t.__spreadArray||function(s,a){for(var c=0,l=a.length,p=s.length;c<l;c++,p++)s[p]=a[c];return s};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var n=If(),i=q_();function o(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return function(c){return n.concat(c,i.of.apply(void 0,e([],r(s))))}}t.endWith=o}),a3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var r=ce(),e=ve();function n(i,o){return r.operate(function(s,a){var c=0;s.subscribe(e.createOperatorSubscriber(a,function(l){i.call(o,l,c++,s)||(a.next(!1),a.complete())},function(){a.next(!0),a.complete()}))})}t.every=n}),hx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var r=_s(),e=We(),n=ce(),i=ve();function o(s,a){return a?function(c){return c.pipe(o(function(l,p){return e.innerFrom(s(l,p)).pipe(r.map(function(h,f){return a(l,h,p,f)}))}))}:n.operate(function(c,l){var p=0,h=null,f=!1;c.subscribe(i.createOperatorSubscriber(l,function(b){h||(h=i.createOperatorSubscriber(l,void 0,function(){h=null,f&&l.complete()}),e.innerFrom(s(b,p++)).subscribe(h))},function(){f=!0,!h&&l.complete()}))})}t.exhaustMap=o}),mx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var r=hx(),e=fr();function n(){return r.exhaustMap(e.identity)}t.exhaustAll=n}),u3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var r=mx();t.exhaust=r.exhaustAll}),c3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var r=ce(),e=U_();function n(i,o,s){return o===void 0&&(o=1/0),o=(o||0)<1?1/0:o,r.operate(function(a,c){return e.mergeInternals(a,c,i,o,void 0,!0,s)})}t.expand=n}),l3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var r=ce();function e(n){return r.operate(function(i,o){try{i.subscribe(o)}finally{o.add(n)}})}t.finalize=e}),vx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var r=ce(),e=ve();function n(o,s){return r.operate(i(o,s,"value"))}t.find=n;function i(o,s,a){var c=a==="index";return function(l,p){var h=0;l.subscribe(e.createOperatorSubscriber(p,function(f){var b=h++;o.call(s,f,b,l)&&(p.next(c?b:f),p.complete())},function(){p.next(c?-1:void 0),p.complete()}))}}t.createFind=i}),d3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var r=ce(),e=vx();function n(i,o){return r.operate(e.createFind(i,o,"index"))}t.findIndex=n}),p3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var r=ys(),e=Ga(),n=Rf(),i=Lf(),o=Nf(),s=fr();function a(c,l){var p=arguments.length>=2;return function(h){return h.pipe(c?e.filter(function(f,b){return c(f,b,h)}):s.identity,n.take(1),p?i.defaultIfEmpty(l):o.throwIfEmpty(function(){return new r.EmptyError}))}}t.first=a}),f3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var r=gt(),e=We(),n=hr(),i=ce(),o=ve();function s(a,c,l,p){return i.operate(function(h,f){var b;!c||typeof c=="function"?b=c:(l=c.duration,b=c.element,p=c.connector);var g=new Map,w=function(k){g.forEach(k),k(f)},_=function(k){return w(function(P){return P.error(k)})},S=0,x=!1,C=new o.OperatorSubscriber(f,function(k){try{var P=a(k),D=g.get(P);if(!D){g.set(P,D=p?p():new n.Subject);var j=I(P,D);if(f.next(j),l){var L=o.createOperatorSubscriber(D,function(){D.complete(),L==null||L.unsubscribe()},void 0,void 0,function(){return g.delete(P)});C.add(e.innerFrom(l(j)).subscribe(L))}}D.next(b?b(k):k)}catch(B){_(B)}},function(){return w(function(k){return k.complete()})},_,function(){return g.clear()},function(){return x=!0,S===0});h.subscribe(C);function I(k,P){var D=new r.Observable(function(j){S++;var L=P.subscribe(j);return function(){L.unsubscribe(),--S===0&&x&&C.unsubscribe()}});return D.key=k,D}})}t.groupBy=s}),h3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var r=ce(),e=ve();function n(){return r.operate(function(i,o){i.subscribe(e.createOperatorSubscriber(o,function(){o.next(!1),o.complete()},function(){o.next(!0),o.complete()}))})}t.isEmpty=n}),bx=N(t=>{"use strict";var r=t&&t.__values||function(s){var a=typeof Symbol=="function"&&Symbol.iterator,c=a&&s[a],l=0;if(c)return c.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var e=ii(),n=ce(),i=ve();function o(s){return s<=0?function(){return e.EMPTY}:n.operate(function(a,c){var l=[];a.subscribe(i.createOperatorSubscriber(c,function(p){l.push(p),s<l.length&&l.shift()},function(){var p,h;try{for(var f=r(l),b=f.next();!b.done;b=f.next()){var g=b.value;c.next(g)}}catch(w){p={error:w}}finally{try{b&&!b.done&&(h=f.return)&&h.call(f)}finally{if(p)throw p.error}}c.complete()},void 0,function(){l=null}))})}t.takeLast=o}),m3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var r=ys(),e=Ga(),n=bx(),i=Nf(),o=Lf(),s=fr();function a(c,l){var p=arguments.length>=2;return function(h){return h.pipe(c?e.filter(function(f,b){return c(f,b,h)}):s.identity,n.takeLast(1),p?o.defaultIfEmpty(l):i.throwIfEmpty(function(){return new r.EmptyError}))}}t.last=a}),v3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var r=B_(),e=ce(),n=ve();function i(){return e.operate(function(o,s){o.subscribe(n.createOperatorSubscriber(s,function(a){s.next(r.Notification.createNext(a))},function(){s.next(r.Notification.createComplete()),s.complete()},function(a){s.next(r.Notification.createError(a)),s.complete()}))})}t.materialize=i}),b3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var r=gl(),e=ht();function n(i){return r.reduce(e.isFunction(i)?function(o,s){return i(o,s)>0?o:s}:function(o,s){return o>s?o:s})}t.max=n}),g3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var r=mo();t.flatMap=r.mergeMap}),y3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var r=mo(),e=ht();function n(i,o,s){return s===void 0&&(s=1/0),e.isFunction(o)?r.mergeMap(function(){return i},o,s):(typeof o=="number"&&(s=o),r.mergeMap(function(){return i},s))}t.mergeMapTo=n}),_3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var r=ce(),e=U_();function n(i,o,s){return s===void 0&&(s=1/0),r.operate(function(a,c){var l=o;return e.mergeInternals(a,c,function(p,h){return i(l,p,h)},s,function(p){l=p},!1,void 0,function(){return l=null})})}t.mergeScan=n}),w3=N(t=>{"use strict";var r=t&&t.__read||function(l,p){var h=typeof Symbol=="function"&&l[Symbol.iterator];if(!h)return l;var f=h.call(l),b,g=[],w;try{for(;(p===void 0||p-- >0)&&!(b=f.next()).done;)g.push(b.value)}catch(_){w={error:_}}finally{try{b&&!b.done&&(h=f.return)&&h.call(f)}finally{if(w)throw w.error}}return g},e=t&&t.__spreadArray||function(l,p){for(var h=0,f=p.length,b=l.length;h<f;h++,b++)l[b]=p[h];return l};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var n=ce(),i=Ha(),o=Mf(),s=Zr(),a=ho();function c(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var h=s.popScheduler(l),f=s.popNumber(l,1/0);return l=i.argsOrArgArray(l),n.operate(function(b,g){o.mergeAll(f)(a.from(e([b],r(l)),h)).subscribe(g)})}t.merge=c}),E3=N(t=>{"use strict";var r=t&&t.__read||function(o,s){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var c=a.call(o),l,p=[],h;try{for(;(s===void 0||s-- >0)&&!(l=c.next()).done;)p.push(l.value)}catch(f){h={error:f}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(h)throw h.error}}return p},e=t&&t.__spreadArray||function(o,s){for(var a=0,c=s.length,l=o.length;a<c;a++,l++)o[l]=s[a];return o};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var n=w3();function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n.merge.apply(void 0,e([],r(o)))}t.mergeWith=i}),O3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var r=gl(),e=ht();function n(i){return r.reduce(e.isFunction(i)?function(o,s){return i(o,s)<0?o:s}:function(o,s){return o<s?o:s})}t.min=n}),G_=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var r=Tf(),e=ht(),n=H_();function i(o,s){var a=e.isFunction(o)?o:function(){return o};return e.isFunction(s)?n.connect(s,{connector:a}):function(c){return new r.ConnectableObservable(c,a)}}t.multicast=i}),S3=N(t=>{"use strict";var r=t&&t.__read||function(s,a){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var l=c.call(s),p,h=[],f;try{for(;(a===void 0||a-- >0)&&!(p=l.next()).done;)h.push(p.value)}catch(b){f={error:b}}finally{try{p&&!p.done&&(c=l.return)&&c.call(l)}finally{if(f)throw f.error}}return h},e=t&&t.__spreadArray||function(s,a){for(var c=0,l=a.length,p=s.length;c<l;c++,p++)s[p]=a[c];return s};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=t.onErrorResumeNextWith=void 0;var n=Ha(),i=rx();function o(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var c=n.argsOrArgArray(s);return function(l){return i.onErrorResumeNext.apply(void 0,e([l],r(c)))}}t.onErrorResumeNextWith=o,t.onErrorResumeNext=o}),P3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var r=ce(),e=ve();function n(){return r.operate(function(i,o){var s,a=!1;i.subscribe(e.createOperatorSubscriber(o,function(c){var l=s;s=c,a&&o.next([l,c]),a=!0}))})}t.pairwise=n}),T3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var r=_s();function e(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.length;if(o===0)throw new Error("list of properties cannot be empty.");return r.map(function(s){for(var a=s,c=0;c<o;c++){var l=a==null?void 0:a[n[c]];if(typeof l<"u")a=l;else return}return a})}t.pluck=e}),x3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var r=hr(),e=G_(),n=H_();function i(o){return o?function(s){return n.connect(o)(s)}:function(s){return e.multicast(new r.Subject)(s)}}t.publish=i}),A3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var r=jT(),e=Tf();function n(i){return function(o){var s=new r.BehaviorSubject(i);return new e.ConnectableObservable(o,function(){return s})}}t.publishBehavior=n}),C3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var r=F_(),e=Tf();function n(){return function(i){var o=new r.AsyncSubject;return new e.ConnectableObservable(i,function(){return o})}}t.publishLast=n}),M3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var r=N_(),e=G_(),n=ht();function i(o,s,a,c){a&&!n.isFunction(a)&&(c=a);var l=n.isFunction(a)?a:void 0;return function(p){return e.multicast(new r.ReplaySubject(o,s,c),l)(p)}}t.publishReplay=i}),I3=N(t=>{"use strict";var r=t&&t.__read||function(a,c){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var p=l.call(a),h,f=[],b;try{for(;(c===void 0||c-- >0)&&!(h=p.next()).done;)f.push(h.value)}catch(g){b={error:g}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(b)throw b.error}}return f},e=t&&t.__spreadArray||function(a,c){for(var l=0,p=c.length,h=a.length;l<p;l++,h++)a[h]=c[l];return a};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var n=nx(),i=ce(),o=fr();function s(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return a.length?i.operate(function(l,p){n.raceInit(e([l],r(a)))(p)}):o.identity}t.raceWith=s}),k3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var r=ii(),e=ce(),n=ve(),i=We(),o=Es();function s(a){var c,l=1/0,p;return a!=null&&(typeof a=="object"?(c=a.count,l=c===void 0?1/0:c,p=a.delay):l=a),l<=0?function(){return r.EMPTY}:e.operate(function(h,f){var b=0,g,w=function(){if(g==null||g.unsubscribe(),g=null,p!=null){var S=typeof p=="number"?o.timer(p):i.innerFrom(p(b)),x=n.createOperatorSubscriber(f,function(){x.unsubscribe(),_()});S.subscribe(x)}else _()},_=function(){var S=!1;g=h.subscribe(n.createOperatorSubscriber(f,void 0,function(){++b<l?g?w():S=!0:f.complete()})),S&&w()};_()})}t.repeat=s}),L3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var r=We(),e=hr(),n=ce(),i=ve();function o(s){return n.operate(function(a,c){var l,p=!1,h,f=!1,b=!1,g=function(){return b&&f&&(c.complete(),!0)},w=function(){return h||(h=new e.Subject,r.innerFrom(s(h)).subscribe(i.createOperatorSubscriber(c,function(){l?_():p=!0},function(){f=!0,g()}))),h},_=function(){b=!1,l=a.subscribe(i.createOperatorSubscriber(c,void 0,function(){b=!0,!g()&&w().next()})),p&&(l.unsubscribe(),l=null,p=!1,_())};_()})}t.repeatWhen=o}),R3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var r=ce(),e=ve(),n=fr(),i=Es(),o=We();function s(a){a===void 0&&(a=1/0);var c;a&&typeof a=="object"?c=a:c={count:a};var l=c.count,p=l===void 0?1/0:l,h=c.delay,f=c.resetOnSuccess,b=f===void 0?!1:f;return p<=0?n.identity:r.operate(function(g,w){var _=0,S,x=function(){var C=!1;S=g.subscribe(e.createOperatorSubscriber(w,function(I){b&&(_=0),w.next(I)},void 0,function(I){if(_++<p){var k=function(){S?(S.unsubscribe(),S=null,x()):C=!0};if(h!=null){var P=typeof h=="number"?i.timer(h):o.innerFrom(h(I,_)),D=e.createOperatorSubscriber(w,function(){D.unsubscribe(),k()},function(){w.complete()});P.subscribe(D)}else k()}else w.error(I)})),C&&(S.unsubscribe(),S=null,x())};x()})}t.retry=s}),N3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var r=We(),e=hr(),n=ce(),i=ve();function o(s){return n.operate(function(a,c){var l,p=!1,h,f=function(){l=a.subscribe(i.createOperatorSubscriber(c,void 0,void 0,function(b){h||(h=new e.Subject,r.innerFrom(s(h)).subscribe(i.createOperatorSubscriber(c,function(){return l?f():p=!0}))),h&&h.next(b)})),p&&(l.unsubscribe(),l=null,p=!1,f())};f()})}t.retryWhen=o}),gx=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var r=We(),e=ce(),n=pr(),i=ve();function o(s){return e.operate(function(a,c){var l=!1,p=null;a.subscribe(i.createOperatorSubscriber(c,function(h){l=!0,p=h})),r.innerFrom(s).subscribe(i.createOperatorSubscriber(c,function(){if(l){l=!1;var h=p;p=null,c.next(h)}},n.noop))})}t.sample=o}),F3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var r=Gr(),e=gx(),n=tx();function i(o,s){return s===void 0&&(s=r.asyncScheduler),e.sample(n.interval(o,s))}t.sampleTime=i}),j3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var r=ce(),e=ox();function n(i,o){return r.operate(e.scanInternals(i,o,arguments.length>=2,!0))}t.scan=n}),D3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var r=ce(),e=ve(),n=We();function i(s,a){return a===void 0&&(a=function(c,l){return c===l}),r.operate(function(c,l){var p=o(),h=o(),f=function(g){l.next(g),l.complete()},b=function(g,w){var _=e.createOperatorSubscriber(l,function(S){var x=w.buffer,C=w.complete;x.length===0?C?f(!1):g.buffer.push(S):!a(S,x.shift())&&f(!1)},function(){g.complete=!0;var S=w.complete,x=w.buffer;S&&f(x.length===0),_==null||_.unsubscribe()});return _};c.subscribe(b(p,h)),n.innerFrom(s).subscribe(b(h,p))})}t.sequenceEqual=i;function o(){return{buffer:[],complete:!1}}}),yx=N(t=>{"use strict";var r=t&&t.__read||function(l,p){var h=typeof Symbol=="function"&&l[Symbol.iterator];if(!h)return l;var f=h.call(l),b,g=[],w;try{for(;(p===void 0||p-- >0)&&!(b=f.next()).done;)g.push(b.value)}catch(_){w={error:_}}finally{try{b&&!b.done&&(h=f.return)&&h.call(f)}finally{if(w)throw w.error}}return g},e=t&&t.__spreadArray||function(l,p){for(var h=0,f=p.length,b=l.length;h<f;h++,b++)l[b]=p[h];return l};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var n=We(),i=hr(),o=ml(),s=ce();function a(l){l===void 0&&(l={});var p=l.connector,h=p===void 0?function(){return new i.Subject}:p,f=l.resetOnError,b=f===void 0?!0:f,g=l.resetOnComplete,w=g===void 0?!0:g,_=l.resetOnRefCountZero,S=_===void 0?!0:_;return function(x){var C,I,k,P=0,D=!1,j=!1,L=function(){I==null||I.unsubscribe(),I=void 0},B=function(){L(),C=k=void 0,D=j=!1},Q=function(){var ie=C;B(),ie==null||ie.unsubscribe()};return s.operate(function(ie,te){P++,!j&&!D&&L();var be=k=k??h();te.add(function(){P--,P===0&&!j&&!D&&(I=c(Q,S))}),be.subscribe(te),!C&&P>0&&(C=new o.SafeSubscriber({next:function(we){return be.next(we)},error:function(we){j=!0,L(),I=c(B,b,we),be.error(we)},complete:function(){D=!0,L(),I=c(B,w),be.complete()}}),n.innerFrom(ie).subscribe(C))})(x)}}t.share=a;function c(l,p){for(var h=[],f=2;f<arguments.length;f++)h[f-2]=arguments[f];if(p===!0){l();return}if(p!==!1){var b=new o.SafeSubscriber({next:function(){b.unsubscribe(),l()}});return n.innerFrom(p.apply(void 0,e([],r(h)))).subscribe(b)}}}),q3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var r=N_(),e=yx();function n(i,o,s){var a,c,l,p,h=!1;return i&&typeof i=="object"?(a=i.bufferSize,p=a===void 0?1/0:a,c=i.windowTime,o=c===void 0?1/0:c,l=i.refCount,h=l===void 0?!1:l,s=i.scheduler):p=i??1/0,e.share({connector:function(){return new r.ReplaySubject(p,o,s)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}t.shareReplay=n}),B3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var r=ys(),e=KT(),n=YT(),i=ce(),o=ve();function s(a){return i.operate(function(c,l){var p=!1,h,f=!1,b=0;c.subscribe(o.createOperatorSubscriber(l,function(g){f=!0,(!a||a(g,b++,c))&&(p&&l.error(new e.SequenceError("Too many matching values")),p=!0,h=g)},function(){p?(l.next(h),l.complete()):l.error(f?new n.NotFoundError("No matching values"):new r.EmptyError)}))})}t.single=s}),W3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var r=Ga();function e(n){return r.filter(function(i,o){return n<=o})}t.skip=e}),$3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var r=fr(),e=ce(),n=ve();function i(o){return o<=0?r.identity:e.operate(function(s,a){var c=new Array(o),l=0;return s.subscribe(n.createOperatorSubscriber(a,function(p){var h=l++;if(h<o)c[h]=p;else{var f=h%o,b=c[f];c[f]=p,a.next(b)}})),function(){c=null}})}t.skipLast=i}),U3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var r=ce(),e=ve(),n=We(),i=pr();function o(s){return r.operate(function(a,c){var l=!1,p=e.createOperatorSubscriber(c,function(){p==null||p.unsubscribe(),l=!0},i.noop);n.innerFrom(s).subscribe(p),a.subscribe(e.createOperatorSubscriber(c,function(h){return l&&c.next(h)}))})}t.skipUntil=o}),z3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var r=ce(),e=ve();function n(i){return r.operate(function(o,s){var a=!1,c=0;o.subscribe(e.createOperatorSubscriber(s,function(l){return(a||(a=!i(l,c++)))&&s.next(l)}))})}t.skipWhile=n}),V3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var r=If(),e=Zr(),n=ce();function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=e.popScheduler(o);return n.operate(function(c,l){(a?r.concat(o,c,a):r.concat(o,c)).subscribe(l)})}t.startWith=i}),Ff=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var r=We(),e=ce(),n=ve();function i(o,s){return e.operate(function(a,c){var l=null,p=0,h=!1,f=function(){return h&&!l&&c.complete()};a.subscribe(n.createOperatorSubscriber(c,function(b){l==null||l.unsubscribe();var g=0,w=p++;r.innerFrom(o(b,w)).subscribe(l=n.createOperatorSubscriber(c,function(_){return c.next(s?s(b,_,w,g++):_)},function(){l=null,f()}))},function(){h=!0,f()}))})}t.switchMap=i}),H3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var r=Ff(),e=fr();function n(){return r.switchMap(e.identity)}t.switchAll=n}),G3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var r=Ff(),e=ht();function n(i,o){return e.isFunction(o)?r.switchMap(function(){return i},o):r.switchMap(function(){return i})}t.switchMapTo=n}),Z3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var r=Ff(),e=ce();function n(i,o){return e.operate(function(s,a){var c=o;return r.switchMap(function(l,p){return i(c,l,p)},function(l,p){return c=p,p})(s).subscribe(a),function(){c=null}})}t.switchScan=n}),J3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var r=ce(),e=ve(),n=We(),i=pr();function o(s){return r.operate(function(a,c){n.innerFrom(s).subscribe(e.createOperatorSubscriber(c,function(){return c.complete()},i.noop)),!c.closed&&a.subscribe(c)})}t.takeUntil=o}),Y3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var r=ce(),e=ve();function n(i,o){return o===void 0&&(o=!1),r.operate(function(s,a){var c=0;s.subscribe(e.createOperatorSubscriber(a,function(l){var p=i(l,c++);(p||o)&&a.next(l),!p&&a.complete()}))})}t.takeWhile=n}),K3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var r=ht(),e=ce(),n=ve(),i=fr();function o(s,a,c){var l=r.isFunction(s)||a||c?{next:s,error:a,complete:c}:s;return l?e.operate(function(p,h){var f;(f=l.subscribe)===null||f===void 0||f.call(l);var b=!0;p.subscribe(n.createOperatorSubscriber(h,function(g){var w;(w=l.next)===null||w===void 0||w.call(l,g),h.next(g)},function(){var g;b=!1,(g=l.complete)===null||g===void 0||g.call(l),h.complete()},function(g){var w;b=!1,(w=l.error)===null||w===void 0||w.call(l,g),h.error(g)},function(){var g,w;b&&((g=l.unsubscribe)===null||g===void 0||g.call(l)),(w=l.finalize)===null||w===void 0||w.call(l)}))}):i.identity}t.tap=o}),_x=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;var r=ce(),e=ve(),n=We();function i(o,s){return r.operate(function(a,c){var l=s??{},p=l.leading,h=p===void 0?!0:p,f=l.trailing,b=f===void 0?!1:f,g=!1,w=null,_=null,S=!1,x=function(){_==null||_.unsubscribe(),_=null,b&&(k(),S&&c.complete())},C=function(){_=null,S&&c.complete()},I=function(P){return _=n.innerFrom(o(P)).subscribe(e.createOperatorSubscriber(c,x,C))},k=function(){if(g){g=!1;var P=w;w=null,c.next(P),!S&&I(P)}};a.subscribe(e.createOperatorSubscriber(c,function(P){g=!0,w=P,!(_&&!_.closed)&&(h?k():I(P))},function(){S=!0,!(b&&g&&_&&!_.closed)&&c.complete()}))})}t.throttle=i}),X3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var r=Gr(),e=_x(),n=Es();function i(o,s,a){s===void 0&&(s=r.asyncScheduler);var c=n.timer(o,s);return e.throttle(function(){return c},a)}t.throttleTime=i}),Q3=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var r=Gr(),e=ce(),n=ve();function i(s){return s===void 0&&(s=r.asyncScheduler),e.operate(function(a,c){var l=s.now();a.subscribe(n.createOperatorSubscriber(c,function(p){var h=s.now(),f=h-l;l=h,c.next(new o(p,f))}))})}t.timeInterval=i;var o=function(){function s(a,c){this.value=a,this.interval=c}return s}();t.TimeInterval=o}),ez=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var r=Gr(),e=W_(),n=b_();function i(o,s,a){var c,l,p;if(a=a??r.async,e.isValidDate(o)?c=o:typeof o=="number"&&(l=o),s)p=function(){return s};else throw new TypeError("No observable provided to switch to");if(c==null&&l==null)throw new TypeError("No timeout provided.");return n.timeout({first:c,each:l,scheduler:a,with:p})}t.timeoutWith=i}),tz=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var r=R_(),e=_s();function n(i){return i===void 0&&(i=r.dateTimestampProvider),e.map(function(o){return{value:o,timestamp:i.now()}})}t.timestamp=n}),rz=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var r=hr(),e=ce(),n=ve(),i=pr(),o=We();function s(a){return e.operate(function(c,l){var p=new r.Subject;l.next(p.asObservable());var h=function(f){p.error(f),l.error(f)};return c.subscribe(n.createOperatorSubscriber(l,function(f){return p==null?void 0:p.next(f)},function(){p.complete(),l.complete()},h)),o.innerFrom(a).subscribe(n.createOperatorSubscriber(l,function(){p.complete(),l.next(p=new r.Subject)},i.noop,h)),function(){p==null||p.unsubscribe(),p=null}})}t.window=s}),nz=N(t=>{"use strict";var r=t&&t.__values||function(s){var a=typeof Symbol=="function"&&Symbol.iterator,c=a&&s[a],l=0;if(c)return c.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&l>=s.length&&(s=void 0),{value:s&&s[l++],done:!s}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var e=hr(),n=ce(),i=ve();function o(s,a){a===void 0&&(a=0);var c=a>0?a:s;return n.operate(function(l,p){var h=[new e.Subject],f=[],b=0;p.next(h[0].asObservable()),l.subscribe(i.createOperatorSubscriber(p,function(g){var w,_;try{for(var S=r(h),x=S.next();!x.done;x=S.next()){var C=x.value;C.next(g)}}catch(P){w={error:P}}finally{try{x&&!x.done&&(_=S.return)&&_.call(S)}finally{if(w)throw w.error}}var I=b-s+1;if(I>=0&&I%c===0&&h.shift().complete(),++b%c===0){var k=new e.Subject;h.push(k),p.next(k.asObservable())}},function(){for(;h.length>0;)h.shift().complete();p.complete()},function(g){for(;h.length>0;)h.shift().error(g);p.error(g)},function(){f=null,h=null}))})}t.windowCount=o}),iz=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var r=hr(),e=Gr(),n=hn(),i=ce(),o=ve(),s=po(),a=Zr(),c=fo();function l(p){for(var h,f,b=[],g=1;g<arguments.length;g++)b[g-1]=arguments[g];var w=(h=a.popScheduler(b))!==null&&h!==void 0?h:e.asyncScheduler,_=(f=b[0])!==null&&f!==void 0?f:null,S=b[1]||1/0;return i.operate(function(x,C){var I=[],k=!1,P=function(B){var Q=B.window,ie=B.subs;Q.complete(),ie.unsubscribe(),s.arrRemove(I,B),k&&D()},D=function(){if(I){var B=new n.Subscription;C.add(B);var Q=new r.Subject,ie={window:Q,subs:B,seen:0};I.push(ie),C.next(Q.asObservable()),c.executeSchedule(B,w,function(){return P(ie)},p)}};_!==null&&_>=0?c.executeSchedule(C,w,D,_,!0):k=!0,D();var j=function(B){return I.slice().forEach(B)},L=function(B){j(function(Q){var ie=Q.window;return B(ie)}),B(C),C.unsubscribe()};return x.subscribe(o.createOperatorSubscriber(C,function(B){j(function(Q){Q.window.next(B),S<=++Q.seen&&P(Q)})},function(){return L(function(B){return B.complete()})},function(B){return L(function(Q){return Q.error(B)})})),function(){I=null}})}t.windowTime=l}),oz=N(t=>{"use strict";var r=t&&t.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,f=h&&p[h],b=0;if(f)return f.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&b>=p.length&&(p=void 0),{value:p&&p[b++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var e=hr(),n=hn(),i=ce(),o=We(),s=ve(),a=pr(),c=po();function l(p,h){return i.operate(function(f,b){var g=[],w=function(_){for(;0<g.length;)g.shift().error(_);b.error(_)};o.innerFrom(p).subscribe(s.createOperatorSubscriber(b,function(_){var S=new e.Subject;g.push(S);var x=new n.Subscription,C=function(){c.arrRemove(g,S),S.complete(),x.unsubscribe()},I;try{I=o.innerFrom(h(_))}catch(k){w(k);return}b.next(S.asObservable()),x.add(I.subscribe(s.createOperatorSubscriber(b,C,a.noop,w)))},a.noop)),f.subscribe(s.createOperatorSubscriber(b,function(_){var S,x,C=g.slice();try{for(var I=r(C),k=I.next();!k.done;k=I.next()){var P=k.value;P.next(_)}}catch(D){S={error:D}}finally{try{k&&!k.done&&(x=I.return)&&x.call(I)}finally{if(S)throw S.error}}},function(){for(;0<g.length;)g.shift().complete();b.complete()},w,function(){for(;0<g.length;)g.shift().unsubscribe()}))})}t.windowToggle=l}),sz=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var r=hr(),e=ce(),n=ve(),i=We();function o(s){return e.operate(function(a,c){var l,p,h=function(b){l.error(b),c.error(b)},f=function(){p==null||p.unsubscribe(),l==null||l.complete(),l=new r.Subject,c.next(l.asObservable());var b;try{b=i.innerFrom(s())}catch(g){h(g);return}b.subscribe(p=n.createOperatorSubscriber(c,f,f,h))};f(),a.subscribe(n.createOperatorSubscriber(c,function(b){return l.next(b)},function(){l.complete(),c.complete()},h,function(){p==null||p.unsubscribe(),l=null}))})}t.windowWhen=o}),az=N(t=>{"use strict";var r=t&&t.__read||function(p,h){var f=typeof Symbol=="function"&&p[Symbol.iterator];if(!f)return p;var b=f.call(p),g,w=[],_;try{for(;(h===void 0||h-- >0)&&!(g=b.next()).done;)w.push(g.value)}catch(S){_={error:S}}finally{try{g&&!g.done&&(f=b.return)&&f.call(b)}finally{if(_)throw _.error}}return w},e=t&&t.__spreadArray||function(p,h){for(var f=0,b=h.length,g=p.length;f<b;f++,g++)p[g]=h[f];return p};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var n=ce(),i=ve(),o=We(),s=fr(),a=pr(),c=Zr();function l(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];var f=c.popResultSelector(p);return n.operate(function(b,g){for(var w=p.length,_=new Array(w),S=p.map(function(){return!1}),x=!1,C=function(k){o.innerFrom(p[k]).subscribe(i.createOperatorSubscriber(g,function(P){_[k]=P,!x&&!S[k]&&(S[k]=!0,(x=S.every(s.identity))&&(S=null))},a.noop))},I=0;I<w;I++)C(I);b.subscribe(i.createOperatorSubscriber(g,function(k){if(x){var P=e([k],r(_));g.next(f?f.apply(void 0,e([],r(P))):P)}}))})}t.withLatestFrom=l}),uz=N(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var r=V_(),e=ax();function n(i){return e.joinAllInternals(r.zip,i)}t.zipAll=n}),cz=N(t=>{"use strict";var r=t&&t.__read||function(s,a){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var l=c.call(s),p,h=[],f;try{for(;(a===void 0||a-- >0)&&!(p=l.next()).done;)h.push(p.value)}catch(b){f={error:b}}finally{try{p&&!p.done&&(c=l.return)&&c.call(l)}finally{if(f)throw f.error}}return h},e=t&&t.__spreadArray||function(s,a){for(var c=0,l=a.length,p=s.length;c<l;c++,p++)s[p]=a[c];return s};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var n=V_(),i=ce();function o(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return i.operate(function(c,l){n.zip.apply(void 0,e([c],r(s))).subscribe(l)})}t.zip=o}),lz=N(t=>{"use strict";var r=t&&t.__read||function(o,s){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var c=a.call(o),l,p=[],h;try{for(;(s===void 0||s-- >0)&&!(l=c.next()).done;)p.push(l.value)}catch(f){h={error:f}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(h)throw h.error}}return p},e=t&&t.__spreadArray||function(o,s){for(var a=0,c=s.length,l=o.length;a<c;a++,l++)o[l]=s[a];return o};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var n=cz();function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n.zip.apply(void 0,e([],r(o)))}t.zipWith=i}),Z_=N(t=>{"use strict";var r=t&&t.__createBinding||(Object.create?function(yi,_i,nn,Qn){Qn===void 0&&(Qn=nn),Object.defineProperty(yi,Qn,{enumerable:!0,get:function(){return _i[nn]}})}:function(yi,_i,nn,Qn){Qn===void 0&&(Qn=nn),yi[Qn]=_i[nn]}),e=t&&t.__exportStar||function(yi,_i){for(var nn in yi)nn!=="default"&&!Object.prototype.hasOwnProperty.call(_i,nn)&&r(_i,yi,nn)};Object.defineProperty(t,"__esModule",{value:!0}),t.interval=t.iif=t.generate=t.fromEventPattern=t.fromEvent=t.from=t.forkJoin=t.empty=t.defer=t.connectable=t.concat=t.combineLatest=t.bindNodeCallback=t.bindCallback=t.UnsubscriptionError=t.TimeoutError=t.SequenceError=t.ObjectUnsubscribedError=t.NotFoundError=t.EmptyError=t.ArgumentOutOfRangeError=t.firstValueFrom=t.lastValueFrom=t.isObservable=t.identity=t.noop=t.pipe=t.NotificationKind=t.Notification=t.Subscriber=t.Subscription=t.Scheduler=t.VirtualAction=t.VirtualTimeScheduler=t.animationFrameScheduler=t.animationFrame=t.queueScheduler=t.queue=t.asyncScheduler=t.async=t.asapScheduler=t.asap=t.AsyncSubject=t.ReplaySubject=t.BehaviorSubject=t.Subject=t.animationFrames=t.observable=t.ConnectableObservable=t.Observable=void 0,t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.combineLatestWith=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=t.config=t.NEVER=t.EMPTY=t.scheduled=t.zip=t.using=t.timer=t.throwError=t.range=t.race=t.partition=t.pairs=t.onErrorResumeNext=t.of=t.never=t.merge=void 0,t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.pairwise=t.onErrorResumeNextWith=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=t.mergeAll=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=void 0,t.zipWith=t.zipAll=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=void 0;var n=gt();Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return n.Observable}});var i=Tf();Object.defineProperty(t,"ConnectableObservable",{enumerable:!0,get:function(){return i.ConnectableObservable}});var o=Sf();Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return o.observable}});var s=tU();Object.defineProperty(t,"animationFrames",{enumerable:!0,get:function(){return s.animationFrames}});var a=hr();Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return a.Subject}});var c=jT();Object.defineProperty(t,"BehaviorSubject",{enumerable:!0,get:function(){return c.BehaviorSubject}});var l=N_();Object.defineProperty(t,"ReplaySubject",{enumerable:!0,get:function(){return l.ReplaySubject}});var p=F_();Object.defineProperty(t,"AsyncSubject",{enumerable:!0,get:function(){return p.AsyncSubject}});var h=uU();Object.defineProperty(t,"asap",{enumerable:!0,get:function(){return h.asap}}),Object.defineProperty(t,"asapScheduler",{enumerable:!0,get:function(){return h.asapScheduler}});var f=Gr();Object.defineProperty(t,"async",{enumerable:!0,get:function(){return f.async}}),Object.defineProperty(t,"asyncScheduler",{enumerable:!0,get:function(){return f.asyncScheduler}});var b=dU();Object.defineProperty(t,"queue",{enumerable:!0,get:function(){return b.queue}}),Object.defineProperty(t,"queueScheduler",{enumerable:!0,get:function(){return b.queueScheduler}});var g=hU();Object.defineProperty(t,"animationFrame",{enumerable:!0,get:function(){return g.animationFrame}}),Object.defineProperty(t,"animationFrameScheduler",{enumerable:!0,get:function(){return g.animationFrameScheduler}});var w=mU();Object.defineProperty(t,"VirtualTimeScheduler",{enumerable:!0,get:function(){return w.VirtualTimeScheduler}}),Object.defineProperty(t,"VirtualAction",{enumerable:!0,get:function(){return w.VirtualAction}});var _=DT();Object.defineProperty(t,"Scheduler",{enumerable:!0,get:function(){return _.Scheduler}});var S=hn();Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return S.Subscription}});var x=ml();Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return x.Subscriber}});var C=B_();Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return C.Notification}}),Object.defineProperty(t,"NotificationKind",{enumerable:!0,get:function(){return C.NotificationKind}});var I=Pf();Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return I.pipe}});var k=pr();Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return k.noop}});var P=fr();Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return P.identity}});var D=_U();Object.defineProperty(t,"isObservable",{enumerable:!0,get:function(){return D.isObservable}});var j=wU();Object.defineProperty(t,"lastValueFrom",{enumerable:!0,get:function(){return j.lastValueFrom}});var L=EU();Object.defineProperty(t,"firstValueFrom",{enumerable:!0,get:function(){return L.firstValueFrom}});var B=JT();Object.defineProperty(t,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return B.ArgumentOutOfRangeError}});var Q=ys();Object.defineProperty(t,"EmptyError",{enumerable:!0,get:function(){return Q.EmptyError}});var ie=YT();Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return ie.NotFoundError}});var te=FT();Object.defineProperty(t,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return te.ObjectUnsubscribedError}});var be=KT();Object.defineProperty(t,"SequenceError",{enumerable:!0,get:function(){return be.SequenceError}});var we=b_();Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return we.TimeoutError}});var ke=IT();Object.defineProperty(t,"UnsubscriptionError",{enumerable:!0,get:function(){return ke.UnsubscriptionError}});var oe=OU();Object.defineProperty(t,"bindCallback",{enumerable:!0,get:function(){return oe.bindCallback}});var Ge=SU();Object.defineProperty(t,"bindNodeCallback",{enumerable:!0,get:function(){return Ge.bindNodeCallback}});var yt=$_();Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return yt.combineLatest}});var Hn=If();Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return Hn.concat}});var Gn=PU();Object.defineProperty(t,"connectable",{enumerable:!0,get:function(){return Gn.connectable}});var Pt=kf();Object.defineProperty(t,"defer",{enumerable:!0,get:function(){return Pt.defer}});var Gt=ii();Object.defineProperty(t,"empty",{enumerable:!0,get:function(){return Gt.empty}});var Zn=TU();Object.defineProperty(t,"forkJoin",{enumerable:!0,get:function(){return Zn.forkJoin}});var rs=ho();Object.defineProperty(t,"from",{enumerable:!0,get:function(){return rs.from}});var Jn=xU();Object.defineProperty(t,"fromEvent",{enumerable:!0,get:function(){return Jn.fromEvent}});var Qr=AU();Object.defineProperty(t,"fromEventPattern",{enumerable:!0,get:function(){return Qr.fromEventPattern}});var Zt=CU();Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return Zt.generate}});var br=MU();Object.defineProperty(t,"iif",{enumerable:!0,get:function(){return br.iif}});var nr=tx();Object.defineProperty(t,"interval",{enumerable:!0,get:function(){return nr.interval}});var en=IU();Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return en.merge}});var cr=hT();Object.defineProperty(t,"never",{enumerable:!0,get:function(){return cr.never}});var tn=q_();Object.defineProperty(t,"of",{enumerable:!0,get:function(){return tn.of}});var ga=rx();Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return ga.onErrorResumeNext}});var Pr=kU();Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return Pr.pairs}});var V=RU();Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return V.partition}});var X=nx();Object.defineProperty(t,"race",{enumerable:!0,get:function(){return X.race}});var pe=NU();Object.defineProperty(t,"range",{enumerable:!0,get:function(){return pe.range}});var ye=ZT();Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return ye.throwError}});var ae=Es();Object.defineProperty(t,"timer",{enumerable:!0,get:function(){return ae.timer}});var ot=FU();Object.defineProperty(t,"using",{enumerable:!0,get:function(){return ot.using}});var Yn=V_();Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return Yn.zip}});var Tr=GT();Object.defineProperty(t,"scheduled",{enumerable:!0,get:function(){return Tr.scheduled}});var vi=ii();Object.defineProperty(t,"EMPTY",{enumerable:!0,get:function(){return vi.EMPTY}});var Kn=hT();Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return Kn.NEVER}}),e(jU(),t);var _n=hl();Object.defineProperty(t,"config",{enumerable:!0,get:function(){return _n.config}});var Gi=ix();Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return Gi.audit}});var wn=DU();Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return wn.auditTime}});var En=qU();Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return En.buffer}});var wt=BU();Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return wt.bufferCount}});var Je=WU();Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return Je.bufferTime}});var Bt=$U();Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return Bt.bufferToggle}});var rn=UU();Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return rn.bufferWhen}});var On=zU();Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return On.catchError}});var Zi=VU();Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return Zi.combineAll}});var Xn=ux();Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return Xn.combineLatestAll}});var bi=GU();Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return bi.combineLatestWith}});var ya=z_();Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return ya.concatAll}});var Ji=cx();Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return Ji.concatMap}});var ns=ZU();Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return ns.concatMapTo}});var gc=YU();Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return gc.concatWith}});var tg=H_();Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return tg.connect}});var rg=XU();Object.defineProperty(t,"count",{enumerable:!0,get:function(){return rg.count}});var ng=QU();Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return ng.debounce}});var zd=e3();Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return zd.debounceTime}});var ig=Lf();Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return ig.defaultIfEmpty}});var og=t3();Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return og.delay}});var sg=px();Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return sg.delayWhen}});var yc=r3();Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return yc.dematerialize}});var ag=n3();Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return ag.distinct}});var _c=fx();Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return _c.distinctUntilChanged}});var ug=i3();Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return ug.distinctUntilKeyChanged}});var cg=o3();Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return cg.elementAt}});var lg=s3();Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return lg.endWith}});var dg=a3();Object.defineProperty(t,"every",{enumerable:!0,get:function(){return dg.every}});var pg=u3();Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return pg.exhaust}});var fg=mx();Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return fg.exhaustAll}});var hg=hx();Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return hg.exhaustMap}});var mg=c3();Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return mg.expand}});var Vd=Ga();Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return Vd.filter}});var vg=l3();Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return vg.finalize}});var bg=vx();Object.defineProperty(t,"find",{enumerable:!0,get:function(){return bg.find}});var gg=d3();Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return gg.findIndex}});var yg=p3();Object.defineProperty(t,"first",{enumerable:!0,get:function(){return yg.first}});var _g=f3();Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return _g.groupBy}});var wg=lx();Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return wg.ignoreElements}});var _a=h3();Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return _a.isEmpty}});var Eg=m3();Object.defineProperty(t,"last",{enumerable:!0,get:function(){return Eg.last}});var wa=_s();Object.defineProperty(t,"map",{enumerable:!0,get:function(){return wa.map}});var Og=dx();Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return Og.mapTo}});var Sg=v3();Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return Sg.materialize}});var Pg=b3();Object.defineProperty(t,"max",{enumerable:!0,get:function(){return Pg.max}});var Hd=Mf();Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return Hd.mergeAll}});var Gd=g3();Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return Gd.flatMap}});var Zd=mo();Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return Zd.mergeMap}});var Tg=y3();Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return Tg.mergeMapTo}});var xg=_3();Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return xg.mergeScan}});var Ag=E3();Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return Ag.mergeWith}});var Cg=O3();Object.defineProperty(t,"min",{enumerable:!0,get:function(){return Cg.min}});var Jd=G_();Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return Jd.multicast}});var Yd=Af();Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return Yd.observeOn}});var Kd=S3();Object.defineProperty(t,"onErrorResumeNextWith",{enumerable:!0,get:function(){return Kd.onErrorResumeNextWith}});var wc=P3();Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return wc.pairwise}});var Mg=T3();Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return Mg.pluck}});var Xd=x3();Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return Xd.publish}});var Ea=A3();Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return Ea.publishBehavior}});var Qd=C3();Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return Qd.publishLast}});var Ig=M3();Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return Ig.publishReplay}});var ep=I3();Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return ep.raceWith}});var tp=gl();Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return tp.reduce}});var Ec=k3();Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return Ec.repeat}});var kg=L3();Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return kg.repeatWhen}});var rp=R3();Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return rp.retry}});var Oc=N3();Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return Oc.retryWhen}});var Sc=RT();Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return Sc.refCount}});var Yi=gx();Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return Yi.sample}});var np=F3();Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return np.sampleTime}});var ip=j3();Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return ip.scan}});var Lg=D3();Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return Lg.sequenceEqual}});var op=yx();Object.defineProperty(t,"share",{enumerable:!0,get:function(){return op.share}});var sp=q3();Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return sp.shareReplay}});var ap=B3();Object.defineProperty(t,"single",{enumerable:!0,get:function(){return ap.single}});var up=W3();Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return up.skip}});var Rg=$3();Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return Rg.skipLast}});var Ng=U3();Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return Ng.skipUntil}});var Fg=z3();Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return Fg.skipWhile}});var cp=V3();Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return cp.startWith}});var jg=Cf();Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return jg.subscribeOn}});var Dg=H3();Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return Dg.switchAll}});var qg=Ff();Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return qg.switchMap}});var Bg=G3();Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return Bg.switchMapTo}});var Pc=Z3();Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return Pc.switchScan}});var Wg=Rf();Object.defineProperty(t,"take",{enumerable:!0,get:function(){return Wg.take}});var $g=bx();Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return $g.takeLast}});var Ug=J3();Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return Ug.takeUntil}});var zg=Y3();Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return zg.takeWhile}});var Vg=K3();Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return Vg.tap}});var vt=_x();Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return vt.throttle}});var ft=X3();Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return ft.throttleTime}});var Hg=Nf();Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return Hg.throwIfEmpty}});var Gg=Q3();Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return Gg.timeInterval}});var Zg=b_();Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Zg.timeout}});var Jg=ez();Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return Jg.timeoutWith}});var Yg=tz();Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return Yg.timestamp}});var Kg=sx();Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return Kg.toArray}});var lp=rz();Object.defineProperty(t,"window",{enumerable:!0,get:function(){return lp.window}});var Xg=nz();Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return Xg.windowCount}});var Wt=iz();Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return Wt.windowTime}});var Tc=oz();Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return Tc.windowToggle}});var gi=sz();Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return gi.windowWhen}});var dp=az();Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return dp.withLatestFrom}});var xc=uz();Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return xc.zipAll}});var xr=lz();Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return xr.zipWith}})}),dz=N((t,r)=>{var e=1e3,n=e*60,i=n*60,o=i*24,s=o*7,a=o*365.25;r.exports=function(f,b){b=b||{};var g=typeof f;if(g==="string"&&f.length>0)return c(f);if(g==="number"&&isFinite(f))return b.long?p(f):l(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function c(f){if(f=String(f),!(f.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(b){var g=parseFloat(b[1]),w=(b[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*s;case"days":case"day":case"d":return g*o;case"hours":case"hour":case"hrs":case"hr":case"h":return g*i;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function l(f){var b=Math.abs(f);return b>=o?Math.round(f/o)+"d":b>=i?Math.round(f/i)+"h":b>=n?Math.round(f/n)+"m":b>=e?Math.round(f/e)+"s":f+"ms"}function p(f){var b=Math.abs(f);return b>=o?h(f,b,o,"day"):b>=i?h(f,b,i,"hour"):b>=n?h(f,b,n,"minute"):b>=e?h(f,b,e,"second"):f+" ms"}function h(f,b,g,w){var _=b>=g*1.5;return Math.round(f/g)+" "+w+(_?"s":"")}}),wx=N((t,r)=>{function e(n){o.debug=o,o.default=o,o.coerce=h,o.disable=c,o.enable=a,o.enabled=l,o.humanize=dz(),o.destroy=f,Object.keys(n).forEach(b=>{o[b]=n[b]}),o.names=[],o.skips=[],o.formatters={};function i(b){let g=0;for(let w=0;w<b.length;w++)g=(g<<5)-g+b.charCodeAt(w),g|=0;return o.colors[Math.abs(g)%o.colors.length]}o.selectColor=i;function o(b){let g,w=null,_,S;function x(...C){if(!x.enabled)return;let I=x,k=Number(new Date),P=k-(g||k);I.diff=P,I.prev=g,I.curr=k,g=k,C[0]=o.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let D=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(j,L)=>{if(j==="%%")return"%";D++;let B=o.formatters[L];if(typeof B=="function"){let Q=C[D];j=B.call(I,Q),C.splice(D,1),D--}return j}),o.formatArgs.call(I,C),(I.log||o.log).apply(I,C)}return x.namespace=b,x.useColors=o.useColors(),x.color=o.selectColor(b),x.extend=s,x.destroy=o.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(_!==o.namespaces&&(_=o.namespaces,S=o.enabled(b)),S),set:C=>{w=C}}),typeof o.init=="function"&&o.init(x),x}function s(b,g){let w=o(this.namespace+(typeof g>"u"?":":g)+b);return w.log=this.log,w}function a(b){o.save(b),o.namespaces=b,o.names=[],o.skips=[];let g,w=(typeof b=="string"?b:"").split(/[\s,]+/),_=w.length;for(g=0;g<_;g++)w[g]&&(b=w[g].replace(/\*/g,".*?"),b[0]==="-"?o.skips.push(new RegExp("^"+b.slice(1)+"$")):o.names.push(new RegExp("^"+b+"$")))}function c(){let b=[...o.names.map(p),...o.skips.map(p).map(g=>"-"+g)].join(",");return o.enable(""),b}function l(b){if(b[b.length-1]==="*")return!0;let g,w;for(g=0,w=o.skips.length;g<w;g++)if(o.skips[g].test(b))return!1;for(g=0,w=o.names.length;g<w;g++)if(o.names[g].test(b))return!0;return!1}function p(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}function h(b){return b instanceof Error?b.stack||b.message:b}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}r.exports=e}),pz=N((t,r)=>{t.formatArgs=n,t.save=i,t.load=o,t.useColors=e,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;let l="color: "+this.color;c.splice(1,0,l,"color: inherit");let p=0,h=0;c[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(p++,f==="%c"&&(h=p))}),c.splice(h,0,l)}t.log=console.debug||console.log||(()=>{});function i(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function o(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=E.DEBUG),c}function s(){try{return localStorage}catch{}}r.exports=wx()(t);var{formatters:a}=r.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}),fz=N((t,r)=>{"use strict";r.exports=(e,n=process.argv)=>{let i=e.startsWith("-")?"":e.length===1?"-":"--",o=n.indexOf(i+e),s=n.indexOf("--");return o!==-1&&(s===-1||o<s)}}),hz=N((t,r)=>{"use strict";var e=lt("os"),n=lt("tty"),i=fz(),{env:o}=process,s;i("no-color")||i("no-colors")||i("color=false")||i("color=never")?s=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=1);function a(){if("FORCE_COLOR"in o)return o.FORCE_COLOR==="true"?1:o.FORCE_COLOR==="false"?0:o.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(o.FORCE_COLOR,10),3)}function c(h){return h===0?!1:{level:h,hasBasic:!0,has256:h>=2,has16m:h>=3}}function l(h,{streamIsTTY:f,sniffFlags:b=!0}={}){let g=a();g!==void 0&&(s=g);let w=b?s:g;if(w===0)return 0;if(b){if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2}if(h&&!f&&w===void 0)return 0;let _=w||0;if(o.TERM==="dumb")return _;if(process.platform==="win32"){let S=e.release().split(".");return Number(S[0])>=10&&Number(S[2])>=10586?Number(S[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(S=>S in o)||o.CI_NAME==="codeship"?1:_;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if(o.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in o){let S=Number.parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return S>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:_}function p(h,f={}){let b=l(h,z({streamIsTTY:h&&h.isTTY},f));return c(b)}r.exports={supportsColor:p,stdout:p({isTTY:n.isatty(1)}),stderr:p({isTTY:n.isatty(2)})}}),mz=N((t,r)=>{var e=lt("tty"),n=lt("util");t.init=p,t.log=a,t.formatArgs=o,t.save=c,t.load=l,t.useColors=i,t.destroy=n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let f=hz();f&&(f.stderr||f).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(E).filter(f=>/^debug_/i.test(f)).reduce((f,b)=>{let g=b.substring(6).toLowerCase().replace(/_([a-z])/g,(_,S)=>S.toUpperCase()),w=E[b];return/^(yes|on|true|enabled)$/i.test(w)?w=!0:/^(no|off|false|disabled)$/i.test(w)?w=!1:w==="null"?w=null:w=Number(w),f[g]=w,f},{});function i(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:e.isatty(process.stderr.fd)}function o(f){let{namespace:b,useColors:g}=this;if(g){let w=this.color,_="\x1B[3"+(w<8?w:"8;5;"+w),S=`  ${_};1m${b} \x1B[0m`;f[0]=S+f[0].split(`
`).join(`
`+S),f.push(_+"m+"+r.exports.humanize(this.diff)+"\x1B[0m")}else f[0]=s()+b+" "+f[0]}function s(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function a(...f){return process.stderr.write(n.formatWithOptions(t.inspectOpts,...f)+`
`)}function c(f){f?E.DEBUG=f:delete E.DEBUG}function l(){return E.DEBUG}function p(f){f.inspectOpts={};let b=Object.keys(t.inspectOpts);for(let g=0;g<b.length;g++)f.inspectOpts[b[g]]=t.inspectOpts[b[g]]}r.exports=wx()(t);var{formatters:h}=r.exports;h.o=function(f){return this.inspectOpts.colors=this.useColors,n.inspect(f,this.inspectOpts).split(`
`).map(b=>b.trim()).join(" ")},h.O=function(f){return this.inspectOpts.colors=this.useColors,n.inspect(f,this.inspectOpts)}}),Rn=N((t,r)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?r.exports=pz():r.exports=mz()}),Za=N(t=>{t.Emitter=r;function r(n){if(n)return e(n)}function e(n){for(var i in r.prototype)n[i]=r.prototype[i];return n}r.prototype.on=r.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},r.prototype.once=function(n,i){function o(){this.off(n,o),i.apply(this,arguments)}return o.fn=i,this.on(n,o),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+n];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,a=0;a<o.length;a++)if(s=o[a],s===i||s.fn===i){o.splice(a,1);break}return o.length===0&&delete this._callbacks["$"+n],this},r.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),o=this._callbacks["$"+n],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(o){o=o.slice(0);for(var s=0,a=o.length;s<a;++s)o[s].apply(this,i)}return this},r.prototype.emitReserved=r.prototype.emit,r.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},r.prototype.hasListeners=function(n){return!!this.listeners(n).length}}),vz=N((t,r)=>{var e=lt("fs"),n=lt("url"),i=lt("child_process").spawn;r.exports=o,o.XMLHttpRequest=o;function o(s){"use strict";s=s||{};var a=this,c=lt("http"),l=lt("https"),p,h,f={},b=!1,g={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},w=Object.assign({},g),_=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],S=["TRACE","TRACK","CONNECT"],x=!1,C=!1,I=!1,k={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var P=function(L){return b||L&&_.indexOf(L.toLowerCase())===-1},D=function(L){return L&&S.indexOf(L)===-1};this.open=function(L,B,Q,ie,te){if(this.abort(),C=!1,I=!1,!D(L))throw new Error("SecurityError: Request method not allowed");f={method:L,url:B.toString(),async:typeof Q!="boolean"?!0:Q,user:ie||null,password:te||null},j(this.OPENED)},this.setDisableHeaderCheck=function(L){b=L},this.setRequestHeader=function(L,B){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!P(L))return console.warn('Refused to set unsafe header "'+L+'"'),!1;if(x)throw new Error("INVALID_STATE_ERR: send flag is true");return w[L]=B,!0},this.getResponseHeader=function(L){return typeof L=="string"&&this.readyState>this.OPENED&&h.headers[L.toLowerCase()]&&!C?h.headers[L.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||C)return"";var L="";for(var B in h.headers)B!=="set-cookie"&&B!=="set-cookie2"&&(L+=B+": "+h.headers[B]+`\r
`);return L.substr(0,L.length-2)},this.getRequestHeader=function(L){return typeof L=="string"&&w[L]?w[L]:""},this.send=function(L){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(x)throw new Error("INVALID_STATE_ERR: send has already been called");var B=!1,Q=!1,ie=n.parse(f.url),te;switch(ie.protocol){case"https:":B=!0;case"http:":te=ie.hostname;break;case"file:":Q=!0;break;case void 0:case"":te="localhost";break;default:throw new Error("Protocol not supported.")}if(Q){if(f.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(f.async)e.readFile(unescape(ie.pathname),"utf8",function(Zt,br){Zt?a.handleError(Zt,Zt.errno||-1):(a.status=200,a.responseText=br,j(a.DONE))});else try{this.responseText=e.readFileSync(unescape(ie.pathname),"utf8"),this.status=200,j(a.DONE)}catch(Zt){this.handleError(Zt,Zt.errno||-1)}return}var be=ie.port||(B?443:80),we=ie.pathname+(ie.search?ie.search:"");if(w.Host=te,B&&be===443||be===80||(w.Host+=":"+ie.port),f.user){typeof f.password>"u"&&(f.password="");var ke=new Buffer(f.user+":"+f.password);w.Authorization="Basic "+ke.toString("base64")}f.method==="GET"||f.method==="HEAD"?L=null:L?(w["Content-Length"]=Buffer.isBuffer(L)?L.length:Buffer.byteLength(L),w["Content-Type"]||(w["Content-Type"]="text/plain;charset=UTF-8")):f.method==="POST"&&(w["Content-Length"]=0);var oe=s.agent||!1,Ge={host:te,port:be,path:we,method:f.method,headers:w,agent:oe};if(B&&(Ge.pfx=s.pfx,Ge.key=s.key,Ge.passphrase=s.passphrase,Ge.cert=s.cert,Ge.ca=s.ca,Ge.ciphers=s.ciphers,Ge.rejectUnauthorized=s.rejectUnauthorized!==!1),C=!1,f.async){var yt=B?l.request:c.request;x=!0,a.dispatchEvent("readystatechange");var Hn=function(Zt){if(h=Zt,h.statusCode===302||h.statusCode===303||h.statusCode===307){f.url=h.headers.location;var br=n.parse(f.url);te=br.hostname;var nr={hostname:br.hostname,port:br.port,path:br.path,method:h.statusCode===303?"GET":f.method,headers:w};B&&(nr.pfx=s.pfx,nr.key=s.key,nr.passphrase=s.passphrase,nr.cert=s.cert,nr.ca=s.ca,nr.ciphers=s.ciphers,nr.rejectUnauthorized=s.rejectUnauthorized!==!1),p=yt(nr,Hn).on("error",Gn),p.end();return}h&&h.setEncoding&&h.setEncoding("utf8"),j(a.HEADERS_RECEIVED),a.status=h.statusCode,h.on("data",function(en){en&&(a.responseText+=en),x&&j(a.LOADING)}),h.on("end",function(){x&&(x=!1,j(a.DONE))}),h.on("error",function(en){a.handleError(en)})},Gn=function(Zt){a.handleError(Zt)};p=yt(Ge,Hn).on("error",Gn),s.autoUnref&&p.on("socket",Zt=>{Zt.unref()}),L&&p.write(L),p.end(),a.dispatchEvent("loadstart")}else{var Pt=".node-xmlhttprequest-content-"+process.pid,Gt=".node-xmlhttprequest-sync-"+process.pid;e.writeFileSync(Gt,"","utf8");for(var Zn="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(B?"s":"")+".request;var options = "+JSON.stringify(Ge)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+Pt+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+Gt+"');});response.on('error', function(error) {fs.writeFileSync('"+Pt+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+Gt+"');});}).on('error', function(error) {fs.writeFileSync('"+Pt+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+Gt+"');});"+(L?"req.write('"+JSON.stringify(L).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",rs=i(process.argv[0],["-e",Zn]),Jn;e.existsSync(Gt););if(a.responseText=e.readFileSync(Pt,"utf8"),rs.stdin.end(),e.unlinkSync(Pt),a.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var Qr=a.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");a.handleError(Qr,503)}else a.status=a.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),a.responseText=a.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),j(a.DONE)}},this.handleError=function(L,B){this.status=B||0,this.statusText=L,this.responseText=L.stack,C=!0,j(this.DONE)},this.abort=function(){p&&(p.abort(),p=null),w=Object.assign({},g),this.responseText="",this.responseXML="",C=I=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||x)&&this.readyState!==this.DONE&&(x=!1,j(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(L,B){L in k||(k[L]=[]),k[L].push(B)},this.removeEventListener=function(L,B){L in k&&(k[L]=k[L].filter(function(Q){return Q!==B}))},this.dispatchEvent=function(L){if(typeof a["on"+L]=="function"&&(this.readyState===this.DONE?setImmediate(function(){a["on"+L]()}):a["on"+L]()),L in k)for(let B=0,Q=k[L].length;B<Q;B++)this.readyState===this.DONE?setImmediate(function(){k[L][B].call(a)}):k[L][B].call(a)};var j=function(L){if(!(a.readyState===L||a.readyState===a.UNSENT&&I)&&(a.readyState=L,(f.async||a.readyState<a.OPENED||a.readyState===a.DONE)&&a.dispatchEvent("readystatechange"),a.readyState===a.DONE)){let B;I?B="abort":C?B="error":B="load",a.dispatchEvent(B),a.dispatchEvent("loadend")}}}}),bz=N((t,r)=>{"use strict";var{Duplex:e}=lt("stream");function n(a){a.emit("close")}function i(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(a){this.removeListener("error",o),this.destroy(),this.listenerCount("error")===0&&this.emit("error",a)}function s(a,c){let l=!0,p=new e(Ee(z({},c),{autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1}));return a.on("message",function(h,f){let b=!f&&p._readableState.objectMode?h.toString():h;p.push(b)||a.pause()}),a.once("error",function(h){p.destroyed||(l=!1,p.destroy(h))}),a.once("close",function(){p.destroyed||p.push(null)}),p._destroy=function(h,f){if(a.readyState===a.CLOSED){f(h),process.nextTick(n,p);return}let b=!1;a.once("error",function(g){b=!0,f(g)}),a.once("close",function(){b||f(h),process.nextTick(n,p)}),l&&a.terminate()},p._final=function(h){if(a.readyState===a.CONNECTING){a.once("open",function(){p._final(h)});return}a._socket!==null&&(a._socket._writableState.finished?(h(),p._readableState.endEmitted&&p.destroy()):(a._socket.once("finish",function(){h()}),a.close()))},p._read=function(){a.isPaused&&a.resume()},p._write=function(h,f,b){if(a.readyState===a.CONNECTING){a.once("open",function(){p._write(h,f,b)});return}a.send(h,b)},p.on("end",i),p.on("error",o),p}r.exports=s}),Os=N((t,r)=>{"use strict";r.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}}),jf=N((t,r)=>{"use strict";var{EMPTY_BUFFER:e}=Os(),n=Buffer[Symbol.species];function i(l,p){if(l.length===0)return e;if(l.length===1)return l[0];let h=Buffer.allocUnsafe(p),f=0;for(let b=0;b<l.length;b++){let g=l[b];h.set(g,f),f+=g.length}return f<p?new n(h.buffer,h.byteOffset,f):h}function o(l,p,h,f,b){for(let g=0;g<b;g++)h[f+g]=l[g]^p[g&3]}function s(l,p){for(let h=0;h<l.length;h++)l[h]^=p[h&3]}function a(l){return l.length===l.buffer.byteLength?l.buffer:l.buffer.slice(l.byteOffset,l.byteOffset+l.length)}function c(l){if(c.readOnly=!0,Buffer.isBuffer(l))return l;let p;return l instanceof ArrayBuffer?p=new n(l):ArrayBuffer.isView(l)?p=new n(l.buffer,l.byteOffset,l.byteLength):(p=Buffer.from(l),c.readOnly=!1),p}if(r.exports={concat:i,mask:o,toArrayBuffer:a,toBuffer:c,unmask:s},!E.WS_NO_BUFFER_UTIL)try{let l=lt("bufferutil");r.exports.mask=function(p,h,f,b,g){g<48?o(p,h,f,b,g):l.mask(p,h,f,b,g)},r.exports.unmask=function(p,h){p.length<32?s(p,h):l.unmask(p,h)}}catch{}}),gz=N((t,r)=>{"use strict";var e=Symbol("kDone"),n=Symbol("kRun"),i=class{constructor(o){this[e]=()=>{this.pending--,this[n]()},this.concurrency=o||1/0,this.jobs=[],this.pending=0}add(o){this.jobs.push(o),this[n]()}[n](){if(this.pending!==this.concurrency&&this.jobs.length){let o=this.jobs.shift();this.pending++,o(this[e])}}};r.exports=i}),Df=N((t,r)=>{"use strict";var e=lt("zlib"),n=jf(),i=gz(),{kStatusCode:o}=Os(),s=Buffer[Symbol.species],a=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),l=Symbol("total-length"),p=Symbol("callback"),h=Symbol("buffers"),f=Symbol("error"),b,g=class{constructor(x,C,I){if(this._maxPayload=I|0,this._options=x||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!C,this._deflate=null,this._inflate=null,this.params=null,!b){let k=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;b=new i(k)}}static get extensionName(){return"permessage-deflate"}offer(){let x={};return this._options.serverNoContextTakeover&&(x.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(x.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(x.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?x.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(x.client_max_window_bits=!0),x}accept(x){return x=this.normalizeParams(x),this.params=this._isServer?this.acceptAsServer(x):this.acceptAsClient(x),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let x=this._deflate[p];this._deflate.close(),this._deflate=null,x&&x(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(x){let C=this._options,I=x.find(k=>!(C.serverNoContextTakeover===!1&&k.server_no_context_takeover||k.server_max_window_bits&&(C.serverMaxWindowBits===!1||typeof C.serverMaxWindowBits=="number"&&C.serverMaxWindowBits>k.server_max_window_bits)||typeof C.clientMaxWindowBits=="number"&&!k.client_max_window_bits));if(!I)throw new Error("None of the extension offers can be accepted");return C.serverNoContextTakeover&&(I.server_no_context_takeover=!0),C.clientNoContextTakeover&&(I.client_no_context_takeover=!0),typeof C.serverMaxWindowBits=="number"&&(I.server_max_window_bits=C.serverMaxWindowBits),typeof C.clientMaxWindowBits=="number"?I.client_max_window_bits=C.clientMaxWindowBits:(I.client_max_window_bits===!0||C.clientMaxWindowBits===!1)&&delete I.client_max_window_bits,I}acceptAsClient(x){let C=x[0];if(this._options.clientNoContextTakeover===!1&&C.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!C.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(C.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&C.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return C}normalizeParams(x){return x.forEach(C=>{Object.keys(C).forEach(I=>{let k=C[I];if(k.length>1)throw new Error(`Parameter "${I}" must have only a single value`);if(k=k[0],I==="client_max_window_bits"){if(k!==!0){let P=+k;if(!Number.isInteger(P)||P<8||P>15)throw new TypeError(`Invalid value for parameter "${I}": ${k}`);k=P}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${I}": ${k}`)}else if(I==="server_max_window_bits"){let P=+k;if(!Number.isInteger(P)||P<8||P>15)throw new TypeError(`Invalid value for parameter "${I}": ${k}`);k=P}else if(I==="client_no_context_takeover"||I==="server_no_context_takeover"){if(k!==!0)throw new TypeError(`Invalid value for parameter "${I}": ${k}`)}else throw new Error(`Unknown parameter "${I}"`);C[I]=k})}),x}decompress(x,C,I){b.add(k=>{this._decompress(x,C,(P,D)=>{k(),I(P,D)})})}compress(x,C,I){b.add(k=>{this._compress(x,C,(P,D)=>{k(),I(P,D)})})}_decompress(x,C,I){let k=this._isServer?"client":"server";if(!this._inflate){let P=`${k}_max_window_bits`,D=typeof this.params[P]!="number"?e.Z_DEFAULT_WINDOWBITS:this.params[P];this._inflate=e.createInflateRaw(Ee(z({},this._options.zlibInflateOptions),{windowBits:D})),this._inflate[c]=this,this._inflate[l]=0,this._inflate[h]=[],this._inflate.on("error",S),this._inflate.on("data",_)}this._inflate[p]=I,this._inflate.write(x),C&&this._inflate.write(a),this._inflate.flush(()=>{let P=this._inflate[f];if(P){this._inflate.close(),this._inflate=null,I(P);return}let D=n.concat(this._inflate[h],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[h]=[],C&&this.params[`${k}_no_context_takeover`]&&this._inflate.reset()),I(null,D)})}_compress(x,C,I){let k=this._isServer?"server":"client";if(!this._deflate){let P=`${k}_max_window_bits`,D=typeof this.params[P]!="number"?e.Z_DEFAULT_WINDOWBITS:this.params[P];this._deflate=e.createDeflateRaw(Ee(z({},this._options.zlibDeflateOptions),{windowBits:D})),this._deflate[l]=0,this._deflate[h]=[],this._deflate.on("data",w)}this._deflate[p]=I,this._deflate.write(x),this._deflate.flush(e.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let P=n.concat(this._deflate[h],this._deflate[l]);C&&(P=new s(P.buffer,P.byteOffset,P.length-4)),this._deflate[p]=null,this._deflate[l]=0,this._deflate[h]=[],C&&this.params[`${k}_no_context_takeover`]&&this._deflate.reset(),I(null,P)})}};r.exports=g;function w(x){this[h].push(x),this[l]+=x.length}function _(x){if(this[l]+=x.length,this[c]._maxPayload<1||this[l]<=this[c]._maxPayload){this[h].push(x);return}this[f]=new RangeError("Max payload size exceeded"),this[f].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[f][o]=1009,this.removeListener("data",_),this.reset()}function S(x){this[c]._inflate=null,x[o]=1007,this[p](x)}}),qf=N((t,r)=>{"use strict";var{isUtf8:e}=lt("buffer"),n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(s){return s>=1e3&&s<=1014&&s!==1004&&s!==1005&&s!==1006||s>=3e3&&s<=4999}function o(s){let a=s.length,c=0;for(;c<a;)if(!(s[c]&128))c++;else if((s[c]&224)===192){if(c+1===a||(s[c+1]&192)!==128||(s[c]&254)===192)return!1;c+=2}else if((s[c]&240)===224){if(c+2>=a||(s[c+1]&192)!==128||(s[c+2]&192)!==128||s[c]===224&&(s[c+1]&224)===128||s[c]===237&&(s[c+1]&224)===160)return!1;c+=3}else if((s[c]&248)===240){if(c+3>=a||(s[c+1]&192)!==128||(s[c+2]&192)!==128||(s[c+3]&192)!==128||s[c]===240&&(s[c+1]&240)===128||s[c]===244&&s[c+1]>143||s[c]>244)return!1;c+=4}else return!1;return!0}if(r.exports={isValidStatusCode:i,isValidUTF8:o,tokenChars:n},e)r.exports.isValidUTF8=function(s){return s.length<24?o(s):e(s)};else if(!E.WS_NO_UTF_8_VALIDATE)try{let s=lt("utf-8-validate");r.exports.isValidUTF8=function(a){return a.length<32?o(a):s(a)}}catch{}}),Ex=N((t,r)=>{"use strict";var{Writable:e}=lt("stream"),n=Df(),{BINARY_TYPES:i,EMPTY_BUFFER:o,kStatusCode:s,kWebSocket:a}=Os(),{concat:c,toArrayBuffer:l,unmask:p}=jf(),{isValidStatusCode:h,isValidUTF8:f}=qf(),b=Buffer[Symbol.species],g=0,w=1,_=2,S=3,x=4,C=5,I=6,k=class extends e{constructor(P={}){super(),this._allowSynchronousEvents=P.allowSynchronousEvents!==void 0?P.allowSynchronousEvents:!0,this._binaryType=P.binaryType||i[0],this._extensions=P.extensions||{},this._isServer=!!P.isServer,this._maxPayload=P.maxPayload|0,this._skipUTF8Validation=!!P.skipUTF8Validation,this[a]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=g}_write(P,D,j){if(this._opcode===8&&this._state==g)return j();this._bufferedBytes+=P.length,this._buffers.push(P),this.startLoop(j)}consume(P){if(this._bufferedBytes-=P,P===this._buffers[0].length)return this._buffers.shift();if(P<this._buffers[0].length){let j=this._buffers[0];return this._buffers[0]=new b(j.buffer,j.byteOffset+P,j.length-P),new b(j.buffer,j.byteOffset,P)}let D=Buffer.allocUnsafe(P);do{let j=this._buffers[0],L=D.length-P;P>=j.length?D.set(this._buffers.shift(),L):(D.set(new Uint8Array(j.buffer,j.byteOffset,P),L),this._buffers[0]=new b(j.buffer,j.byteOffset+P,j.length-P)),P-=j.length}while(P>0);return D}startLoop(P){this._loop=!0;do switch(this._state){case g:this.getInfo(P);break;case w:this.getPayloadLength16(P);break;case _:this.getPayloadLength64(P);break;case S:this.getMask();break;case x:this.getData(P);break;case C:case I:this._loop=!1;return}while(this._loop);this._errored||P()}getInfo(P){if(this._bufferedBytes<2){this._loop=!1;return}let D=this.consume(2);if(D[0]&48){let L=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");P(L);return}let j=(D[0]&64)===64;if(j&&!this._extensions[n.extensionName]){let L=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");P(L);return}if(this._fin=(D[0]&128)===128,this._opcode=D[0]&15,this._payloadLength=D[1]&127,this._opcode===0){if(j){let L=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");P(L);return}if(!this._fragmented){let L=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");P(L);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let L=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");P(L);return}this._compressed=j}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let L=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");P(L);return}if(j){let L=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");P(L);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let L=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");P(L);return}}else{let L=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");P(L);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(D[1]&128)===128,this._isServer){if(!this._masked){let L=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");P(L);return}}else if(this._masked){let L=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");P(L);return}this._payloadLength===126?this._state=w:this._payloadLength===127?this._state=_:this.haveLength(P)}getPayloadLength16(P){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(P)}getPayloadLength64(P){if(this._bufferedBytes<8){this._loop=!1;return}let D=this.consume(8),j=D.readUInt32BE(0);if(j>Math.pow(2,21)-1){let L=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");P(L);return}this._payloadLength=j*Math.pow(2,32)+D.readUInt32BE(4),this.haveLength(P)}haveLength(P){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let D=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");P(D);return}this._masked?this._state=S:this._state=x}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=x}getData(P){let D=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}D=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&p(D,this._mask)}if(this._opcode>7){this.controlMessage(D,P);return}if(this._compressed){this._state=C,this.decompress(D,P);return}D.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(D)),this.dataMessage(P)}decompress(P,D){this._extensions[n.extensionName].decompress(P,this._fin,(j,L)=>{if(j)return D(j);if(L.length){if(this._messageLength+=L.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let B=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");D(B);return}this._fragments.push(L)}this.dataMessage(D),this._state===g&&this.startLoop(D)})}dataMessage(P){if(!this._fin){this._state=g;return}let D=this._messageLength,j=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let L;this._binaryType==="nodebuffer"?L=c(j,D):this._binaryType==="arraybuffer"?L=l(c(j,D)):L=j,this._allowSynchronousEvents?(this.emit("message",L,!0),this._state=g):(this._state=I,setImmediate(()=>{this.emit("message",L,!0),this._state=g,this.startLoop(P)}))}else{let L=c(j,D);if(!this._skipUTF8Validation&&!f(L)){let B=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");P(B);return}this._state===C||this._allowSynchronousEvents?(this.emit("message",L,!1),this._state=g):(this._state=I,setImmediate(()=>{this.emit("message",L,!1),this._state=g,this.startLoop(P)}))}}controlMessage(P,D){if(this._opcode===8){if(P.length===0)this._loop=!1,this.emit("conclude",1005,o),this.end();else{let j=P.readUInt16BE(0);if(!h(j)){let B=this.createError(RangeError,`invalid status code ${j}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");D(B);return}let L=new b(P.buffer,P.byteOffset+2,P.length-2);if(!this._skipUTF8Validation&&!f(L)){let B=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");D(B);return}this._loop=!1,this.emit("conclude",j,L),this.end()}this._state=g;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",P),this._state=g):(this._state=I,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",P),this._state=g,this.startLoop(D)}))}createError(P,D,j,L,B){this._loop=!1,this._errored=!0;let Q=new P(j?`Invalid WebSocket frame: ${D}`:D);return Error.captureStackTrace(Q,this.createError),Q.code=B,Q[s]=L,Q}};r.exports=k}),Ox=N((t,r)=>{"use strict";var{Duplex:e}=lt("stream"),{randomFillSync:n}=lt("crypto"),i=Df(),{EMPTY_BUFFER:o}=Os(),{isValidStatusCode:s}=qf(),{mask:a,toBuffer:c}=jf(),l=Symbol("kByteLength"),p=Buffer.alloc(4),h=8*1024,f,b=h,g=class ms{constructor(_,S,x){this._extensions=S||{},x&&(this._generateMask=x,this._maskBuffer=Buffer.alloc(4)),this._socket=_,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(_,S){let x,C=!1,I=2,k=!1;S.mask&&(x=S.maskBuffer||p,S.generateMask?S.generateMask(x):(b===h&&(f===void 0&&(f=Buffer.alloc(h)),n(f,0,h),b=0),x[0]=f[b++],x[1]=f[b++],x[2]=f[b++],x[3]=f[b++]),k=(x[0]|x[1]|x[2]|x[3])===0,I=6);let P;typeof _=="string"?(!S.mask||k)&&S[l]!==void 0?P=S[l]:(_=Buffer.from(_),P=_.length):(P=_.length,C=S.mask&&S.readOnly&&!k);let D=P;P>=65536?(I+=8,D=127):P>125&&(I+=2,D=126);let j=Buffer.allocUnsafe(C?P+I:I);return j[0]=S.fin?S.opcode|128:S.opcode,S.rsv1&&(j[0]|=64),j[1]=D,D===126?j.writeUInt16BE(P,2):D===127&&(j[2]=j[3]=0,j.writeUIntBE(P,4,6)),S.mask?(j[1]|=128,j[I-4]=x[0],j[I-3]=x[1],j[I-2]=x[2],j[I-1]=x[3],k?[j,_]:C?(a(_,x,j,I,P),[j]):(a(_,x,_,0,P),[j,_])):[j,_]}close(_,S,x,C){let I;if(_===void 0)I=o;else{if(typeof _!="number"||!s(_))throw new TypeError("First argument must be a valid error code number");if(S===void 0||!S.length)I=Buffer.allocUnsafe(2),I.writeUInt16BE(_,0);else{let P=Buffer.byteLength(S);if(P>123)throw new RangeError("The message must not be greater than 123 bytes");I=Buffer.allocUnsafe(2+P),I.writeUInt16BE(_,0),typeof S=="string"?I.write(S,2):I.set(S,2)}}let k={[l]:I.length,fin:!0,generateMask:this._generateMask,mask:x,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,I,!1,k,C]):this.sendFrame(ms.frame(I,k),C)}ping(_,S,x){let C,I;if(typeof _=="string"?(C=Buffer.byteLength(_),I=!1):(_=c(_),C=_.length,I=c.readOnly),C>125)throw new RangeError("The data size must not be greater than 125 bytes");let k={[l]:C,fin:!0,generateMask:this._generateMask,mask:S,maskBuffer:this._maskBuffer,opcode:9,readOnly:I,rsv1:!1};this._deflating?this.enqueue([this.dispatch,_,!1,k,x]):this.sendFrame(ms.frame(_,k),x)}pong(_,S,x){let C,I;if(typeof _=="string"?(C=Buffer.byteLength(_),I=!1):(_=c(_),C=_.length,I=c.readOnly),C>125)throw new RangeError("The data size must not be greater than 125 bytes");let k={[l]:C,fin:!0,generateMask:this._generateMask,mask:S,maskBuffer:this._maskBuffer,opcode:10,readOnly:I,rsv1:!1};this._deflating?this.enqueue([this.dispatch,_,!1,k,x]):this.sendFrame(ms.frame(_,k),x)}send(_,S,x){let C=this._extensions[i.extensionName],I=S.binary?2:1,k=S.compress,P,D;if(typeof _=="string"?(P=Buffer.byteLength(_),D=!1):(_=c(_),P=_.length,D=c.readOnly),this._firstFragment?(this._firstFragment=!1,k&&C&&C.params[C._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(k=P>=C._threshold),this._compress=k):(k=!1,I=0),S.fin&&(this._firstFragment=!0),C){let j={[l]:P,fin:S.fin,generateMask:this._generateMask,mask:S.mask,maskBuffer:this._maskBuffer,opcode:I,readOnly:D,rsv1:k};this._deflating?this.enqueue([this.dispatch,_,this._compress,j,x]):this.dispatch(_,this._compress,j,x)}else this.sendFrame(ms.frame(_,{[l]:P,fin:S.fin,generateMask:this._generateMask,mask:S.mask,maskBuffer:this._maskBuffer,opcode:I,readOnly:D,rsv1:!1}),x)}dispatch(_,S,x,C){if(!S){this.sendFrame(ms.frame(_,x),C);return}let I=this._extensions[i.extensionName];this._bufferedBytes+=x[l],this._deflating=!0,I.compress(_,x.fin,(k,P)=>{if(this._socket.destroyed){let D=new Error("The socket was closed while data was being compressed");typeof C=="function"&&C(D);for(let j=0;j<this._queue.length;j++){let L=this._queue[j],B=L[L.length-1];typeof B=="function"&&B(D)}return}this._bufferedBytes-=x[l],this._deflating=!1,x.readOnly=!1,this.sendFrame(ms.frame(P,x),C),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let _=this._queue.shift();this._bufferedBytes-=_[3][l],Reflect.apply(_[0],this,_.slice(1))}}enqueue(_){this._bufferedBytes+=_[3][l],this._queue.push(_)}sendFrame(_,S){_.length===2?(this._socket.cork(),this._socket.write(_[0]),this._socket.write(_[1],S),this._socket.uncork()):this._socket.write(_[0],S)}};r.exports=g}),yz=N((t,r)=>{"use strict";var{kForOnEventAttribute:e,kListener:n}=Os(),i=Symbol("kCode"),o=Symbol("kData"),s=Symbol("kError"),a=Symbol("kMessage"),c=Symbol("kReason"),l=Symbol("kTarget"),p=Symbol("kType"),h=Symbol("kWasClean"),f=class{constructor(x){this[l]=null,this[p]=x}get target(){return this[l]}get type(){return this[p]}};Object.defineProperty(f.prototype,"target",{enumerable:!0}),Object.defineProperty(f.prototype,"type",{enumerable:!0});var b=class extends f{constructor(x,C={}){super(x),this[i]=C.code===void 0?0:C.code,this[c]=C.reason===void 0?"":C.reason,this[h]=C.wasClean===void 0?!1:C.wasClean}get code(){return this[i]}get reason(){return this[c]}get wasClean(){return this[h]}};Object.defineProperty(b.prototype,"code",{enumerable:!0}),Object.defineProperty(b.prototype,"reason",{enumerable:!0}),Object.defineProperty(b.prototype,"wasClean",{enumerable:!0});var g=class extends f{constructor(x,C={}){super(x),this[s]=C.error===void 0?null:C.error,this[a]=C.message===void 0?"":C.message}get error(){return this[s]}get message(){return this[a]}};Object.defineProperty(g.prototype,"error",{enumerable:!0}),Object.defineProperty(g.prototype,"message",{enumerable:!0});var w=class extends f{constructor(x,C={}){super(x),this[o]=C.data===void 0?null:C.data}get data(){return this[o]}};Object.defineProperty(w.prototype,"data",{enumerable:!0});var _={addEventListener(x,C,I={}){for(let P of this.listeners(x))if(!I[e]&&P[n]===C&&!P[e])return;let k;if(x==="message")k=function(P,D){let j=new w("message",{data:D?P:P.toString()});j[l]=this,S(C,this,j)};else if(x==="close")k=function(P,D){let j=new b("close",{code:P,reason:D.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});j[l]=this,S(C,this,j)};else if(x==="error")k=function(P){let D=new g("error",{error:P,message:P.message});D[l]=this,S(C,this,D)};else if(x==="open")k=function(){let P=new f("open");P[l]=this,S(C,this,P)};else return;k[e]=!!I[e],k[n]=C,I.once?this.once(x,k):this.on(x,k)},removeEventListener(x,C){for(let I of this.listeners(x))if(I[n]===C&&!I[e]){this.removeListener(x,I);break}}};r.exports={CloseEvent:b,ErrorEvent:g,Event:f,EventTarget:_,MessageEvent:w};function S(x,C,I){typeof x=="object"&&x.handleEvent?x.handleEvent.call(x,I):x.call(C,I)}}),Sx=N((t,r)=>{"use strict";var{tokenChars:e}=qf();function n(s,a,c){s[a]===void 0?s[a]=[c]:s[a].push(c)}function i(s){let a=Object.create(null),c=Object.create(null),l=!1,p=!1,h=!1,f,b,g=-1,w=-1,_=-1,S=0;for(;S<s.length;S++)if(w=s.charCodeAt(S),f===void 0)if(_===-1&&e[w]===1)g===-1&&(g=S);else if(S!==0&&(w===32||w===9))_===-1&&g!==-1&&(_=S);else if(w===59||w===44){if(g===-1)throw new SyntaxError(`Unexpected character at index ${S}`);_===-1&&(_=S);let C=s.slice(g,_);w===44?(n(a,C,c),c=Object.create(null)):f=C,g=_=-1}else throw new SyntaxError(`Unexpected character at index ${S}`);else if(b===void 0)if(_===-1&&e[w]===1)g===-1&&(g=S);else if(w===32||w===9)_===-1&&g!==-1&&(_=S);else if(w===59||w===44){if(g===-1)throw new SyntaxError(`Unexpected character at index ${S}`);_===-1&&(_=S),n(c,s.slice(g,_),!0),w===44&&(n(a,f,c),c=Object.create(null),f=void 0),g=_=-1}else if(w===61&&g!==-1&&_===-1)b=s.slice(g,S),g=_=-1;else throw new SyntaxError(`Unexpected character at index ${S}`);else if(p){if(e[w]!==1)throw new SyntaxError(`Unexpected character at index ${S}`);g===-1?g=S:l||(l=!0),p=!1}else if(h)if(e[w]===1)g===-1&&(g=S);else if(w===34&&g!==-1)h=!1,_=S;else if(w===92)p=!0;else throw new SyntaxError(`Unexpected character at index ${S}`);else if(w===34&&s.charCodeAt(S-1)===61)h=!0;else if(_===-1&&e[w]===1)g===-1&&(g=S);else if(g!==-1&&(w===32||w===9))_===-1&&(_=S);else if(w===59||w===44){if(g===-1)throw new SyntaxError(`Unexpected character at index ${S}`);_===-1&&(_=S);let C=s.slice(g,_);l&&(C=C.replace(/\\/g,""),l=!1),n(c,b,C),w===44&&(n(a,f,c),c=Object.create(null),f=void 0),b=void 0,g=_=-1}else throw new SyntaxError(`Unexpected character at index ${S}`);if(g===-1||h||w===32||w===9)throw new SyntaxError("Unexpected end of input");_===-1&&(_=S);let x=s.slice(g,_);return f===void 0?n(a,x,c):(b===void 0?n(c,x,!0):l?n(c,b,x.replace(/\\/g,"")):n(c,b,x),n(a,f,c)),a}function o(s){return Object.keys(s).map(a=>{let c=s[a];return Array.isArray(c)||(c=[c]),c.map(l=>[a].concat(Object.keys(l).map(p=>{let h=l[p];return Array.isArray(h)||(h=[h]),h.map(f=>f===!0?p:`${p}=${f}`).join("; ")})).join("; ")).join(", ")}).join(", ")}r.exports={format:o,parse:i}}),Px=N((t,r)=>{"use strict";var e=lt("events"),n=lt("https"),i=lt("http"),o=lt("net"),s=lt("tls"),{randomBytes:a,createHash:c}=lt("crypto"),{Duplex:l,Readable:p}=lt("stream"),{URL:h}=lt("url"),f=Df(),b=Ex(),g=Ox(),{BINARY_TYPES:w,EMPTY_BUFFER:_,GUID:S,kForOnEventAttribute:x,kListener:C,kStatusCode:I,kWebSocket:k,NOOP:P}=Os(),{EventTarget:{addEventListener:D,removeEventListener:j}}=yz(),{format:L,parse:B}=Sx(),{toBuffer:Q}=jf(),ie=30*1e3,te=Symbol("kAborted"),be=[8,13],we=["CONNECTING","OPEN","CLOSING","CLOSED"],ke=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,oe=class It extends e{constructor(X,pe,ye){super(),this._binaryType=w[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=_,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=It.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,X!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,pe===void 0?pe=[]:Array.isArray(pe)||(typeof pe=="object"&&pe!==null?(ye=pe,pe=[]):pe=[pe]),Ge(this,X,pe,ye)):(this._autoPong=ye.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(X){w.includes(X)&&(this._binaryType=X,this._receiver&&(this._receiver._binaryType=X))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(X,pe,ye){let ae=new b({allowSynchronousEvents:ye.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:ye.maxPayload,skipUTF8Validation:ye.skipUTF8Validation});this._sender=new g(X,this._extensions,ye.generateMask),this._receiver=ae,this._socket=X,ae[k]=this,X[k]=this,ae.on("conclude",Zn),ae.on("drain",rs),ae.on("error",Jn),ae.on("message",Zt),ae.on("ping",br),ae.on("pong",nr),X.setTimeout&&X.setTimeout(0),X.setNoDelay&&X.setNoDelay(),pe.length>0&&X.unshift(pe),X.on("close",cr),X.on("data",tn),X.on("end",ga),X.on("error",Pr),this._readyState=It.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=It.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[f.extensionName]&&this._extensions[f.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=It.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(X,pe){if(this.readyState!==It.CLOSED){if(this.readyState===It.CONNECTING){Pt(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===It.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=It.CLOSING,this._sender.close(X,pe,!this._isServer,ye=>{ye||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),ie)}}pause(){this.readyState===It.CONNECTING||this.readyState===It.CLOSED||(this._paused=!0,this._socket.pause())}ping(X,pe,ye){if(this.readyState===It.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof X=="function"?(ye=X,X=pe=void 0):typeof pe=="function"&&(ye=pe,pe=void 0),typeof X=="number"&&(X=X.toString()),this.readyState!==It.OPEN){Gt(this,X,ye);return}pe===void 0&&(pe=!this._isServer),this._sender.ping(X||_,pe,ye)}pong(X,pe,ye){if(this.readyState===It.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof X=="function"?(ye=X,X=pe=void 0):typeof pe=="function"&&(ye=pe,pe=void 0),typeof X=="number"&&(X=X.toString()),this.readyState!==It.OPEN){Gt(this,X,ye);return}pe===void 0&&(pe=!this._isServer),this._sender.pong(X||_,pe,ye)}resume(){this.readyState===It.CONNECTING||this.readyState===It.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(X,pe,ye){if(this.readyState===It.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof pe=="function"&&(ye=pe,pe={}),typeof X=="number"&&(X=X.toString()),this.readyState!==It.OPEN){Gt(this,X,ye);return}let ae=z({binary:typeof X!="string",mask:!this._isServer,compress:!0,fin:!0},pe);this._extensions[f.extensionName]||(ae.compress=!1),this._sender.send(X||_,ae,ye)}terminate(){if(this.readyState!==It.CLOSED){if(this.readyState===It.CONNECTING){Pt(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=It.CLOSING,this._socket.destroy())}}};Object.defineProperty(oe,"CONNECTING",{enumerable:!0,value:we.indexOf("CONNECTING")}),Object.defineProperty(oe.prototype,"CONNECTING",{enumerable:!0,value:we.indexOf("CONNECTING")}),Object.defineProperty(oe,"OPEN",{enumerable:!0,value:we.indexOf("OPEN")}),Object.defineProperty(oe.prototype,"OPEN",{enumerable:!0,value:we.indexOf("OPEN")}),Object.defineProperty(oe,"CLOSING",{enumerable:!0,value:we.indexOf("CLOSING")}),Object.defineProperty(oe.prototype,"CLOSING",{enumerable:!0,value:we.indexOf("CLOSING")}),Object.defineProperty(oe,"CLOSED",{enumerable:!0,value:we.indexOf("CLOSED")}),Object.defineProperty(oe.prototype,"CLOSED",{enumerable:!0,value:we.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(V=>{Object.defineProperty(oe.prototype,V,{enumerable:!0})}),["open","error","close","message"].forEach(V=>{Object.defineProperty(oe.prototype,`on${V}`,{enumerable:!0,get(){for(let X of this.listeners(V))if(X[x])return X[C];return null},set(X){for(let pe of this.listeners(V))if(pe[x]){this.removeListener(V,pe);break}typeof X=="function"&&this.addEventListener(V,X,{[x]:!0})}})}),oe.prototype.addEventListener=D,oe.prototype.removeEventListener=j,r.exports=oe;function Ge(V,X,pe,ye){let ae=Ee(z({allowSynchronousEvents:!0,autoPong:!0,protocolVersion:be[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},ye),{socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0});if(V._autoPong=ae.autoPong,!be.includes(ae.protocolVersion))throw new RangeError(`Unsupported protocol version: ${ae.protocolVersion} (supported versions: ${be.join(", ")})`);let ot;if(X instanceof h)ot=X;else try{ot=new h(X)}catch{throw new SyntaxError(`Invalid URL: ${X}`)}ot.protocol==="http:"?ot.protocol="ws:":ot.protocol==="https:"&&(ot.protocol="wss:"),V._url=ot.href;let Yn=ot.protocol==="wss:",Tr=ot.protocol==="ws+unix:",vi;if(ot.protocol!=="ws:"&&!Yn&&!Tr?vi=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:Tr&&!ot.pathname?vi="The URL's pathname is empty":ot.hash&&(vi="The URL contains a fragment identifier"),vi){let Je=new SyntaxError(vi);if(V._redirects===0)throw Je;yt(V,Je);return}let Kn=Yn?443:80,_n=a(16).toString("base64"),Gi=Yn?n.request:i.request,wn=new Set,En;if(ae.createConnection=ae.createConnection||(Yn?Gn:Hn),ae.defaultPort=ae.defaultPort||Kn,ae.port=ot.port||Kn,ae.host=ot.hostname.startsWith("[")?ot.hostname.slice(1,-1):ot.hostname,ae.headers=Ee(z({},ae.headers),{"Sec-WebSocket-Version":ae.protocolVersion,"Sec-WebSocket-Key":_n,Connection:"Upgrade",Upgrade:"websocket"}),ae.path=ot.pathname+ot.search,ae.timeout=ae.handshakeTimeout,ae.perMessageDeflate&&(En=new f(ae.perMessageDeflate!==!0?ae.perMessageDeflate:{},!1,ae.maxPayload),ae.headers["Sec-WebSocket-Extensions"]=L({[f.extensionName]:En.offer()})),pe.length){for(let Je of pe){if(typeof Je!="string"||!ke.test(Je)||wn.has(Je))throw new SyntaxError("An invalid or duplicated subprotocol was specified");wn.add(Je)}ae.headers["Sec-WebSocket-Protocol"]=pe.join(",")}if(ae.origin&&(ae.protocolVersion<13?ae.headers["Sec-WebSocket-Origin"]=ae.origin:ae.headers.Origin=ae.origin),(ot.username||ot.password)&&(ae.auth=`${ot.username}:${ot.password}`),Tr){let Je=ae.path.split(":");ae.socketPath=Je[0],ae.path=Je[1]}let wt;if(ae.followRedirects){if(V._redirects===0){V._originalIpc=Tr,V._originalSecure=Yn,V._originalHostOrSocketPath=Tr?ae.socketPath:ot.host;let Je=ye&&ye.headers;if(ye=Ee(z({},ye),{headers:{}}),Je)for(let[Bt,rn]of Object.entries(Je))ye.headers[Bt.toLowerCase()]=rn}else if(V.listenerCount("redirect")===0){let Je=Tr?V._originalIpc?ae.socketPath===V._originalHostOrSocketPath:!1:V._originalIpc?!1:ot.host===V._originalHostOrSocketPath;(!Je||V._originalSecure&&!Yn)&&(delete ae.headers.authorization,delete ae.headers.cookie,Je||delete ae.headers.host,ae.auth=void 0)}ae.auth&&!ye.headers.authorization&&(ye.headers.authorization="Basic "+Buffer.from(ae.auth).toString("base64")),wt=V._req=Gi(ae),V._redirects&&V.emit("redirect",V.url,wt)}else wt=V._req=Gi(ae);ae.timeout&&wt.on("timeout",()=>{Pt(V,wt,"Opening handshake has timed out")}),wt.on("error",Je=>{wt===null||wt[te]||(wt=V._req=null,yt(V,Je))}),wt.on("response",Je=>{let Bt=Je.headers.location,rn=Je.statusCode;if(Bt&&ae.followRedirects&&rn>=300&&rn<400){if(++V._redirects>ae.maxRedirects){Pt(V,wt,"Maximum redirects exceeded");return}wt.abort();let On;try{On=new h(Bt,X)}catch{let Xn=new SyntaxError(`Invalid URL: ${Bt}`);yt(V,Xn);return}Ge(V,On,pe,ye)}else V.emit("unexpected-response",wt,Je)||Pt(V,wt,`Unexpected server response: ${Je.statusCode}`)}),wt.on("upgrade",(Je,Bt,rn)=>{if(V.emit("upgrade",Je),V.readyState!==oe.CONNECTING)return;wt=V._req=null;let On=Je.headers.upgrade;if(On===void 0||On.toLowerCase()!=="websocket"){Pt(V,Bt,"Invalid Upgrade header");return}let Zi=c("sha1").update(_n+S).digest("base64");if(Je.headers["sec-websocket-accept"]!==Zi){Pt(V,Bt,"Invalid Sec-WebSocket-Accept header");return}let Xn=Je.headers["sec-websocket-protocol"],bi;if(Xn!==void 0?wn.size?wn.has(Xn)||(bi="Server sent an invalid subprotocol"):bi="Server sent a subprotocol but none was requested":wn.size&&(bi="Server sent no subprotocol"),bi){Pt(V,Bt,bi);return}Xn&&(V._protocol=Xn);let ya=Je.headers["sec-websocket-extensions"];if(ya!==void 0){if(!En){Pt(V,Bt,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let Ji;try{Ji=B(ya)}catch{Pt(V,Bt,"Invalid Sec-WebSocket-Extensions header");return}let ns=Object.keys(Ji);if(ns.length!==1||ns[0]!==f.extensionName){Pt(V,Bt,"Server indicated an extension that was not requested");return}try{En.accept(Ji[f.extensionName])}catch{Pt(V,Bt,"Invalid Sec-WebSocket-Extensions header");return}V._extensions[f.extensionName]=En}V.setSocket(Bt,rn,{allowSynchronousEvents:ae.allowSynchronousEvents,generateMask:ae.generateMask,maxPayload:ae.maxPayload,skipUTF8Validation:ae.skipUTF8Validation})}),ae.finishRequest?ae.finishRequest(wt,V):wt.end()}function yt(V,X){V._readyState=oe.CLOSING,V.emit("error",X),V.emitClose()}function Hn(V){return V.path=V.socketPath,o.connect(V)}function Gn(V){return V.path=void 0,!V.servername&&V.servername!==""&&(V.servername=o.isIP(V.host)?"":V.host),s.connect(V)}function Pt(V,X,pe){V._readyState=oe.CLOSING;let ye=new Error(pe);Error.captureStackTrace(ye,Pt),X.setHeader?(X[te]=!0,X.abort(),X.socket&&!X.socket.destroyed&&X.socket.destroy(),process.nextTick(yt,V,ye)):(X.destroy(ye),X.once("error",V.emit.bind(V,"error")),X.once("close",V.emitClose.bind(V)))}function Gt(V,X,pe){if(X){let ye=Q(X).length;V._socket?V._sender._bufferedBytes+=ye:V._bufferedAmount+=ye}if(pe){let ye=new Error(`WebSocket is not open: readyState ${V.readyState} (${we[V.readyState]})`);process.nextTick(pe,ye)}}function Zn(V,X){let pe=this[k];pe._closeFrameReceived=!0,pe._closeMessage=X,pe._closeCode=V,pe._socket[k]!==void 0&&(pe._socket.removeListener("data",tn),process.nextTick(en,pe._socket),V===1005?pe.close():pe.close(V,X))}function rs(){let V=this[k];V.isPaused||V._socket.resume()}function Jn(V){let X=this[k];X._socket[k]!==void 0&&(X._socket.removeListener("data",tn),process.nextTick(en,X._socket),X.close(V[I])),X.emit("error",V)}function Qr(){this[k].emitClose()}function Zt(V,X){this[k].emit("message",V,X)}function br(V){let X=this[k];X._autoPong&&X.pong(V,!this._isServer,P),X.emit("ping",V)}function nr(V){this[k].emit("pong",V)}function en(V){V.resume()}function cr(){let V=this[k];this.removeListener("close",cr),this.removeListener("data",tn),this.removeListener("end",ga),V._readyState=oe.CLOSING;let X;!this._readableState.endEmitted&&!V._closeFrameReceived&&!V._receiver._writableState.errorEmitted&&(X=V._socket.read())!==null&&V._receiver.write(X),V._receiver.end(),this[k]=void 0,clearTimeout(V._closeTimer),V._receiver._writableState.finished||V._receiver._writableState.errorEmitted?V.emitClose():(V._receiver.on("error",Qr),V._receiver.on("finish",Qr))}function tn(V){this[k]._receiver.write(V)||this.pause()}function ga(){let V=this[k];V._readyState=oe.CLOSING,V._receiver.end(),this.end()}function Pr(){let V=this[k];this.removeListener("error",Pr),this.on("error",P),V&&(V._readyState=oe.CLOSING,this.destroy())}}),_z=N((t,r)=>{"use strict";var{tokenChars:e}=qf();function n(i){let o=new Set,s=-1,a=-1,c=0;for(c;c<i.length;c++){let p=i.charCodeAt(c);if(a===-1&&e[p]===1)s===-1&&(s=c);else if(c!==0&&(p===32||p===9))a===-1&&s!==-1&&(a=c);else if(p===44){if(s===-1)throw new SyntaxError(`Unexpected character at index ${c}`);a===-1&&(a=c);let h=i.slice(s,a);if(o.has(h))throw new SyntaxError(`The "${h}" subprotocol is duplicated`);o.add(h),s=a=-1}else throw new SyntaxError(`Unexpected character at index ${c}`)}if(s===-1||a!==-1)throw new SyntaxError("Unexpected end of input");let l=i.slice(s,c);if(o.has(l))throw new SyntaxError(`The "${l}" subprotocol is duplicated`);return o.add(l),o}r.exports={parse:n}}),wz=N((t,r)=>{"use strict";var e=lt("events"),n=lt("http"),{Duplex:i}=lt("stream"),{createHash:o}=lt("crypto"),s=Sx(),a=Df(),c=_z(),l=Px(),{GUID:p,kWebSocket:h}=Os(),f=/^[+/0-9A-Za-z]{22}==$/,b=0,g=1,w=2,_=class extends e{constructor(P,D){if(super(),P=z({allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:l},P),P.port==null&&!P.server&&!P.noServer||P.port!=null&&(P.server||P.noServer)||P.server&&P.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(P.port!=null?(this._server=n.createServer((j,L)=>{let B=n.STATUS_CODES[426];L.writeHead(426,{"Content-Length":B.length,"Content-Type":"text/plain"}),L.end(B)}),this._server.listen(P.port,P.host,P.backlog,D)):P.server&&(this._server=P.server),this._server){let j=this.emit.bind(this,"connection");this._removeListeners=S(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(L,B,Q)=>{this.handleUpgrade(L,B,Q,j)}})}P.perMessageDeflate===!0&&(P.perMessageDeflate={}),P.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=P,this._state=b}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(P){if(this._state===w){P&&this.once("close",()=>{P(new Error("The server is not running"))}),process.nextTick(x,this);return}if(P&&this.once("close",P),this._state!==g)if(this._state=g,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(x,this):process.nextTick(x,this);else{let D=this._server;this._removeListeners(),this._removeListeners=this._server=null,D.close(()=>{x(this)})}}shouldHandle(P){if(this.options.path){let D=P.url.indexOf("?");if((D!==-1?P.url.slice(0,D):P.url)!==this.options.path)return!1}return!0}handleUpgrade(P,D,j,L){D.on("error",C);let B=P.headers["sec-websocket-key"],Q=P.headers.upgrade,ie=+P.headers["sec-websocket-version"];if(P.method!=="GET"){k(this,P,D,405,"Invalid HTTP method");return}if(Q===void 0||Q.toLowerCase()!=="websocket"){k(this,P,D,400,"Invalid Upgrade header");return}if(B===void 0||!f.test(B)){k(this,P,D,400,"Missing or invalid Sec-WebSocket-Key header");return}if(ie!==8&&ie!==13){k(this,P,D,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(P)){I(D,400);return}let te=P.headers["sec-websocket-protocol"],be=new Set;if(te!==void 0)try{be=c.parse(te)}catch{k(this,P,D,400,"Invalid Sec-WebSocket-Protocol header");return}let we=P.headers["sec-websocket-extensions"],ke={};if(this.options.perMessageDeflate&&we!==void 0){let oe=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let Ge=s.parse(we);Ge[a.extensionName]&&(oe.accept(Ge[a.extensionName]),ke[a.extensionName]=oe)}catch{k(this,P,D,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let oe={origin:P.headers[`${ie===8?"sec-websocket-origin":"origin"}`],secure:!!(P.socket.authorized||P.socket.encrypted),req:P};if(this.options.verifyClient.length===2){this.options.verifyClient(oe,(Ge,yt,Hn,Gn)=>{if(!Ge)return I(D,yt||401,Hn,Gn);this.completeUpgrade(ke,B,be,P,D,j,L)});return}if(!this.options.verifyClient(oe))return I(D,401)}this.completeUpgrade(ke,B,be,P,D,j,L)}completeUpgrade(P,D,j,L,B,Q,ie){if(!B.readable||!B.writable)return B.destroy();if(B[h])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>b)return I(B,503);let te=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${o("sha1").update(D+p).digest("base64")}`],be=new this.options.WebSocket(null,void 0,this.options);if(j.size){let we=this.options.handleProtocols?this.options.handleProtocols(j,L):j.values().next().value;we&&(te.push(`Sec-WebSocket-Protocol: ${we}`),be._protocol=we)}if(P[a.extensionName]){let we=P[a.extensionName].params,ke=s.format({[a.extensionName]:[we]});te.push(`Sec-WebSocket-Extensions: ${ke}`),be._extensions=P}this.emit("headers",te,L),B.write(te.concat(`\r
`).join(`\r
`)),B.removeListener("error",C),be.setSocket(B,Q,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(be),be.on("close",()=>{this.clients.delete(be),this._shouldEmitClose&&!this.clients.size&&process.nextTick(x,this)})),ie(be,L)}};r.exports=_;function S(P,D){for(let j of Object.keys(D))P.on(j,D[j]);return function(){for(let j of Object.keys(D))P.removeListener(j,D[j])}}function x(P){P._state=w,P.emit("close")}function C(){this.destroy()}function I(P,D,j,L){j=j||n.STATUS_CODES[D],L=z({Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(j)},L),P.once("finish",P.destroy),P.end(`HTTP/1.1 ${D} ${n.STATUS_CODES[D]}\r
`+Object.keys(L).map(B=>`${B}: ${L[B]}`).join(`\r
`)+`\r
\r
`+j)}function k(P,D,j,L,B){if(P.listenerCount("wsClientError")){let Q=new Error(B);Error.captureStackTrace(Q,k),P.emit("wsClientError",Q,j,D)}else I(j,L,B)}}),Ez=(t=>(t.JOIN_ROOM="room.join",t.JOINED_ROOM="room.joined",t.LEAVE_ROOM="room.leave",t.UPDATE="room.update",t.ERROR="room.error",t))(Ez||{}),ge=(t=>(t.JOINED_ROOM="presence.joined-room",t.LEAVE="presence.leave",t.UPDATE="presence.update",t))(ge||{}),J_=(t=>(t.CONNECTED="CONNECTED",t.CONNECTING="CONNECTING",t.DISCONNECTED="DISCONNECTED",t.CONNECTION_ERROR="CONNECTION_ERROR",t.RECONNECTING="RECONNECTING",t.RECONNECT_ERROR="RECONNECT_ERROR",t))(J_||{}),Hc=_t(Z_()),mT=_t(Rn()),Y_=class{constructor(t){this.debug=(0,mT.default)(t),mT.default.enable("*")}log(t,...r){this.debug(t,...r)}},Oz=class Tx{constructor(r,e,n){this.io=r,this.presence=e,this.roomId=n,this.presences=new Set,this.observers=new Map,this.onPresenceJoin=i=>{(i==null?void 0:i.roomId)===this.roomId&&(this.logger.log("presence room @ presence join",i),this.presences.add(i),this.observers.get("presence.joined-room").next({connectionId:i.connectionId,data:i.data,id:i.id,name:i.name,timestamp:i.timestamp}))},this.onPresenceLeave=i=>{(i==null?void 0:i.roomId)===this.roomId&&(this.logger.log("presence room @ presence leave",i),this.presences.delete(i),this.observers.get("presence.leave").next(i))},this.onPresenceUpdate=i=>{(i==null?void 0:i.roomId)===this.roomId&&(this.logger.log("presence room @ presence update",i),this.observers.get("presence.update").next({connectionId:i.connectionId,data:i.data,id:i.id,name:i.name,roomId:i==null?void 0:i.roomId,timestamp:i.timestamp}))},this.logger=new Y_("@superviz/socket-client/presence"),this.registerSubjects(),this.subscribeToPresenceEvents()}static register(r,e,n){return new Tx(r,e,n)}get(r,e){let n=new Hc.Subject;n.subscribe({next:r,error:e});let i=o=>{let s=o.presences.map(a=>({connectionId:a.connectionId,data:a.data,id:a.id,name:a.name,timestamp:a.timestamp}));this.logger.log("presence room @ get",o),this.io.off("presence.get",i),n.next(s),n.complete()};this.io.on("presence.get",i),this.io.emit("presence.get",this.roomId)}update(r){let e={connectionId:this.io.id,data:r,id:this.presence.id,name:this.presence.name,timestamp:Date.now()};this.io.emit("presence.update",this.roomId,e),this.logger.log("presence room @ update",this.roomId,e)}destroy(){this.io.off("presence.joined-room",this.onPresenceJoin),this.io.off("presence.leave",this.onPresenceLeave),this.io.off("presence.update",this.onPresenceUpdate),this.observers.forEach(r=>r.unsubscribe()),this.observers.clear()}registerSubjects(){this.observers.set("presence.joined-room",new Hc.Subject),this.observers.set("presence.leave",new Hc.Subject),this.observers.set("presence.update",new Hc.Subject)}on(r,e,n){this.observers.get(r).subscribe({error:n,next:e})}off(r){this.observers.get(r).unsubscribe(),this.observers.delete(r),this.observers.set(r,new Hc.Subject)}subscribeToPresenceEvents(){this.io.on("presence.joined-room",this.onPresenceJoin),this.io.on("presence.leave",this.onPresenceLeave),this.io.on("presence.update",this.onPresenceUpdate)}},oi=Object.create(null);oi.open="0";oi.close="1";oi.ping="2";oi.pong="3";oi.message="4";oi.upgrade="5";oi.noop="6";var uf=Object.create(null);Object.keys(oi).forEach(t=>{uf[oi[t]]=t});var g_={type:"error",data:"parser error"},K_=({type:t,data:r},e,n)=>r instanceof ArrayBuffer||ArrayBuffer.isView(r)?n(e?r:"b"+xx(r,!0).toString("base64")):n(oi[t]+(r||"")),xx=(t,r)=>Buffer.isBuffer(t)||t instanceof Uint8Array&&!r?t:t instanceof ArrayBuffer?Buffer.from(t):Buffer.from(t.buffer,t.byteOffset,t.byteLength),p_;function Sz(t,r){if(t.data instanceof ArrayBuffer||ArrayBuffer.isView(t.data))return r(xx(t.data,!1));K_(t,!0,e=>{p_||(p_=new TextEncoder),r(p_.encode(e))})}var X_=(t,r)=>{if(typeof t!="string")return{type:"message",data:vT(t,r)};let e=t.charAt(0);if(e==="b"){let n=Buffer.from(t.substring(1),"base64");return{type:"message",data:vT(n,r)}}return uf[e]?t.length>1?{type:uf[e],data:t.substring(1)}:{type:uf[e]}:g_},vT=(t,r)=>{switch(r){case"arraybuffer":return t instanceof ArrayBuffer?t:Buffer.isBuffer(t)?t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):t.buffer;case"nodebuffer":default:return Buffer.isBuffer(t)?t:Buffer.from(t)}},Ax="",Pz=(t,r)=>{let e=t.length,n=new Array(e),i=0;t.forEach((o,s)=>{K_(o,!1,a=>{n[s]=a,++i===e&&r(n.join(Ax))})})},Tz=(t,r)=>{let e=t.split(Ax),n=[];for(let i=0;i<e.length;i++){let o=X_(e[i],r);if(n.push(o),o.type==="error")break}return n};function xz(){return new TransformStream({transform(t,r){Sz(t,e=>{let n=e.length,i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),r.enqueue(i),r.enqueue(e)})}})}var f_;function nf(t){return t.reduce((r,e)=>r+e.length,0)}function of(t,r){if(t[0].length===r)return t.shift();let e=new Uint8Array(r),n=0;for(let i=0;i<r;i++)e[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),e}function Az(t,r){f_||(f_=new TextDecoder);let e=[],n=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(e.push(s);;){if(n===0){if(nf(e)<1)break;let c=of(e,1);o=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(nf(e)<2)break;let c=of(e,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(nf(e)<8)break;let c=of(e,8),l=new DataView(c.buffer,c.byteOffset,c.length),p=l.getUint32(0);if(p>Math.pow(2,21)-1){a.enqueue(g_);break}i=p*Math.pow(2,32)+l.getUint32(4),n=3}else{if(nf(e)<i)break;let c=of(e,i);a.enqueue(X_(o?c:f_.decode(c),r)),n=0}if(i===0||i>t){a.enqueue(g_);break}}}})}var Cx=4,Cz=_t(Za(),1),Ii=global;function Mx(t,...r){return r.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{})}var Mz=Ii.setTimeout,Iz=Ii.clearTimeout;function Bf(t,r){r.useNativeTimers?(t.setTimeoutFn=Mz.bind(Ii),t.clearTimeoutFn=Iz.bind(Ii)):(t.setTimeoutFn=Ii.setTimeout.bind(Ii),t.clearTimeoutFn=Ii.clearTimeout.bind(Ii))}var kz=1.33;function Lz(t){return typeof t=="string"?Rz(t):Math.ceil((t.byteLength||t.size)*kz)}function Rz(t){let r=0,e=0;for(let n=0,i=t.length;n<i;n++)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:r<55296||r>=57344?e+=3:(n++,e+=4);return e}var Nz=_t(Rn(),1);function Fz(t){let r="";for(let e in t)t.hasOwnProperty(e)&&(r.length&&(r+="&"),r+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return r}function jz(t){let r={},e=t.split("&");for(let n=0,i=e.length;n<i;n++){let o=e[n].split("=");r[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return r}var Dz=(0,Nz.default)("engine.io-client:transport"),qz=class extends Error{constructor(t,r,e){super(t),this.description=r,this.context=e,this.type="TransportError"}},Q_=class extends Cz.Emitter{constructor(t){super(),this.writable=!1,Bf(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,r,e){return super.emitReserved("error",new qz(t,r,e)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"?this.write(t):Dz("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let r=X_(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let r=Fz(t);return r.length?"?"+r:""}},Bz=_t(Rn(),1),Ix="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),y_=64,Wz={},bT=0,sf=0,gT;function yT(t){let r="";do r=Ix[t%y_]+r,t=Math.floor(t/y_);while(t>0);return r}function kx(){let t=yT(+new Date);return t!==gT?(bT=0,gT=t):t+"."+yT(bT++)}for(;sf<y_;sf++)Wz[Ix[sf]]=sf;var _T=_t(vz(),1),Lx=_T.default||_T;function $z(){return new zz}function Uz(t){let r=t.split("; "),e=r[0].indexOf("=");if(e===-1)return;let n=r[0].substring(0,e).trim();if(!n.length)return;let i=r[0].substring(e+1).trim();i.charCodeAt(0)===34&&(i=i.slice(1,-1));let o={name:n,value:i};for(let s=1;s<r.length;s++){let a=r[s].split("=");if(a.length!==2)continue;let c=a[0].trim(),l=a[1].trim();switch(c){case"Expires":o.expires=new Date(l);break;case"Max-Age":let p=new Date;p.setUTCSeconds(p.getUTCSeconds()+parseInt(l,10)),o.expires=p;break;default:}}return o}var zz=class{constructor(){this.cookies=new Map}parseCookies(t){let r=t.getResponseHeader("set-cookie");r&&r.forEach(e=>{let n=Uz(e);n&&this.cookies.set(n.name,n)})}addCookies(t){let r=[];this.cookies.forEach((e,n)=>{var i;((i=e.expires)===null||i===void 0?void 0:i.getTime())<Date.now()?this.cookies.delete(n):r.push(`${n}=${e.value}`)}),r.length&&(t.setDisableHeaderCheck(!0),t.setRequestHeader("cookie",r.join("; ")))}},Vz=_t(Za(),1),kr=(0,Bz.default)("engine.io-client:polling");function Hz(){}var Gz=function(){return new Lx({xdomain:!1}).responseType!=null}(),Zz=class extends Q_{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){let e=location.protocol==="https:",n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}let r=t&&t.forceBase64;this.supportsBinary=Gz&&!r,this.opts.withCredentials&&(this.cookieJar=$z())}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";let r=()=>{kr("paused"),this.readyState="paused",t()};if(this.polling||!this.writable){let e=0;this.polling&&(kr("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){kr("pre-pause polling complete"),--e||r()})),this.writable||(kr("we are currently writing - waiting to pause"),e++,this.once("drain",function(){kr("pre-pause writing complete"),--e||r()}))}else r()}poll(){kr("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){kr("polling got data %s",t);let r=e=>{if(this.readyState==="opening"&&e.type==="open"&&this.onOpen(),e.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)};Tz(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"?this.poll():kr('ignoring poll - transport state "%s"',this.readyState))}doClose(){let t=()=>{kr("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(kr("transport open - closing"),t()):(kr("transport not open - deferring close"),this.once("open",t))}write(t){this.writable=!1,Pz(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=kx()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Wa(this.uri(),t)}doWrite(t,r){let e=this.request({method:"POST",data:t});e.on("success",r),e.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){kr("xhr poll");let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,e)=>{this.onError("xhr poll error",r,e)}),this.pollXhr=t}},Wa=class cf extends Vz.Emitter{constructor(r,e){super(),Bf(this,e),this.opts=e,this.method=e.method||"GET",this.uri=r,this.data=e.data!==void 0?e.data:null,this.create()}create(){var r;let e=Mx(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;let n=this.xhr=new Lx(e);try{kr("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(r=this.opts.cookieJar)===null||r===void 0||r.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},kr("xhr data %s",this.data),n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=cf.requestsCount++,cf.requests[this.index]=this)}onError(r){this.emitReserved("error",r,this.xhr),this.cleanup(!0)}cleanup(r){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Hz,r)try{this.xhr.abort()}catch{}typeof document<"u"&&delete cf.requests[this.index],this.xhr=null}}onLoad(){let r=this.xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Wa.requestsCount=0;Wa.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",wT);else if(typeof addEventListener=="function"){let t="onpagehide"in Ii?"pagehide":"unload";addEventListener(t,wT,!1)}}function wT(){for(let t in Wa.requests)Wa.requests.hasOwnProperty(t)&&Wa.requests[t].abort()}var Nue=_t(bz(),1),Fue=_t(Ex(),1),jue=_t(Ox(),1),Jz=_t(Px(),1),Due=_t(wz(),1),Yz=Jz.default,af=Yz,h_=!1,Kz="nodebuffer",e0=process.nextTick,Xz=_t(Rn(),1),Qz=(0,Xz.default)("engine.io-client:websocket"),ET=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",eV=class extends Q_{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let t=this.uri(),r=this.opts.protocols,e=ET?{}:Mx(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(e.headers=this.opts.extraHeaders);try{this.ws=h_&&!ET?r?new af(t,r):new af(t):new af(t,r,e)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){let e=t[r],n=r===t.length-1;K_(e,this.supportsBinary,i=>{let o={};h_||(e.options&&(o.compress=e.options.compress),this.opts.perMessageDeflate&&(typeof i=="string"?Buffer.byteLength(i):i.length)<this.opts.perMessageDeflate.threshold&&(o.compress=!1));try{h_?this.ws.send(i):this.ws.send(i,o)}catch{Qz("websocket closed before onclose event")}n&&e0(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=kx()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}check(){return!!af}},tV=_t(Rn(),1),Gc=(0,tV.default)("engine.io-client:webtransport"),rV=class extends Q_{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{Gc("transport closed gracefully"),this.onClose()}).catch(t=>{Gc("transport closed due to %s",t),this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{let r=Az(Number.MAX_SAFE_INTEGER,this.socket.binaryType),e=t.readable.pipeThrough(r).getReader(),n=xz();n.readable.pipeTo(t.writable),this.writer=n.writable.getWriter();let i=()=>{e.read().then(({done:s,value:a})=>{if(s){Gc("session is closed");return}Gc("received chunk: %o",a),this.onPacket(a),i()}).catch(s=>{Gc("an error occurred while reading: %s",s)})};i();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let r=0;r<t.length;r++){let e=t[r],n=r===t.length-1;this.writer.write(e).then(()=>{n&&e0(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}},nV={websocket:eV,webtransport:rV,polling:Zz},iV=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,oV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function __(t){if(t.length>2e3)throw"URI too long";let r=t,e=t.indexOf("["),n=t.indexOf("]");e!=-1&&n!=-1&&(t=t.substring(0,e)+t.substring(e,n).replace(/:/g,";")+t.substring(n,t.length));let i=iV.exec(t||""),o={},s=14;for(;s--;)o[oV[s]]=i[s]||"";return e!=-1&&n!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=sV(o,o.path),o.queryKey=aV(o,o.query),o}function sV(t,r){let e=/\/{2,9}/g,n=r.replace(e,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function aV(t,r){let e={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(e[i]=o)}),e}var uV=_t(Rn(),1),cV=_t(Za(),1),xt=(0,uV.default)("engine.io-client:socket"),t0=class qa extends cV.Emitter{constructor(r,e={}){super(),this.binaryType=Kz,this.writeBuffer=[],r&&typeof r=="object"&&(e=r,r=null),r?(r=__(r),e.hostname=r.host,e.secure=r.protocol==="https"||r.protocol==="wss",e.port=r.port,r.query&&(e.query=r.query)):e.host&&(e.hostname=__(e.host).host),Bf(this,e),this.secure=e.secure!=null?e.secure:typeof location<"u"&&location.protocol==="https:",e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=e.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=jz(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(r){xt('creating transport "%s"',r);let e=Object.assign({},this.opts.query);e.EIO=Cx,e.transport=r,this.id&&(e.sid=this.id);let n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return xt("options: %j",n),new nV[r](n)}open(){let r;if(this.opts.rememberUpgrade&&qa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)r="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else r=this.transports[0];this.readyState="opening";try{r=this.createTransport(r)}catch(e){xt("error while creating transport: %s",e),this.transports.shift(),this.open();return}r.open(),this.setTransport(r)}setTransport(r){xt("setting transport %s",r.name),this.transport&&(xt("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=r,r.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",e=>this.onClose("transport close",e))}probe(r){xt('probing transport "%s"',r);let e=this.createTransport(r),n=!1;qa.priorWebsocketSuccess=!1;let i=()=>{n||(xt('probe transport "%s" opened',r),e.send([{type:"ping",data:"probe"}]),e.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(xt('probe transport "%s" pong',r),this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;qa.priorWebsocketSuccess=e.name==="websocket",xt('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||this.readyState!=="closed"&&(xt("changing transport and sending upgrade packet"),p(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{xt('probe transport "%s" failed',r);let f=new Error("probe error");f.transport=e.name,this.emitReserved("upgradeError",f)}}))};function o(){n||(n=!0,p(),e.close(),e=null)}let s=h=>{let f=new Error("probe error: "+h);f.transport=e.name,o(),xt('probe transport "%s" failed because of error: %s',r,h),this.emitReserved("upgradeError",f)};function a(){s("transport closed")}function c(){s("socket closed")}function l(h){e&&h.name!==e.name&&(xt('"%s" works - aborting "%s"',h.name,e.name),o())}let p=()=>{e.removeListener("open",i),e.removeListener("error",s),e.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};e.once("open",i),e.once("error",s),e.once("close",a),this.once("close",c),this.once("upgrading",l),this.upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onOpen(){if(xt("socket open"),this.readyState="open",qa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){xt("starting upgrade probes");let r=0,e=this.upgrades.length;for(;r<e;r++)this.probe(this.upgrades[r])}}onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(xt('socket receive: type "%s", data "%s"',r.type,r.data),this.emitReserved("packet",r),this.emitReserved("heartbeat"),this.resetPingTimeout(),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let e=new Error("server error");e.code=r.data,this.onError(e);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}else xt('packet received with socket readyState "%s"',this.readyState)}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this.upgrades=this.filterUpgrades(r.upgrades),this.pingInterval=r.pingInterval,this.pingTimeout=r.pingTimeout,this.maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let r=this.getWritablePackets();xt("flushing %d packets in socket",r.length),this.transport.send(r),this.prevBufferLen=r.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let e=0;e<this.writeBuffer.length;e++){let n=this.writeBuffer[e].data;if(n&&(r+=Lz(n)),e>0&&r>this.maxPayload)return xt("only send %d out of %d packets",e,this.writeBuffer.length),this.writeBuffer.slice(0,e);r+=2}return xt("payload size is %d (max: %d)",r,this.maxPayload),this.writeBuffer}write(r,e,n){return this.sendPacket("message",r,e,n),this}send(r,e,n){return this.sendPacket("message",r,e,n),this}sendPacket(r,e,n,i){if(typeof e=="function"&&(i=e,e=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let o={type:r,data:e,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){let r=()=>{this.onClose("forced close"),xt("socket closing - telling transport to close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),r()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():r()}):this.upgrading?n():r()),this}onError(r){xt("socket error %j",r),qa.priorWebsocketSuccess=!1,this.emitReserved("error",r),this.onClose("transport error",r)}onClose(r,e){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(xt('socket close with reason: "%s"',r),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",r,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(r){let e=[],n=0,i=r.length;for(;n<i;n++)~this.transports.indexOf(r[n])&&e.push(r[n]);return e}};t0.protocol=Cx;var que=t0.protocol,lV=_t(Rn(),1),OT=(0,lV.default)("socket.io-client:url");function dV(t,r="",e){let n=t;e=e||typeof location<"u"&&location,t==null&&(t=e.protocol+"//"+e.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=e.protocol+t:t=e.host+t),/^(https?|wss?):\/\//.test(t)||(OT("protocol-less url %s",t),typeof e<"u"?t=e.protocol+"//"+t:t="https://"+t),OT("parse %s",t),n=__(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+r,n.href=n.protocol+"://"+i+(e&&e.port===n.port?"":":"+n.port),n}var Rx={};K$(Rx,{Decoder:()=>OV,Encoder:()=>EV,PacketType:()=>Xe,protocol:()=>wV});var pV=_t(Za(),1),fV=typeof ArrayBuffer=="function",hV=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Nx=Object.prototype.toString,mV=typeof Blob=="function"||typeof Blob<"u"&&Nx.call(Blob)==="[object BlobConstructor]",vV=typeof File=="function"||typeof File<"u"&&Nx.call(File)==="[object FileConstructor]";function r0(t){return fV&&(t instanceof ArrayBuffer||hV(t))||mV&&t instanceof Blob||vV&&t instanceof File}function lf(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(lf(t[e]))return!0;return!1}if(r0(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return lf(t.toJSON(),!0);for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&lf(t[e]))return!0;return!1}function bV(t){let r=[],e=t.data,n=t;return n.data=w_(e,r),n.attachments=r.length,{packet:n,buffers:r}}function w_(t,r){if(!t)return t;if(r0(t)){let e={_placeholder:!0,num:r.length};return r.push(t),e}else if(Array.isArray(t)){let e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=w_(t[n],r);return e}else if(typeof t=="object"&&!(t instanceof Date)){let e={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=w_(t[n],r));return e}return t}function gV(t,r){return t.data=E_(t.data,r),delete t.attachments,t}function E_(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=E_(t[e],r);else if(typeof t=="object")for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=E_(t[e],r));return t}var yV=_t(Rn(),1),O_=(0,yV.default)("socket.io-parser"),_V=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],wV=5,Xe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Xe||(Xe={}));var EV=class{constructor(t){this.replacer=t}encode(t){return O_("encoding packet %j",t),(t.type===Xe.EVENT||t.type===Xe.ACK)&&lf(t)?this.encodeAsBinary({type:t.type===Xe.EVENT?Xe.BINARY_EVENT:Xe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Xe.BINARY_EVENT||t.type===Xe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),O_("encoded %j as %s",t,r),r}encodeAsBinary(t){let r=bV(t),e=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(e),n}};function ST(t){return Object.prototype.toString.call(t)==="[object Object]"}var OV=class Fx extends pV.Emitter{constructor(r){super(),this.reviver=r}add(r){let e;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(r);let n=e.type===Xe.BINARY_EVENT;n||e.type===Xe.BINARY_ACK?(e.type=n?Xe.EVENT:Xe.ACK,this.reconstructor=new SV(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(r0(r)||r.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(r),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let e=0,n={type:Number(r.charAt(0))};if(Xe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Xe.BINARY_EVENT||n.type===Xe.BINARY_ACK){let o=e+1;for(;r.charAt(++e)!=="-"&&e!=r.length;);let s=r.substring(o,e);if(s!=Number(s)||r.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(r.charAt(e+1)==="/"){let o=e+1;for(;++e&&!(r.charAt(e)===","||e===r.length););n.nsp=r.substring(o,e)}else n.nsp="/";let i=r.charAt(e+1);if(i!==""&&Number(i)==i){let o=e+1;for(;++e;){let s=r.charAt(e);if(s==null||Number(s)!=s){--e;break}if(e===r.length)break}n.id=Number(r.substring(o,e+1))}if(r.charAt(++e)){let o=this.tryParse(r.substr(e));if(Fx.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return O_("decoded %s as %j",r,n),n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,e){switch(r){case Xe.CONNECT:return ST(e);case Xe.DISCONNECT:return e===void 0;case Xe.CONNECT_ERROR:return typeof e=="string"||ST(e);case Xe.EVENT:case Xe.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&_V.indexOf(e[0])===-1);case Xe.ACK:case Xe.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},SV=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let r=gV(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function In(t,r,e){return t.on(r,e),function(){t.off(r,e)}}var PV=_t(Za(),1),TV=_t(Rn(),1),Ht=(0,TV.default)("socket.io-client:socket"),xV=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),jx=class extends PV.Emitter{constructor(t,r,e){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,e&&e.auth&&(this.auth=e.auth),this._opts=Object.assign({},e),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[In(t,"open",this.onopen.bind(this)),In(t,"packet",this.onpacket.bind(this)),In(t,"error",this.onerror.bind(this)),In(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){if(xV.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;let e={type:Xe.EVENT,data:r};if(e.options={},e.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){let i=this.ids++;Ht("emitting packet with ack id %d",i);let o=r.pop();this._registerAckCallback(i,o),e.id=i}let n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)?Ht("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(e),this.packet(e)):this.sendBuffer.push(e),this.flags={},this}_registerAckCallback(t,r){var e;let n=(e=this.flags.timeout)!==null&&e!==void 0?e:this._opts.ackTimeout;if(n===void 0){this.acks[t]=r;return}let i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===t&&(Ht("removing packet with ack id %d from the buffer",t),this.sendBuffer.splice(s,1));Ht("event with ack id %d has timed out after %d ms",t,n),r.call(this,new Error("operation has timed out"))},n),o=(...s)=>{this.io.clearTimeoutFn(i),r.apply(this,s)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((e,n)=>{let i=(o,s)=>o?n(o):e(s);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());let e={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...i)=>e!==this._queue[0]?void 0:(n!==null?e.tryCount>this._opts.retries&&(Ht("packet [%d] is discarded after %d tries",e.id,e.tryCount),this._queue.shift(),r&&r(n)):(Ht("packet [%d] was successfully sent",e.id),this._queue.shift(),r&&r(null,...i)),e.pending=!1,this._drainQueue())),this._queue.push(e),this._drainQueue()}_drainQueue(t=!1){if(Ht("draining queue"),!this.connected||this._queue.length===0)return;let r=this._queue[0];if(r.pending&&!t){Ht("packet [%d] has already been sent and is waiting for an ack",r.id);return}r.pending=!0,r.tryCount++,Ht("sending packet [%d] (try n\xB0%d)",r.id,r.tryCount),this.flags=r.flags,this.emit.apply(this,r.args)}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){Ht("transport is open - connecting"),typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Xe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){Ht("close (%s)",t),this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){let r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Xe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Xe.EVENT:case Xe.BINARY_EVENT:this.onevent(t);break;case Xe.ACK:case Xe.BINARY_ACK:this.onack(t);break;case Xe.DISCONNECT:this.ondisconnect();break;case Xe.CONNECT_ERROR:this.destroy();let r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){let r=t.data||[];Ht("emitting event %j",r),t.id!=null&&(Ht("attaching ack callback to event"),r.push(this.ack(t.id))),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let e of r)e.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let r=this,e=!1;return function(...n){e||(e=!0,Ht("sending ack %j",n),r.packet({type:Xe.ACK,id:t,data:n}))}}onack(t){let r=this.acks[t.id];if(typeof r!="function"){Ht("bad ack %s",t.id);return}delete this.acks[t.id],Ht("calling ack %s with %j",t.id,t.data),r.withError&&t.data.unshift(null),r.apply(this,t.data)}onconnect(t,r){Ht("socket connected with id %s",t),this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){Ht("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(Ht("performing disconnect (%s)",this.nsp),this.packet({type:Xe.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let r=this._anyListeners;for(let e=0;e<r.length;e++)if(t===r[e])return r.splice(e,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let r=this._anyOutgoingListeners;for(let e=0;e<r.length;e++)if(t===r[e])return r.splice(e,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let r=this._anyOutgoingListeners.slice();for(let e of r)e.apply(this,t.data)}}};function Ja(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ja.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),e=Math.floor(r*this.jitter*t);t=Math.floor(r*10)&1?t+e:t-e}return Math.min(t,this.max)|0};Ja.prototype.reset=function(){this.attempts=0};Ja.prototype.setMin=function(t){this.ms=t};Ja.prototype.setMax=function(t){this.max=t};Ja.prototype.setJitter=function(t){this.jitter=t};var AV=_t(Za(),1),CV=_t(Rn(),1),or=(0,CV.default)("socket.io-client:manager"),ff=class extends AV.Emitter{constructor(t,r){var e;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Bf(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((e=r.randomizationFactor)!==null&&e!==void 0?e:.5),this.backoff=new Ja({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;let n=r.parser||Rx;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(or("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;or("opening %s",this.uri),this.engine=new t0(this.uri,this.opts);let r=this.engine,e=this;this._readyState="opening",this.skipReconnect=!1;let n=In(r,"open",function(){e.onopen(),t&&t()}),i=s=>{or("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",s),t?t(s):this.maybeReconnectOnOpen()},o=In(r,"error",i);if(this._timeout!==!1){let s=this._timeout;or("connect attempt will timeout after %d",s);let a=this.setTimeoutFn(()=>{or("connect attempt timed out after %d",s),n(),i(new Error("timeout")),r.close()},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(n),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){or("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(In(t,"ping",this.onping.bind(this)),In(t,"data",this.ondata.bind(this)),In(t,"error",this.onerror.bind(this)),In(t,"close",this.onclose.bind(this)),In(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){e0(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){or("error",t),this.emitReserved("error",t)}socket(t,r){let e=this.nsps[t];return e?this._autoConnect&&!e.active&&e.connect():(e=new jx(this,t,r),this.nsps[t]=e),e}_destroy(t){let r=Object.keys(this.nsps);for(let e of r)if(this.nsps[e].active){or("socket %s is still active, skipping close",e);return}this._close()}_packet(t){or("writing packet %j",t);let r=this.encoder.encode(t);for(let e=0;e<r.length;e++)this.engine.write(r[e],t.options)}cleanup(){or("cleanup"),this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){or("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,r){or("closed due to %s",t),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)or("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let r=this.backoff.duration();or("will wait %dms before reconnect attempt",r),this._reconnecting=!0;let e=this.setTimeoutFn(()=>{t.skipReconnect||(or("attempting reconnect"),this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(or("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):(or("reconnect success"),t.onreconnect())}))},r);this.opts.autoUnref&&e.unref(),this.subs.push(()=>{this.clearTimeoutFn(e)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}},MV=_t(Rn(),1),PT=(0,MV.default)("socket.io-client"),Zc={};function m_(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};let e=dV(t,r.path||"/socket.io"),n=e.source,i=e.id,o=e.path,s=Zc[i]&&o in Zc[i].nsps,a=r.forceNew||r["force new connection"]||r.multiplex===!1||s,c;return a?(PT("ignoring socket cache for %s",n),c=new ff(n,r)):(Zc[i]||(PT("new io instance for %s",n),Zc[i]=new ff(n,r)),c=Zc[i]),e.query&&!r.query&&(r.query=e.queryKey),c.socket(e.path,r)}Object.assign(m_,{Manager:ff,Socket:jx,io:m_,connect:m_});var Qe;(function(t){t.assertEqual=i=>i;function r(i){}t.assertIs=r;function e(i){throw new Error}t.assertNever=e,t.arrayToEnum=i=>{let o={};for(let s of i)o[s]=s;return o},t.getValidEnumValues=i=>{let o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(let a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(let s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Qe||(Qe={}));var S_;(function(t){t.mergeShapes=(r,e)=>z(z({},r),e)})(S_||(S_={}));var le=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),uo=t=>{switch(typeof t){case"undefined":return le.undefined;case"string":return le.string;case"number":return isNaN(t)?le.nan:le.number;case"boolean":return le.boolean;case"function":return le.function;case"bigint":return le.bigint;case"symbol":return le.symbol;case"object":return Array.isArray(t)?le.array:t===null?le.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?le.promise:typeof Map<"u"&&t instanceof Map?le.map:typeof Set<"u"&&t instanceof Set?le.set:typeof Date<"u"&&t instanceof Date?le.date:le.object;default:return le.unknown}},ee=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),IV=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),kn=class Dx extends Error{constructor(r){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){let e=r||function(o){return o.message},n={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(e(s));else{let a=n,c=0;for(;c<s.path.length;){let l=s.path[c];c===s.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(e(s))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}static assert(r){if(!(r instanceof Dx))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=e=>e.message){let e={},n=[];for(let i of this.issues)i.path.length>0?(e[i.path[0]]=e[i.path[0]]||[],e[i.path[0]].push(r(i))):n.push(r(i));return{formErrors:n,fieldErrors:e}}get formErrors(){return this.flatten()}};kn.create=t=>new kn(t);var $a=(t,r)=>{let e;switch(t.code){case ee.invalid_type:t.received===le.undefined?e="Required":e=`Expected ${t.expected}, received ${t.received}`;break;case ee.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(t.expected,Qe.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:e=`Unrecognized key(s) in object: ${Qe.joinValues(t.keys,", ")}`;break;case ee.invalid_union:e="Invalid input";break;case ee.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${Qe.joinValues(t.options)}`;break;case ee.invalid_enum_value:e=`Invalid enum value. Expected ${Qe.joinValues(t.options)}, received '${t.received}'`;break;case ee.invalid_arguments:e="Invalid function arguments";break;case ee.invalid_return_type:e="Invalid function return type";break;case ee.invalid_date:e="Invalid date";break;case ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(e=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?e=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?e=`Invalid input: must end with "${t.validation.endsWith}"`:Qe.assertNever(t.validation):t.validation!=="regex"?e=`Invalid ${t.validation}`:e="Invalid";break;case ee.too_small:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:e="Invalid input";break;case ee.too_big:t.type==="array"?e=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?e=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?e=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?e=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?e=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:e="Invalid input";break;case ee.custom:e="Invalid input";break;case ee.invalid_intersection_types:e="Intersection results could not be merged";break;case ee.not_multiple_of:e=`Number must be a multiple of ${t.multipleOf}`;break;case ee.not_finite:e="Number must be finite";break;default:e=r.defaultError,Qe.assertNever(t)}return{message:e}},qx=$a;function kV(t){qx=t}function hf(){return qx}var mf=t=>{let{data:r,path:e,errorMaps:n,issueData:i}=t,o=[...e,...i.path||[]],s=Ee(z({},i),{path:o});if(i.message!==void 0)return Ee(z({},i),{path:o,message:i.message});let a="",c=n.filter(l=>!!l).slice().reverse();for(let l of c)a=l(s,{data:r,defaultError:a}).message;return Ee(z({},i),{path:o,message:a})},LV=[];function se(t,r){let e=hf(),n=mf({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e,e===$a?void 0:$a].filter(i=>!!i)});t.common.issues.push(n)}var Lr=class Bx{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,e){let n=[];for(let i of e){if(i.status==="aborted")return Me;i.status==="dirty"&&r.dirty(),n.push(i.value)}return{status:r.value,value:n}}static mergeObjectAsync(r,e){return ki(this,null,function*(){let n=[];for(let i of e){let o=yield i.key,s=yield i.value;n.push({key:o,value:s})}return Bx.mergeObjectSync(r,n)})}static mergeObjectSync(r,e){let n={};for(let i of e){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Me;o.status==="dirty"&&r.dirty(),s.status==="dirty"&&r.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:r.value,value:n}}},Me=Object.freeze({status:"aborted"}),vf=t=>({status:"dirty",value:t}),Er=t=>({status:"valid",value:t}),P_=t=>t.status==="aborted",T_=t=>t.status==="dirty",Xc=t=>t.status==="valid",Qc=t=>typeof Promise<"u"&&t instanceof Promise;function bf(t,r,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?t!==r||!n:!r.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(t):n?n.value:r.get(t)}function Wx(t,r,e,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?t!==r||!i:!r.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,e):i?i.value=e:r.set(t,e),e}var _e;(function(t){t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(_e||(_e={}));var Jc,Yc,si=class{constructor(t,r,e,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=e,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},TT=(t,r)=>{if(Xc(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let e=new kn(t.common.issues);return this._error=e,this._error}}};function je(t){if(!t)return{};let{errorMap:r,invalid_type_error:e,required_error:n,description:i}=t;if(r&&(e||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:i}:{errorMap:(o,s)=>{var a,c;let{message:l}=t;return o.code==="invalid_enum_value"?{message:l??s.defaultError}:typeof s.data>"u"?{message:(a=l??n)!==null&&a!==void 0?a:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(c=l??e)!==null&&c!==void 0?c:s.defaultError}},description:i}}var ze=class{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return uo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:uo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Lr,ctx:{common:t.parent.common,data:t.data,parsedType:uo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Qc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let e=this.safeParse(t,r);if(e.success)return e.data;throw e.error}safeParse(t,r){var e;let n={common:{issues:[],async:(e=r==null?void 0:r.async)!==null&&e!==void 0?e:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:uo(t)},i=this._parseSync({data:t,path:n.path,parent:n});return TT(n,i)}parseAsync(t,r){return ki(this,null,function*(){let e=yield this.safeParseAsync(t,r);if(e.success)return e.data;throw e.error})}safeParseAsync(t,r){return ki(this,null,function*(){let e={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:uo(t)},n=this._parse({data:t,path:e.path,parent:e}),i=yield Qc(n)?n:Promise.resolve(n);return TT(e,i)})}refine(t,r){let e=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,i)=>{let o=t(n),s=()=>i.addIssue(z({code:ee.custom},e(n)));return typeof Promise<"u"&&o instanceof Promise?o.then(a=>a?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(t,r){return this._refinement((e,n)=>t(e)?!0:(n.addIssue(typeof r=="function"?r(e,n):r),!1))}_refinement(t){return new Ln({schema:this,typeName:xe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ni.create(this,this._def)}nullable(){return lo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bs.create(this,this._def)}promise(){return Va.create(this,this._def)}or(t){return sl.create([this,t],this._def)}and(t){return al.create(this,t,this._def)}transform(t){return new Ln(Ee(z({},je(this._def)),{schema:this,typeName:xe.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){let r=typeof t=="function"?t:()=>t;return new dl(Ee(z({},je(this._def)),{innerType:this,defaultValue:r,typeName:xe.ZodDefault}))}brand(){return new n0(z({typeName:xe.ZodBranded,type:this},je(this._def)))}catch(t){let r=typeof t=="function"?t:()=>t;return new pl(Ee(z({},je(this._def)),{innerType:this,catchValue:r,typeName:xe.ZodCatch}))}describe(t){let r=this.constructor;return new r(Ee(z({},this._def),{description:t}))}pipe(t){return i0.create(this,t)}readonly(){return fl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},RV=/^c[^\s-]{8,}$/i,NV=/^[0-9a-z]+$/,FV=/^[0-9A-HJKMNP-TV-Z]{26}$/,jV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DV=/^[a-z0-9_-]{21}$/i,qV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,BV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,WV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",v_,$V=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,UV=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,zV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$x="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",VV=new RegExp(`^${$x}$`);function Ux(t){let r="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`),r}function HV(t){return new RegExp(`^${Ux(t)}$`)}function zx(t){let r=`${$x}T${Ux(t)}`,e=[];return e.push(t.local?"Z?":"Z"),t.offset&&e.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${e.join("|")})`,new RegExp(`^${r}$`)}function GV(t,r){return!!((r==="v4"||!r)&&$V.test(t)||(r==="v6"||!r)&&UV.test(t))}var Ua=class Kc extends ze{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==le.string){let i=this._getOrReturnCtx(r);return se(i,{code:ee.invalid_type,expected:le.string,received:i.parsedType}),Me}let e=new Lr,n;for(let i of this._def.checks)if(i.kind==="min")r.data.length<i.value&&(n=this._getOrReturnCtx(r,n),se(n,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),e.dirty());else if(i.kind==="max")r.data.length>i.value&&(n=this._getOrReturnCtx(r,n),se(n,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),e.dirty());else if(i.kind==="length"){let o=r.data.length>i.value,s=r.data.length<i.value;(o||s)&&(n=this._getOrReturnCtx(r,n),o?se(n,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&se(n,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),e.dirty())}else if(i.kind==="email")BV.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"email",code:ee.invalid_string,message:i.message}),e.dirty());else if(i.kind==="emoji")v_||(v_=new RegExp(WV,"u")),v_.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"emoji",code:ee.invalid_string,message:i.message}),e.dirty());else if(i.kind==="uuid")jV.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"uuid",code:ee.invalid_string,message:i.message}),e.dirty());else if(i.kind==="nanoid")DV.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"nanoid",code:ee.invalid_string,message:i.message}),e.dirty());else if(i.kind==="cuid")RV.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"cuid",code:ee.invalid_string,message:i.message}),e.dirty());else if(i.kind==="cuid2")NV.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"cuid2",code:ee.invalid_string,message:i.message}),e.dirty());else if(i.kind==="ulid")FV.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"ulid",code:ee.invalid_string,message:i.message}),e.dirty());else if(i.kind==="url")try{new URL(r.data)}catch{n=this._getOrReturnCtx(r,n),se(n,{validation:"url",code:ee.invalid_string,message:i.message}),e.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"regex",code:ee.invalid_string,message:i.message}),e.dirty())):i.kind==="trim"?r.data=r.data.trim():i.kind==="includes"?r.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(r,n),se(n,{code:ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),e.dirty()):i.kind==="toLowerCase"?r.data=r.data.toLowerCase():i.kind==="toUpperCase"?r.data=r.data.toUpperCase():i.kind==="startsWith"?r.data.startsWith(i.value)||(n=this._getOrReturnCtx(r,n),se(n,{code:ee.invalid_string,validation:{startsWith:i.value},message:i.message}),e.dirty()):i.kind==="endsWith"?r.data.endsWith(i.value)||(n=this._getOrReturnCtx(r,n),se(n,{code:ee.invalid_string,validation:{endsWith:i.value},message:i.message}),e.dirty()):i.kind==="datetime"?zx(i).test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{code:ee.invalid_string,validation:"datetime",message:i.message}),e.dirty()):i.kind==="date"?VV.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{code:ee.invalid_string,validation:"date",message:i.message}),e.dirty()):i.kind==="time"?HV(i).test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{code:ee.invalid_string,validation:"time",message:i.message}),e.dirty()):i.kind==="duration"?qV.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"duration",code:ee.invalid_string,message:i.message}),e.dirty()):i.kind==="ip"?GV(r.data,i.version)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"ip",code:ee.invalid_string,message:i.message}),e.dirty()):i.kind==="base64"?zV.test(r.data)||(n=this._getOrReturnCtx(r,n),se(n,{validation:"base64",code:ee.invalid_string,message:i.message}),e.dirty()):Qe.assertNever(i);return{status:e.value,value:r.data}}_regex(r,e,n){return this.refinement(i=>r.test(i),z({validation:e,code:ee.invalid_string},_e.errToObj(n)))}_addCheck(r){return new Kc(Ee(z({},this._def),{checks:[...this._def.checks,r]}))}email(r){return this._addCheck(z({kind:"email"},_e.errToObj(r)))}url(r){return this._addCheck(z({kind:"url"},_e.errToObj(r)))}emoji(r){return this._addCheck(z({kind:"emoji"},_e.errToObj(r)))}uuid(r){return this._addCheck(z({kind:"uuid"},_e.errToObj(r)))}nanoid(r){return this._addCheck(z({kind:"nanoid"},_e.errToObj(r)))}cuid(r){return this._addCheck(z({kind:"cuid"},_e.errToObj(r)))}cuid2(r){return this._addCheck(z({kind:"cuid2"},_e.errToObj(r)))}ulid(r){return this._addCheck(z({kind:"ulid"},_e.errToObj(r)))}base64(r){return this._addCheck(z({kind:"base64"},_e.errToObj(r)))}ip(r){return this._addCheck(z({kind:"ip"},_e.errToObj(r)))}datetime(r){var e,n;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck(z({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(e=r==null?void 0:r.offset)!==null&&e!==void 0?e:!1,local:(n=r==null?void 0:r.local)!==null&&n!==void 0?n:!1},_e.errToObj(r==null?void 0:r.message)))}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck(z({kind:"time",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision},_e.errToObj(r==null?void 0:r.message)))}duration(r){return this._addCheck(z({kind:"duration"},_e.errToObj(r)))}regex(r,e){return this._addCheck(z({kind:"regex",regex:r},_e.errToObj(e)))}includes(r,e){return this._addCheck(z({kind:"includes",value:r,position:e==null?void 0:e.position},_e.errToObj(e==null?void 0:e.message)))}startsWith(r,e){return this._addCheck(z({kind:"startsWith",value:r},_e.errToObj(e)))}endsWith(r,e){return this._addCheck(z({kind:"endsWith",value:r},_e.errToObj(e)))}min(r,e){return this._addCheck(z({kind:"min",value:r},_e.errToObj(e)))}max(r,e){return this._addCheck(z({kind:"max",value:r},_e.errToObj(e)))}length(r,e){return this._addCheck(z({kind:"length",value:r},_e.errToObj(e)))}nonempty(r){return this.min(1,_e.errToObj(r))}trim(){return new Kc(Ee(z({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Kc(Ee(z({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Kc(Ee(z({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get minLength(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxLength(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}};Ua.create=t=>{var r;return new Ua(z({checks:[],typeName:xe.ZodString,coerce:(r=t==null?void 0:t.coerce)!==null&&r!==void 0?r:!1},je(t)))};function ZV(t,r){let e=(t.toString().split(".")[1]||"").length,n=(r.toString().split(".")[1]||"").length,i=e>n?e:n,o=parseInt(t.toFixed(i).replace(".","")),s=parseInt(r.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}var el=class x_ extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==le.number){let i=this._getOrReturnCtx(r);return se(i,{code:ee.invalid_type,expected:le.number,received:i.parsedType}),Me}let e,n=new Lr;for(let i of this._def.checks)i.kind==="int"?Qe.isInteger(r.data)||(e=this._getOrReturnCtx(r,e),se(e,{code:ee.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(e=this._getOrReturnCtx(r,e),se(e,{code:ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(e=this._getOrReturnCtx(r,e),se(e,{code:ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?ZV(r.data,i.value)!==0&&(e=this._getOrReturnCtx(r,e),se(e,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(r.data)||(e=this._getOrReturnCtx(r,e),se(e,{code:ee.not_finite,message:i.message}),n.dirty()):Qe.assertNever(i);return{status:n.value,value:r.data}}gte(r,e){return this.setLimit("min",r,!0,_e.toString(e))}gt(r,e){return this.setLimit("min",r,!1,_e.toString(e))}lte(r,e){return this.setLimit("max",r,!0,_e.toString(e))}lt(r,e){return this.setLimit("max",r,!1,_e.toString(e))}setLimit(r,e,n,i){return new x_(Ee(z({},this._def),{checks:[...this._def.checks,{kind:r,value:e,inclusive:n,message:_e.toString(i)}]}))}_addCheck(r){return new x_(Ee(z({},this._def),{checks:[...this._def.checks,r]}))}int(r){return this._addCheck({kind:"int",message:_e.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:_e.toString(e)})}finite(r){return this._addCheck({kind:"finite",message:_e.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(r)})}get minValue(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&Qe.isInteger(r.value))}get isFinite(){let r=null,e=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(e===null||n.value>e)&&(e=n.value):n.kind==="max"&&(r===null||n.value<r)&&(r=n.value)}return Number.isFinite(e)&&Number.isFinite(r)}};el.create=t=>new el(z({checks:[],typeName:xe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1},je(t)));var tl=class A_ extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==le.bigint){let i=this._getOrReturnCtx(r);return se(i,{code:ee.invalid_type,expected:le.bigint,received:i.parsedType}),Me}let e,n=new Lr;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(e=this._getOrReturnCtx(r,e),se(e,{code:ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(e=this._getOrReturnCtx(r,e),se(e,{code:ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?r.data%i.value!==BigInt(0)&&(e=this._getOrReturnCtx(r,e),se(e,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Qe.assertNever(i);return{status:n.value,value:r.data}}gte(r,e){return this.setLimit("min",r,!0,_e.toString(e))}gt(r,e){return this.setLimit("min",r,!1,_e.toString(e))}lte(r,e){return this.setLimit("max",r,!0,_e.toString(e))}lt(r,e){return this.setLimit("max",r,!1,_e.toString(e))}setLimit(r,e,n,i){return new A_(Ee(z({},this._def),{checks:[...this._def.checks,{kind:r,value:e,inclusive:n,message:_e.toString(i)}]}))}_addCheck(r){return new A_(Ee(z({},this._def),{checks:[...this._def.checks,r]}))}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(r)})}multipleOf(r,e){return this._addCheck({kind:"multipleOf",value:r,message:_e.toString(e)})}get minValue(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r}get maxValue(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r}};tl.create=t=>{var r;return new tl(z({checks:[],typeName:xe.ZodBigInt,coerce:(r=t==null?void 0:t.coerce)!==null&&r!==void 0?r:!1},je(t)))};var rl=class extends ze{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==le.boolean){let r=this._getOrReturnCtx(t);return se(r,{code:ee.invalid_type,expected:le.boolean,received:r.parsedType}),Me}return Er(t.data)}};rl.create=t=>new rl(z({typeName:xe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1},je(t)));var nl=class Vx extends ze{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==le.date){let i=this._getOrReturnCtx(r);return se(i,{code:ee.invalid_type,expected:le.date,received:i.parsedType}),Me}if(isNaN(r.data.getTime())){let i=this._getOrReturnCtx(r);return se(i,{code:ee.invalid_date}),Me}let e=new Lr,n;for(let i of this._def.checks)i.kind==="min"?r.data.getTime()<i.value&&(n=this._getOrReturnCtx(r,n),se(n,{code:ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),e.dirty()):i.kind==="max"?r.data.getTime()>i.value&&(n=this._getOrReturnCtx(r,n),se(n,{code:ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),e.dirty()):Qe.assertNever(i);return{status:e.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Vx(Ee(z({},this._def),{checks:[...this._def.checks,r]}))}min(r,e){return this._addCheck({kind:"min",value:r.getTime(),message:_e.toString(e)})}max(r,e){return this._addCheck({kind:"max",value:r.getTime(),message:_e.toString(e)})}get minDate(){let r=null;for(let e of this._def.checks)e.kind==="min"&&(r===null||e.value>r)&&(r=e.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(let e of this._def.checks)e.kind==="max"&&(r===null||e.value<r)&&(r=e.value);return r!=null?new Date(r):null}};nl.create=t=>new nl(z({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:xe.ZodDate},je(t)));var gf=class extends ze{_parse(t){if(this._getType(t)!==le.symbol){let r=this._getOrReturnCtx(t);return se(r,{code:ee.invalid_type,expected:le.symbol,received:r.parsedType}),Me}return Er(t.data)}};gf.create=t=>new gf(z({typeName:xe.ZodSymbol},je(t)));var il=class extends ze{_parse(t){if(this._getType(t)!==le.undefined){let r=this._getOrReturnCtx(t);return se(r,{code:ee.invalid_type,expected:le.undefined,received:r.parsedType}),Me}return Er(t.data)}};il.create=t=>new il(z({typeName:xe.ZodUndefined},je(t)));var ol=class extends ze{_parse(t){if(this._getType(t)!==le.null){let r=this._getOrReturnCtx(t);return se(r,{code:ee.invalid_type,expected:le.null,received:r.parsedType}),Me}return Er(t.data)}};ol.create=t=>new ol(z({typeName:xe.ZodNull},je(t)));var za=class extends ze{constructor(){super(...arguments),this._any=!0}_parse(t){return Er(t.data)}};za.create=t=>new za(z({typeName:xe.ZodAny},je(t)));var vs=class extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Er(t.data)}};vs.create=t=>new vs(z({typeName:xe.ZodUnknown},je(t)));var Li=class extends ze{_parse(t){let r=this._getOrReturnCtx(t);return se(r,{code:ee.invalid_type,expected:le.never,received:r.parsedType}),Me}};Li.create=t=>new Li(z({typeName:xe.ZodNever},je(t)));var yf=class extends ze{_parse(t){if(this._getType(t)!==le.undefined){let r=this._getOrReturnCtx(t);return se(r,{code:ee.invalid_type,expected:le.void,received:r.parsedType}),Me}return Er(t.data)}};yf.create=t=>new yf(z({typeName:xe.ZodVoid},je(t)));var bs=class df extends ze{_parse(r){let{ctx:e,status:n}=this._processInputParams(r),i=this._def;if(e.parsedType!==le.array)return se(e,{code:ee.invalid_type,expected:le.array,received:e.parsedType}),Me;if(i.exactLength!==null){let s=e.data.length>i.exactLength.value,a=e.data.length<i.exactLength.value;(s||a)&&(se(e,{code:s?ee.too_big:ee.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&e.data.length<i.minLength.value&&(se(e,{code:ee.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&e.data.length>i.maxLength.value&&(se(e,{code:ee.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),e.common.async)return Promise.all([...e.data].map((s,a)=>i.type._parseAsync(new si(e,s,e.path,a)))).then(s=>Lr.mergeArray(n,s));let o=[...e.data].map((s,a)=>i.type._parseSync(new si(e,s,e.path,a)));return Lr.mergeArray(n,o)}get element(){return this._def.type}min(r,e){return new df(Ee(z({},this._def),{minLength:{value:r,message:_e.toString(e)}}))}max(r,e){return new df(Ee(z({},this._def),{maxLength:{value:r,message:_e.toString(e)}}))}length(r,e){return new df(Ee(z({},this._def),{exactLength:{value:r,message:_e.toString(e)}}))}nonempty(r){return this.min(1,r)}};bs.create=(t,r)=>new bs(z({type:t,minLength:null,maxLength:null,exactLength:null,typeName:xe.ZodArray},je(r)));function Ba(t){if(t instanceof fn){let r={};for(let e in t.shape){let n=t.shape[e];r[e]=ni.create(Ba(n))}return new fn(Ee(z({},t._def),{shape:()=>r}))}else return t instanceof bs?new bs(Ee(z({},t._def),{type:Ba(t.element)})):t instanceof ni?ni.create(Ba(t.unwrap())):t instanceof lo?lo.create(Ba(t.unwrap())):t instanceof co?co.create(t.items.map(r=>Ba(r))):t}var fn=class Cn extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let r=this._def.shape(),e=Qe.objectKeys(r);return this._cached={shape:r,keys:e}}_parse(r){if(this._getType(r)!==le.object){let c=this._getOrReturnCtx(r);return se(c,{code:ee.invalid_type,expected:le.object,received:c.parsedType}),Me}let{status:e,ctx:n}=this._processInputParams(r),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Li&&this._def.unknownKeys==="strip"))for(let c in n.data)o.includes(c)||s.push(c);let a=[];for(let c of o){let l=i[c],p=n.data[c];a.push({key:{status:"valid",value:c},value:l._parse(new si(n,p,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof Li){let c=this._def.unknownKeys;if(c==="passthrough")for(let l of s)a.push({key:{status:"valid",value:l},value:{status:"valid",value:n.data[l]}});else if(c==="strict")s.length>0&&(se(n,{code:ee.unrecognized_keys,keys:s}),e.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let l of s){let p=n.data[l];a.push({key:{status:"valid",value:l},value:c._parse(new si(n,p,n.path,l)),alwaysSet:l in n.data})}}return n.common.async?Promise.resolve().then(()=>ki(this,null,function*(){let c=[];for(let l of a){let p=yield l.key,h=yield l.value;c.push({key:p,value:h,alwaysSet:l.alwaysSet})}return c})).then(c=>Lr.mergeObjectSync(e,c)):Lr.mergeObjectSync(e,a)}get shape(){return this._def.shape()}strict(r){return _e.errToObj,new Cn(z(Ee(z({},this._def),{unknownKeys:"strict"}),r!==void 0?{errorMap:(e,n)=>{var i,o,s,a;let c=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,e,n).message)!==null&&s!==void 0?s:n.defaultError;return e.code==="unrecognized_keys"?{message:(a=_e.errToObj(r).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}))}strip(){return new Cn(Ee(z({},this._def),{unknownKeys:"strip"}))}passthrough(){return new Cn(Ee(z({},this._def),{unknownKeys:"passthrough"}))}extend(r){return new Cn(Ee(z({},this._def),{shape:()=>z(z({},this._def.shape()),r)}))}merge(r){return new Cn({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>z(z({},this._def.shape()),r._def.shape()),typeName:xe.ZodObject})}setKey(r,e){return this.augment({[r]:e})}catchall(r){return new Cn(Ee(z({},this._def),{catchall:r}))}pick(r){let e={};return Qe.objectKeys(r).forEach(n=>{r[n]&&this.shape[n]&&(e[n]=this.shape[n])}),new Cn(Ee(z({},this._def),{shape:()=>e}))}omit(r){let e={};return Qe.objectKeys(this.shape).forEach(n=>{r[n]||(e[n]=this.shape[n])}),new Cn(Ee(z({},this._def),{shape:()=>e}))}deepPartial(){return Ba(this)}partial(r){let e={};return Qe.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];r&&!r[n]?e[n]=i:e[n]=i.optional()}),new Cn(Ee(z({},this._def),{shape:()=>e}))}required(r){let e={};return Qe.objectKeys(this.shape).forEach(n=>{if(r&&!r[n])e[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ni;)i=i._def.innerType;e[n]=i}}),new Cn(Ee(z({},this._def),{shape:()=>e}))}keyof(){return Kx(Qe.objectKeys(this.shape))}};fn.create=(t,r)=>new fn(z({shape:()=>t,unknownKeys:"strip",catchall:Li.create(),typeName:xe.ZodObject},je(r)));fn.strictCreate=(t,r)=>new fn(z({shape:()=>t,unknownKeys:"strict",catchall:Li.create(),typeName:xe.ZodObject},je(r)));fn.lazycreate=(t,r)=>new fn(z({shape:t,unknownKeys:"strip",catchall:Li.create(),typeName:xe.ZodObject},je(r)));var sl=class extends ze{_parse(t){let{ctx:r}=this._processInputParams(t),e=this._def.options;function n(i){for(let s of i)if(s.result.status==="valid")return s.result;for(let s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let o=i.map(s=>new kn(s.ctx.common.issues));return se(r,{code:ee.invalid_union,unionErrors:o}),Me}if(r.common.async)return Promise.all(e.map(i=>ki(this,null,function*(){let o=Ee(z({},r),{common:Ee(z({},r.common),{issues:[]}),parent:null});return{result:yield i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}}))).then(n);{let i,o=[];for(let a of e){let c=Ee(z({},r),{common:Ee(z({},r.common),{issues:[]}),parent:null}),l=a._parseSync({data:r.data,path:r.path,parent:c});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let s=o.map(a=>new kn(a));return se(r,{code:ee.invalid_union,unionErrors:s}),Me}}get options(){return this._def.options}};sl.create=(t,r)=>new sl(z({options:t,typeName:xe.ZodUnion},je(r)));var ao=t=>t instanceof ul?ao(t.schema):t instanceof Ln?ao(t.innerType()):t instanceof cl?[t.value]:t instanceof yl?t.options:t instanceof ll?Qe.objectValues(t.enum):t instanceof dl?ao(t._def.innerType):t instanceof il?[void 0]:t instanceof ol?[null]:t instanceof ni?[void 0,...ao(t.unwrap())]:t instanceof lo?[null,...ao(t.unwrap())]:t instanceof n0||t instanceof fl?ao(t.unwrap()):t instanceof pl?ao(t._def.innerType):[],Hx=class Gx extends ze{_parse(r){let{ctx:e}=this._processInputParams(r);if(e.parsedType!==le.object)return se(e,{code:ee.invalid_type,expected:le.object,received:e.parsedType}),Me;let n=this.discriminator,i=e.data[n],o=this.optionsMap.get(i);return o?e.common.async?o._parseAsync({data:e.data,path:e.path,parent:e}):o._parseSync({data:e.data,path:e.path,parent:e}):(se(e,{code:ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,e,n){let i=new Map;for(let o of e){let s=ao(o.shape[r]);if(!s.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(a)}`);i.set(a,o)}}return new Gx(z({typeName:xe.ZodDiscriminatedUnion,discriminator:r,options:e,optionsMap:i},je(n)))}};function C_(t,r){let e=uo(t),n=uo(r);if(t===r)return{valid:!0,data:t};if(e===le.object&&n===le.object){let i=Qe.objectKeys(r),o=Qe.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s=z(z({},t),r);for(let a of o){let c=C_(t[a],r[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(e===le.array&&n===le.array){if(t.length!==r.length)return{valid:!1};let i=[];for(let o=0;o<t.length;o++){let s=t[o],a=r[o],c=C_(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return e===le.date&&n===le.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}var al=class extends ze{_parse(t){let{status:r,ctx:e}=this._processInputParams(t),n=(i,o)=>{if(P_(i)||P_(o))return Me;let s=C_(i.value,o.value);return s.valid?((T_(i)||T_(o))&&r.dirty(),{status:r.value,value:s.data}):(se(e,{code:ee.invalid_intersection_types}),Me)};return e.common.async?Promise.all([this._def.left._parseAsync({data:e.data,path:e.path,parent:e}),this._def.right._parseAsync({data:e.data,path:e.path,parent:e})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:e.data,path:e.path,parent:e}),this._def.right._parseSync({data:e.data,path:e.path,parent:e}))}};al.create=(t,r,e)=>new al(z({left:t,right:r,typeName:xe.ZodIntersection},je(e)));var co=class Zx extends ze{_parse(r){let{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==le.array)return se(n,{code:ee.invalid_type,expected:le.array,received:n.parsedType}),Me;if(n.data.length<this._def.items.length)return se(n,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Me;!this._def.rest&&n.data.length>this._def.items.length&&(se(n,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());let i=[...n.data].map((o,s)=>{let a=this._def.items[s]||this._def.rest;return a?a._parse(new si(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Lr.mergeArray(e,o)):Lr.mergeArray(e,i)}get items(){return this._def.items}rest(r){return new Zx(Ee(z({},this._def),{rest:r}))}};co.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new co(z({items:t,typeName:xe.ZodTuple,rest:null},je(r)))};var Jx=class M_ extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==le.object)return se(n,{code:ee.invalid_type,expected:le.object,received:n.parsedType}),Me;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in n.data)i.push({key:o._parse(new si(n,a,n.path,a)),value:s._parse(new si(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Lr.mergeObjectAsync(e,i):Lr.mergeObjectSync(e,i)}get element(){return this._def.valueType}static create(r,e,n){return e instanceof ze?new M_(z({keyType:r,valueType:e,typeName:xe.ZodRecord},je(n))):new M_(z({keyType:Ua.create(),valueType:r,typeName:xe.ZodRecord},je(e)))}},_f=class extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:e}=this._processInputParams(t);if(e.parsedType!==le.map)return se(e,{code:ee.invalid_type,expected:le.map,received:e.parsedType}),Me;let n=this._def.keyType,i=this._def.valueType,o=[...e.data.entries()].map(([s,a],c)=>({key:n._parse(new si(e,s,e.path,[c,"key"])),value:i._parse(new si(e,a,e.path,[c,"value"]))}));if(e.common.async){let s=new Map;return Promise.resolve().then(()=>ki(this,null,function*(){for(let a of o){let c=yield a.key,l=yield a.value;if(c.status==="aborted"||l.status==="aborted")return Me;(c.status==="dirty"||l.status==="dirty")&&r.dirty(),s.set(c.value,l.value)}return{status:r.value,value:s}}))}else{let s=new Map;for(let a of o){let c=a.key,l=a.value;if(c.status==="aborted"||l.status==="aborted")return Me;(c.status==="dirty"||l.status==="dirty")&&r.dirty(),s.set(c.value,l.value)}return{status:r.value,value:s}}}};_f.create=(t,r,e)=>new _f(z({valueType:r,keyType:t,typeName:xe.ZodMap},je(e)));var wf=class I_ extends ze{_parse(r){let{status:e,ctx:n}=this._processInputParams(r);if(n.parsedType!==le.set)return se(n,{code:ee.invalid_type,expected:le.set,received:n.parsedType}),Me;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(se(n,{code:ee.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),e.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(se(n,{code:ee.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),e.dirty());let o=this._def.valueType;function s(c){let l=new Set;for(let p of c){if(p.status==="aborted")return Me;p.status==="dirty"&&e.dirty(),l.add(p.value)}return{status:e.value,value:l}}let a=[...n.data.values()].map((c,l)=>o._parse(new si(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(r,e){return new I_(Ee(z({},this._def),{minSize:{value:r,message:_e.toString(e)}}))}max(r,e){return new I_(Ee(z({},this._def),{maxSize:{value:r,message:_e.toString(e)}}))}size(r,e){return this.min(r,e).max(r,e)}nonempty(r){return this.min(1,r)}};wf.create=(t,r)=>new wf(z({valueType:t,minSize:null,maxSize:null,typeName:xe.ZodSet},je(r)));var Yx=class pf extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(r){let{ctx:e}=this._processInputParams(r);if(e.parsedType!==le.function)return se(e,{code:ee.invalid_type,expected:le.function,received:e.parsedType}),Me;function n(a,c){return mf({data:a,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,hf(),$a].filter(l=>!!l),issueData:{code:ee.invalid_arguments,argumentsError:c}})}function i(a,c){return mf({data:a,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,hf(),$a].filter(l=>!!l),issueData:{code:ee.invalid_return_type,returnTypeError:c}})}let o={errorMap:e.common.contextualErrorMap},s=e.data;if(this._def.returns instanceof Va){let a=this;return Er(function(...c){return ki(this,null,function*(){let l=new kn([]),p=yield a._def.args.parseAsync(c,o).catch(f=>{throw l.addIssue(n(c,f)),l}),h=yield Reflect.apply(s,this,p);return yield a._def.returns._def.type.parseAsync(h,o).catch(f=>{throw l.addIssue(i(h,f)),l})})})}else{let a=this;return Er(function(...c){let l=a._def.args.safeParse(c,o);if(!l.success)throw new kn([n(c,l.error)]);let p=Reflect.apply(s,this,l.data),h=a._def.returns.safeParse(p,o);if(!h.success)throw new kn([i(p,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new pf(Ee(z({},this._def),{args:co.create(r).rest(vs.create())}))}returns(r){return new pf(Ee(z({},this._def),{returns:r}))}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,e,n){return new pf(z({args:r||co.create([]).rest(vs.create()),returns:e||vs.create(),typeName:xe.ZodFunction},je(n)))}},ul=class extends ze{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};ul.create=(t,r)=>new ul(z({getter:t,typeName:xe.ZodLazy},je(r)));var cl=class extends ze{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return se(r,{received:r.data,code:ee.invalid_literal,expected:this._def.value}),Me}return{status:"valid",value:t.data}}get value(){return this._def.value}};cl.create=(t,r)=>new cl(z({value:t,typeName:xe.ZodLiteral},je(r)));function Kx(t,r){return new yl(z({values:t,typeName:xe.ZodEnum},je(r)))}var yl=class k_ extends ze{constructor(){super(...arguments),Jc.set(this,void 0)}_parse(r){if(typeof r.data!="string"){let e=this._getOrReturnCtx(r),n=this._def.values;return se(e,{expected:Qe.joinValues(n),received:e.parsedType,code:ee.invalid_type}),Me}if(bf(this,Jc,"f")||Wx(this,Jc,new Set(this._def.values),"f"),!bf(this,Jc,"f").has(r.data)){let e=this._getOrReturnCtx(r),n=this._def.values;return se(e,{received:e.data,code:ee.invalid_enum_value,options:n}),Me}return Er(r.data)}get options(){return this._def.values}get enum(){let r={};for(let e of this._def.values)r[e]=e;return r}get Values(){let r={};for(let e of this._def.values)r[e]=e;return r}get Enum(){let r={};for(let e of this._def.values)r[e]=e;return r}extract(r,e=this._def){return k_.create(r,z(z({},this._def),e))}exclude(r,e=this._def){return k_.create(this.options.filter(n=>!r.includes(n)),z(z({},this._def),e))}};Jc=new WeakMap;yl.create=Kx;var ll=class extends ze{constructor(){super(...arguments),Yc.set(this,void 0)}_parse(t){let r=Qe.getValidEnumValues(this._def.values),e=this._getOrReturnCtx(t);if(e.parsedType!==le.string&&e.parsedType!==le.number){let n=Qe.objectValues(r);return se(e,{expected:Qe.joinValues(n),received:e.parsedType,code:ee.invalid_type}),Me}if(bf(this,Yc,"f")||Wx(this,Yc,new Set(Qe.getValidEnumValues(this._def.values)),"f"),!bf(this,Yc,"f").has(t.data)){let n=Qe.objectValues(r);return se(e,{received:e.data,code:ee.invalid_enum_value,options:n}),Me}return Er(t.data)}get enum(){return this._def.values}};Yc=new WeakMap;ll.create=(t,r)=>new ll(z({values:t,typeName:xe.ZodNativeEnum},je(r)));var Va=class extends ze{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==le.promise&&r.common.async===!1)return se(r,{code:ee.invalid_type,expected:le.promise,received:r.parsedType}),Me;let e=r.parsedType===le.promise?r.data:Promise.resolve(r.data);return Er(e.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Va.create=(t,r)=>new Va(z({type:t,typeName:xe.ZodPromise},je(r)));var Ln=class extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:e}=this._processInputParams(t),n=this._def.effect||null,i={addIssue:o=>{se(e,o),o.fatal?r.abort():r.dirty()},get path(){return e.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){let o=n.transform(e.data,i);if(e.common.async)return Promise.resolve(o).then(s=>ki(this,null,function*(){if(r.value==="aborted")return Me;let a=yield this._def.schema._parseAsync({data:s,path:e.path,parent:e});return a.status==="aborted"?Me:a.status==="dirty"||r.value==="dirty"?vf(a.value):a}));{if(r.value==="aborted")return Me;let s=this._def.schema._parseSync({data:o,path:e.path,parent:e});return s.status==="aborted"?Me:s.status==="dirty"||r.value==="dirty"?vf(s.value):s}}if(n.type==="refinement"){let o=s=>{let a=n.refinement(s,i);if(e.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(e.common.async===!1){let s=this._def.schema._parseSync({data:e.data,path:e.path,parent:e});return s.status==="aborted"?Me:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:e.data,path:e.path,parent:e}).then(s=>s.status==="aborted"?Me:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(n.type==="transform")if(e.common.async===!1){let o=this._def.schema._parseSync({data:e.data,path:e.path,parent:e});if(!Xc(o))return o;let s=n.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:e.data,path:e.path,parent:e}).then(o=>Xc(o)?Promise.resolve(n.transform(o.value,i)).then(s=>({status:r.value,value:s})):o);Qe.assertNever(n)}};Ln.create=(t,r,e)=>new Ln(z({schema:t,typeName:xe.ZodEffects,effect:r},je(e)));Ln.createWithPreprocess=(t,r,e)=>new Ln(z({schema:r,effect:{type:"preprocess",transform:t},typeName:xe.ZodEffects},je(e)));var ni=class extends ze{_parse(t){return this._getType(t)===le.undefined?Er(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};ni.create=(t,r)=>new ni(z({innerType:t,typeName:xe.ZodOptional},je(r)));var lo=class extends ze{_parse(t){return this._getType(t)===le.null?Er(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};lo.create=(t,r)=>new lo(z({innerType:t,typeName:xe.ZodNullable},je(r)));var dl=class extends ze{_parse(t){let{ctx:r}=this._processInputParams(t),e=r.data;return r.parsedType===le.undefined&&(e=this._def.defaultValue()),this._def.innerType._parse({data:e,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};dl.create=(t,r)=>new dl(z({innerType:t,typeName:xe.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default},je(r)));var pl=class extends ze{_parse(t){let{ctx:r}=this._processInputParams(t),e=Ee(z({},r),{common:Ee(z({},r.common),{issues:[]})}),n=this._def.innerType._parse({data:e.data,path:e.path,parent:z({},e)});return Qc(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new kn(e.common.issues)},input:e.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new kn(e.common.issues)},input:e.data})}}removeCatch(){return this._def.innerType}};pl.create=(t,r)=>new pl(z({innerType:t,typeName:xe.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch},je(r)));var Ef=class extends ze{_parse(t){if(this._getType(t)!==le.nan){let r=this._getOrReturnCtx(t);return se(r,{code:ee.invalid_type,expected:le.nan,received:r.parsedType}),Me}return{status:"valid",value:t.data}}};Ef.create=t=>new Ef(z({typeName:xe.ZodNaN},je(t)));var JV=Symbol("zod_brand"),n0=class extends ze{_parse(t){let{ctx:r}=this._processInputParams(t),e=r.data;return this._def.type._parse({data:e,path:r.path,parent:r})}unwrap(){return this._def.type}},i0=class Xx extends ze{_parse(r){let{status:e,ctx:n}=this._processInputParams(r);if(n.common.async)return ki(this,null,function*(){let i=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Me:i.status==="dirty"?(e.dirty(),vf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})});{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Me:i.status==="dirty"?(e.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(r,e){return new Xx({in:r,out:e,typeName:xe.ZodPipeline})}},fl=class extends ze{_parse(t){let r=this._def.innerType._parse(t),e=n=>(Xc(n)&&(n.value=Object.freeze(n.value)),n);return Qc(r)?r.then(n=>e(n)):e(r)}unwrap(){return this._def.innerType}};fl.create=(t,r)=>new fl(z({innerType:t,typeName:xe.ZodReadonly},je(r)));function Qx(t,r={},e){return t?za.create().superRefine((n,i)=>{var o,s;if(!t(n)){let a=typeof r=="function"?r(n):typeof r=="string"?{message:r}:r,c=(s=(o=a.fatal)!==null&&o!==void 0?o:e)!==null&&s!==void 0?s:!0,l=typeof a=="string"?{message:a}:a;i.addIssue(Ee(z({code:"custom"},l),{fatal:c}))}}):za.create()}var YV={object:fn.lazycreate},xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(xe||(xe={}));var KV=(t,r={message:`Input not instance of ${t.name}`})=>Qx(e=>e instanceof t,r),eA=Ua.create,tA=el.create,XV=Ef.create,QV=tl.create,rA=rl.create,eH=nl.create,tH=gf.create,rH=il.create,nH=ol.create,iH=za.create,oH=vs.create,sH=Li.create,aH=yf.create,uH=bs.create,cH=fn.create,lH=fn.strictCreate,dH=sl.create,pH=Hx.create,fH=al.create,hH=co.create,mH=Jx.create,vH=_f.create,bH=wf.create,gH=Yx.create,yH=ul.create,_H=cl.create,wH=yl.create,EH=ll.create,OH=Va.create,xT=Ln.create,SH=ni.create,PH=lo.create,TH=Ln.createWithPreprocess,xH=i0.create,AH=()=>eA().optional(),CH=()=>tA().optional(),MH=()=>rA().optional(),IH={string:t=>Ua.create(Ee(z({},t),{coerce:!0})),number:t=>el.create(Ee(z({},t),{coerce:!0})),boolean:t=>rl.create(Ee(z({},t),{coerce:!0})),bigint:t=>tl.create(Ee(z({},t),{coerce:!0})),date:t=>nl.create(Ee(z({},t),{coerce:!0}))},kH=Me,Mn=Object.freeze({__proto__:null,defaultErrorMap:$a,setErrorMap:kV,getErrorMap:hf,makeIssue:mf,EMPTY_PATH:LV,addIssueToContext:se,ParseStatus:Lr,INVALID:Me,DIRTY:vf,OK:Er,isAborted:P_,isDirty:T_,isValid:Xc,isAsync:Qc,get util(){return Qe},get objectUtil(){return S_},ZodParsedType:le,getParsedType:uo,ZodType:ze,datetimeRegex:zx,ZodString:Ua,ZodNumber:el,ZodBigInt:tl,ZodBoolean:rl,ZodDate:nl,ZodSymbol:gf,ZodUndefined:il,ZodNull:ol,ZodAny:za,ZodUnknown:vs,ZodNever:Li,ZodVoid:yf,ZodArray:bs,ZodObject:fn,ZodUnion:sl,ZodDiscriminatedUnion:Hx,ZodIntersection:al,ZodTuple:co,ZodRecord:Jx,ZodMap:_f,ZodSet:wf,ZodFunction:Yx,ZodLazy:ul,ZodLiteral:cl,ZodEnum:yl,ZodNativeEnum:ll,ZodPromise:Va,ZodEffects:Ln,ZodTransformer:Ln,ZodOptional:ni,ZodNullable:lo,ZodDefault:dl,ZodCatch:pl,ZodNaN:Ef,BRAND:JV,ZodBranded:n0,ZodPipeline:i0,ZodReadonly:fl,custom:Qx,Schema:ze,ZodSchema:ze,late:YV,get ZodFirstPartyTypeKind(){return xe},coerce:IH,any:iH,array:uH,bigint:QV,boolean:rA,date:eH,discriminatedUnion:pH,effect:xT,enum:wH,function:gH,instanceof:KV,intersection:fH,lazy:yH,literal:_H,map:vH,nan:XV,nativeEnum:EH,never:sH,null:nH,nullable:PH,number:tA,object:cH,oboolean:MH,onumber:CH,optional:SH,ostring:AH,pipeline:xH,preprocess:TH,promise:OH,record:mH,set:bH,strictObject:lH,string:eA,symbol:tH,transformer:xT,tuple:hH,undefined:rH,union:dH,unknown:oH,void:aH,NEVER:kH,ZodIssueCode:ee,quotelessJson:IV,ZodError:kn}),LH=Mn.object({serverUrl:Mn.string()}),RH=LH.parse({serverUrl:"https://io.superviz.com"}),AT=_t(Z_()),NH=class{constructor(t){this.socket=t,this.onConnect=()=>{this.logger.log("connection @ on connect","Connected to the socket"),this.changeState("CONNECTED")},this.onDisconnect=r=>{this.logger.log("connection @ on disconnect","Disconnected from the socket"),this.changeState("DISCONNECTED",r)},this.onConnectError=r=>{this.logger.log("connection @ on connect error","Connection error",r),this.changeState("CONNECTION_ERROR",r.message)},this.onConnectionError=r=>{this.logger.log("connection @ on connection error","Connection error",r),this.changeState("CONNECTION_ERROR",r.message)},this.onReconnect=()=>{this.logger.log("connection @ on reconnect","Reconnected to the socket"),this.changeState("CONNECTED")},this.onReconnectError=r=>{this.logger.log("connection @ on reconnect error","Reconnect error",r),this.changeState("RECONNECT_ERROR",r.message)},this.onReconnectFailed=()=>{this.logger.log("connection @ on reconnect failed","Failed to reconnect to the socket"),this.changeState("RECONNECT_ERROR")},this.onReconnecAttempt=r=>{this.logger.log("connection @ on reconnect attempt",`Reconnect attempt #${r}`),this.changeState("RECONNECTING",`Reconnect attempt #${r}`)},this.onCustomError=r=>{r.needsToDisconnect&&(this.socket.disconnect(),this.changeState("DISCONNECTED",r.errorType));let e=`[SuperViz] 
    - Error: ${r.errorType}
    - Message: ${r.message}
    `;if(r.level==="error"){console.error(e);return}console.warn(e)},this.logger=new Y_("@superviz/socket-client/connection"),this.subscribeToManagerEvents(),this.stateObserver=new AT.Subject}on(t,r){this.stateObserver.closed&&(this.stateObserver=new AT.Subject),this.stateObserver.subscribe({next:t,error:r})}off(){this.stateObserver.closed||this.stateObserver.unsubscribe()}subscribeToManagerEvents(){this.socket.on("connect",this.onConnect),this.socket.on("disconnect",this.onDisconnect),this.socket.on("connect_error",this.onConnectError),this.socket.io.on("error",this.onConnectionError),this.socket.io.on("reconnect",this.onReconnect),this.socket.io.on("reconnect_attempt",this.onReconnecAttempt),this.socket.io.on("reconnect_error",this.onReconnectError),this.socket.io.on("reconnect_failed",this.onReconnectFailed),this.socket.on("socket-event.error",this.onCustomError)}changeState(t,r){this.state=t,!this.stateObserver.closed&&this.stateObserver.next({state:t,reason:r})}},CT=_t(Z_()),FH=class nA{constructor(r,e,n,i,o=100){this.io=r,this.user=e,this.roomId=n,this.apiKey=i,this.maxConnections=o,this.isJoined=!1,this.subscriptions=new Map,this.observers=new Map,this.onJoinedRoom=a=>{var c;this.roomId===((c=a==null?void 0:a.data)==null?void 0:c.name)&&(this.isJoined=!0,this.io.emit("room.joined",this.roomId,a.data),this.logger.log("room @ joined",a))},this.onHttpEvent=a=>{this.publishEventToClient(a.name,a)},this.logger=new Y_("@superviz/socket-client/room");let s={name:n,user:e,maxConnections:o};this.presence=Oz.register(r,e,n),this.io.emit("room.join",s),this.subscribeToRoomEvents()}static register(r,e,n,i,o){return new nA(r,e,n,i,o)}on(r,e){this.logger.log("room @ on",r);let n=this.observers.get(r);n||(n=new CT.Subject,this.observers.set(r,n),this.io.on(r,i=>{this.publishEventToClient(r,i)})),this.subscriptions.set(e,n.subscribe(e))}off(r,e){var n;if(this.logger.log("room @ off",r),!e){this.observers.delete(r),this.io.off(r);return}(n=this.subscriptions.get(e))==null||n.unsubscribe()}emit(r,e){if(!this.isJoined){this.logger.log("Cannot emit event. Not joined to room");return}let n={name:r,roomId:this.roomId,presence:this.user,connectionId:this.io.id,data:e,timestamp:Date.now()};this.io.emit("room.update",this.roomId,n),this.logger.log("room @ emit",r,e)}history(r,e){let n=new CT.Subject;n.subscribe({next:r,error:e});let i=o=>{this.logger.log("room @ history",o),this.io.off("room.get",i),n.next(o),n.complete(),n.unsubscribe()};this.io.on("room.get",i),this.io.emit("room.get",this.roomId)}disconnect(){this.logger.log("room @ disconnect","Leaving room...",this.roomId),this.io.emit("room.leave",this.roomId),this.subscriptions.forEach(r=>r.unsubscribe()),this.subscriptions.clear(),this.observers.forEach(r=>r.unsubscribe()),this.observers.clear(),this.presence.destroy()}publishEventToClient(r,e){let n=this.observers.get(r);!n||e.roomId!==this.roomId||n.next(e)}subscribeToRoomEvents(){this.io.on("room.joined",this.onJoinedRoom),this.io.on("room.error",r=>{this.logger.log("Error:",r.data)}),this.io.on(`http:${this.roomId}:${this.apiKey}`,this.onHttpEvent)}},iA=class{constructor(t,r,e,n,i){this.apiKey=t,this.environment=r,this.presence=e,this.secret=n,this.clientId=i,this.manager=new ff(RH.serverUrl,{addTrailingSlash:!1,secure:!0,withCredentials:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5,extraHeaders:{"sv-api-key":this.apiKey}});let o;typeof window<"u"&&(o=window.location.origin),this.socket=this.manager.socket(`/${r}`,{auth:{apiKey:this.apiKey,origin:o,envirioment:this.environment,secret:this.secret,clientId:this.clientId}}),this.connection=new NH(this.socket)}get state(){return this.connection.state}connect(t,r){return FH.register(this.socket,this.presence,t,this.apiKey,r)}destroy(){this.socket.disconnect(),this.connection.off()}},Bue=Mn.object({name:Mn.string(),user:Mn.object({id:Mn.string(),name:Mn.string().nullable()}),maxConnections:Mn.union([Mn.number(),Mn.literal("unlimited"),Mn.undefined()])});var GI=wr(fs());Rr();$t();Ds();An();v();var Bl=class{constructor(){this.observers=new Map;this.subscribe=(r,e)=>{this.logger.log("event bus service @ subscribe",{event:r,callback:e}),this.observers.has(r)||this.observers.set(r,new tt),this.observers.get(r).subscribe(e)};this.unsubscribe=(r,e)=>{this.logger.log("event bus service @ unsubscribe",{event:r,callback:e}),this.observers.has(r)&&(this.observers.get(r).reset(),this.observers.delete(r))};this.publish=(r,e)=>{this.logger.log("event bus service @ publish",{event:r,data:e}),this.observers.has(r)&&this.observers.get(r).publish(e)};this.destroy=()=>{this.logger.log("event bus service @ destroy"),this.observers.forEach(r=>{r.reset(),r.destroy()}),this.observers.clear()};this.logger=new He("@superviz/sdk/event-bus"),this.logger.log("event bus created")}};v();var zI=wr(Kv());An();v();var tb=class{constructor(r){this.participant=r;this.stateSubject=new zI.Subject;this.handleConnectionState=r=>{if(r.reason==="Unauthorized connection"){console.error("[Superviz] Unauthorized connection. Please check your API key and if your domain is white listed."),this.state={state:J_.DISCONNECTED,reason:"Unauthorized connection"},this.stateSubject.next("AUTH_ERROR");return}if(r.reason==="user-already-in-room"){this.state=r,this.stateSubject.next("SAME_ACCOUNT_ERROR");return}this.state=r,this.stateSubject.next(r.state)};this.createClient()}destroy(){this.stateSubject.complete(),this.client.destroy()}subscribeToDefaultEvents(){this.client.connection.on(this.handleConnectionState)}createClient(){let r=me.get("environment");r=["dev","prod"].includes(r)?r:"dev",this.client=new iA(me.get("apiKey"),r,{id:this.participant.id,name:this.participant.name}),this.subscribeToDefaultEvents()}createRoom(r,e=50){let n=me.get("roomId");return this.client.connect(`${n}:${r}`,e)}};v();v();var xw=(a=>(a.comments="presence",a.presence3dMatterport="presence",a.presence3dAutodesk="presence",a.presence3dThreejs="presence",a.whoIsOnline="presence",a.formElements="presence",a.yjsProvider="presence",a))(xw||{});An();var Bu=class{static checkComponentLimit(r){let e=me.get("limits"),n=xw[r]??r;return(e==null?void 0:e[n])??{canUse:!1,maxParticipants:50}}};v();var VI=wr(fs());$t();v();var Mie=1e3,rb=class{constructor(r,e){this.participants3DObservers=[];this.initializeParticipantsList=()=>{this.room.presence.get(r=>{r.forEach(e=>{this.unthrottledUpdatePresence3D(e.data)})})};this.onLocalParticipantJoined=r=>{var n;if(!r.slot||((n=r.slot)==null?void 0:n.index)===null){setTimeout(()=>{this.onLocalParticipantJoined(this.localParticipant)},2e3);return}if(!this.room.isJoined){setTimeout(()=>{this.onLocalParticipantJoined(r)},2e3);return}let{hasJoined3D:e}=this.useStore("presence-3d-store");e.publish(!0),this.room.emit("participant-joined",r),this.room.presence.update(r),this.initializeParticipantsList()};this.subscribeToRoomEvents=()=>{this.room.on("participant-joined",this.onJoinedRoom),this.room.presence.on(ge.LEAVE,this.onLeaveRoom),this.room.presence.on(ge.UPDATE,this.onParticipantUpdate),this.room.presence.on(ge.JOINED_ROOM,this.onJoinedPresence)};this.unsubscribeFromRoomEvents=()=>{this.room.off("participant-joined",this.onJoinedRoom),this.room.presence.off(ge.LEAVE),this.room.presence.off(ge.UPDATE),this.room.presence.off(ge.JOINED_ROOM)};this.onJoinedRoom=r=>{let{participants:e}=this.useStore("presence-3d-store"),n=e.value.find(i=>i.id===r.data.id);e.publish([...e.value.filter(i=>i.id!==r.data.id),{...n,...r.data}])};this.onLeaveRoom=r=>{if(r.id===this.localParticipant.id){this.unsubscribeFromRoomEvents(),this.useStore("presence-3d-store").destroy();return}let{participants:e}=this.useStore("presence-3d-store"),n=e.value.filter(i=>i.id!==r.id);e.publish(n)};this.unthrottledUpdatePresence3D=r=>{if(!(r!=null&&r.id))return;let{participants:e,hasJoined3D:n}=this.useStore("presence-3d-store"),i={...e.value.find(o=>o.id===r.id),...r};e.publish([...e.value.filter(o=>o.id!==r.id),i]),!(!n.value||i.id!==this.localParticipant.id)&&this.room.presence.update(i)};this.onJoinedPresence=r=>{r.id===this.localParticipant.id&&(this.logger.log("participant joined 3D room",r.id,this.localParticipant),this.onLocalParticipantJoined(this.localParticipant))};this.updatePresence3D=(0,VI.throttle)(r=>{this.unthrottledUpdatePresence3D(r)},Mie);this.onParticipantUpdate=r=>{if(r.id===this.localParticipant.id)return;let{participants:e}=this.useStore("presence-3d-store"),n={...e.value.filter(o=>o.id===r.id)[0],...r.data},i=e.value.map(o=>o.id===r.id?n:o);e.publish(i),this.participants3DObservers[r.id]&&this.participants3DObservers[r.id].publish(n)};this.setParticipantData=r=>{this.updatePresence3D(r)};this.room=r,this.logger=new He("@superviz/sdk/presence3D-manager"),this.useStore=e,this.subscribeToRoomEvents();let{localParticipant:n}=this.useStore("global-store");n.subscribe(i=>{this.room.presence.update(i);let{participants:o}=this.useStore("presence-3d-store"),s={...o.value.find(a=>a.id===i.id),...i};o.publish([...o.value.filter(a=>a.id!==i.id),s]),this.localParticipant=s})}subscribeToUpdates(r,e){this.participants3DObservers[r]||(this.participants3DObservers[r]=new tt({logger:this.logger})),this.participants3DObservers[r].subscribe(e)}unsubscribeFromUpdates(r,e){this.participants3DObservers[r]&&this.participants3DObservers[r].unsubscribe(e)}get getParticipants(){return this.useStore("presence-3d-store").participants.value}};v();Wu();v();var qs=(n=>(n.HOST="host",n.GUEST="guest",n.AUDIENCE="audience",n))(qs||{});$t();Ds();var nb=class{constructor(r,e){this.room=r;this.useStore=e;this.isAssigningSlot=!1;this.slot={index:null,color:Xt.gray,textColor:"#fff",colorName:"gray",timestamp:Date.now()};this.onPresenceUpdate=async r=>{var n,i,o;let{localParticipant:e}=this.useStore("global-store");if(r.id===e.value.id){let s=await this.validateSlotType(r.data);e.publish({...e.value,slot:s});return}if(!(((n=r.data.slot)==null?void 0:n.index)===null||this.slot.index===null)&&((i=r.data.slot)==null?void 0:i.index)===((o=this.slot)==null?void 0:o.index)){let s=await this.assignSlot();e.publish({...e.value,slot:s}),console.debug(`[SuperViz] - Slot reassigned to ${e.value.id}, slot: ${s.colorName}`)}};this.participantNeedsSlot=r=>{var s;let n=["formElements","whoIsOnline","presence","presence3dAutodesk","presence3dMatterport","presence3dThreejs","yjsProvider"].some(a=>{var c;return(c=r==null?void 0:r.activeComponents)==null?void 0:c.includes(a)}),i=((s=r==null?void 0:r.activeComponents)==null?void 0:s.includes("videoConference"))&&r.type!=="audience";return n||i};this.validateSlotType=async r=>{var n,i;if(this.isAssigningSlot)return this.slot;let e=this.participantNeedsSlot(r);if(((n=r.slot)==null?void 0:n.index)===null&&e){let o=await this.assignSlot();this.slot=o}return((i=r.slot)==null?void 0:i.index)!==null&&!e&&this.setDefaultSlot(),this.slot};this.room=r,this.room.presence.on(ge.UPDATE,this.onPresenceUpdate)}async assignSlot(){if(this.isAssigningSlot)return this.slot;this.isAssigningSlot=!0;let r=Array.from({length:50},(o,s)=>s),e=Math.floor(Math.random()*50),{localParticipant:n,participants:i}=Lt("global-store");try{await new Promise((c,l)=>{this.room.presence.get(p=>{if((!p||!p.length)&&c(!0),p.length>=50){r=[],l(new Error("[SuperViz] - No more slots available"));return}p.forEach(h=>{h.id!==n.value.id&&(r=r.filter(f=>{var b,g;return f!==((g=(b=h.data)==null?void 0:b.slot)==null?void 0:g.index)}))}),c(!0)})}),!r.includes(e)&&(e=r.shift());let s=Object.keys(Xt)[e],a={index:e,color:Xt[s],textColor:HI.includes(s)?"#fff":"#000",colorName:s,timestamp:Date.now()};return this.slot=a,n.publish({...n.value,slot:a}),i.publish({...i.value,[n.value.id]:{...i.value[n.value.id],slot:a}}),this.room.presence.update({slot:a}),this.isAssigningSlot=!1,a}catch(o){return console.error(o),null}}setDefaultSlot(){let{localParticipant:r,participants:e}=Lt("global-store"),n={index:null,color:Xt.gray,textColor:"#fff",colorName:"gray",timestamp:Date.now()};this.slot=n,r.publish({...r.value,slot:n}),e.publish({...e.value,[r.value.id]:{...e.value[r.value.id],slot:n}}),this.room.presence.update({slot:n})}};v();Ew();var Aw=class extends Mi{constructor({participant:e,group:n}){super();this.isDestroyed=!1;this.activeComponents=[];this.componentsToAttachAfterJoin=[];this.activeComponentsInstances=[];this.eventBus=new Bl;this.useStore=Lt.bind(this);this.addComponent=async e=>{if(!this.canAddComponent(e))return;let{hasJoinedRoom:n,group:i,localParticipant:o}=Lt("global-store");if(!n.value){this.logger.log("launcher service @ addComponent - not joined yet"),this.componentsToAttachAfterJoin.push(e);return}let s=Bu.checkComponentLimit(e.name);e.attach({ioc:this.ioc,config:me.configuration,eventBus:this.eventBus,useStore:Lt,Presence3DManagerService:rb,connectionLimit:s.maxParticipants}),this.activeComponents.push(e.name),this.activeComponentsInstances.some(a=>a.name===e.name)?this.activeComponentsInstances=this.activeComponentsInstances.map(a=>a.name===e.name?e:a):this.activeComponentsInstances.push(e),o.publish({...o.value,activeComponents:this.activeComponents}),this.room.presence.update({...o.value,slot:this.slotService.slot,activeComponents:this.activeComponents}),Ot.sendActivity(this.participant.id,i.value.id,i.value.name,e.name)};this.attachComponentsAfterJoin=()=>{this.logger.log("launcher service @ attachComponentsAfterJoin"),this.componentsToAttachAfterJoin.forEach(e=>{this.logger.log("launcher service @ attachComponentsAfterJoin - attaching component",e.name),this.addComponent(e)}),this.componentsToAttachAfterJoin=[]};this.removeComponent=e=>{if(!this.activeComponents.includes(e.name)){let n=`[SuperViz] Component ${e.name} is not initialized yet.`;this.logger.log(n),console.error(n);return}e.detach(),this.activeComponentsInstances=this.activeComponentsInstances.filter(n=>n.name!==e.name),this.activeComponents.splice(this.activeComponents.indexOf(e.name),1),this.room.presence.update({...this.participant,activeComponents:this.activeComponents})};this.destroy=()=>{var e,n,i,o,s,a;this.logger.log("launcher service @ destroy"),this.activeComponentsInstances.forEach(c=>{this.logger.log("launcher service @ destroy - removing component",c.name),this.removeComponent(c)}),this.activeComponents=[],this.activeComponentsInstances=[],(e=js())==null||e.destroy(),(n=this.eventBus)==null||n.destroy(),this.eventBus=void 0,(i=this.room)==null||i.presence.off(ge.JOINED_ROOM),(o=this.room)==null||o.presence.off(ge.LEAVE),(s=this.room)==null||s.presence.off(ge.UPDATE),(a=this.ioc)==null||a.destroy(),this.isDestroyed=!0,typeof window<"u"&&(window.SUPERVIZ=void 0)};this.canAddComponent=e=>{var a;let n=me.get(`features.${e.name}`),i=Bu.checkComponentLimit(e.name),o=(a=this.activeComponents)==null?void 0:a.includes(e.name),s=[{isValid:n,message:`[SuperViz] Component ${e.name} is not enabled in the room`},{isValid:!this.isDestroyed,message:"[SuperViz] Component can not be added because the superviz room is destroyed. Initialize a new room to add and use components."},{isValid:!o,message:`[SuperViz] Component ${e.name} is already active. Please remove it first`},{isValid:i.canUse,message:`[SuperViz] You reached the limit usage of ${e.name}`}];for(let c=0;c<s.length;c++){let{isValid:l,message:p}=s[c];if(!l)return this.logger.log(p),console.error(p),!1}return!0};this.onAuthentication=e=>{e||(this.destroy(),console.error("[SuperViz] Room cannot be initialized because this website's domain is not whitelisted. If you are the developer, please add your domain in https://dashboard.superviz.com/developer"))};this.onLocalParticipantUpdateOnStore=e=>{this.participant=e,this.activeComponents=e.activeComponents||[]};this.onLocalParticipantUpdateOnCore=e=>{this.room&&this.room.presence.update(e)};this.onParticipantsListUpdateOnCore=e=>{let{participants:n}=this.useStore("global-store");n.publish(e)};this.onSameAccount=()=>{this.publish("participant.same-account-error"),this.destroy()};this.startIOC=()=>{this.logger.log("launcher service @ startIOC");let{participants:e}=Lt("global-store");this.ioc.stateSubject.subscribe(this.onConnectionStateChange),this.room.presence.get(n=>{let i={};n.forEach(o=>{i[o.id]={...o.data,name:o.name,id:o.id,timestamp:o.timestamp}}),i[this.participant.id]={...i[this.participant.id],...this.participant},e.publish(i)}),this.room.presence.on(ge.JOINED_ROOM,this.onParticipantJoinedIOC),this.room.presence.on(ge.LEAVE,this.onParticipantLeaveIOC),this.room.presence.on(ge.UPDATE,this.onParticipantUpdatedIOC)};this.onConnectionStateChange=e=>{if(e==="AUTH_ERROR"){this.onAuthentication(!1);return}e==="SAME_ACCOUNT_ERROR"&&this.onSameAccount()};this.onParticipantJoinedIOC=async e=>{if(e.id!==this.participant.id)return;this.room.presence.update(this.participant),this.logger.log("launcher service @ onParticipantJoined - local participant joined");let{hasJoinedRoom:n}=Lt("global-store");n.publish(!0),this.attachComponentsAfterJoin(),this.publish("participant.local-joined",this.participant),this.publish("participant.joined",this.participant)};this.onParticipantLeaveIOC=e=>{let{participants:n,localParticipant:i}=Lt("global-store"),o={...n.value};delete o[e.id],n.publish(o),e.id===i.value.id&&(this.logger.log("launcher service @ onParticipantLeave - local participant left"),this.publish("participant.local-left",e.data)),this.logger.log("launcher service @ onParticipantLeave - participant left",e.data),this.publish("participant.left",e.data),this.publish("participant.list-updated",Object.values(o))};this.onParticipantUpdatedIOC=e=>{let{localParticipant:n}=Lt("global-store");if(n.value&&e.id===n.value.id){let c={...n.value,...e.data};n.publish({...c,timestamp:e.timestamp}),this.publish("participant.updated",c),this.logger.log("Publishing ParticipantEvent.UPDATED",e.data)}let{participants:i}=Lt("global-store"),o={id:e.id,name:e.name,timestamp:e.timestamp,...e.data};i.value[e.id]||this.publish("participant.joined",o);let s=Object.assign({},i.value);if(s[e.id]=o,(0,GI.isEqual)(s,i.value))return;i.publish(s);let a=Object.values(i.value);this.logger.log("Publishing ParticipantEvent.LIST_UPDATED",i.value),this.publish("participant.list-updated",a)};this.logger=new He("@superviz/sdk/launcher");let{localParticipant:i,group:o,isDomainWhitelisted:s}=this.useStore("global-store"),{localParticipant:a,participants:c}=this.useStore("core-store");i.publish({...e}),s.subscribe(this.onAuthentication),i.subscribe(this.onLocalParticipantUpdateOnStore),a.subscribe(this.onLocalParticipantUpdateOnCore),c.subscribe(this.onParticipantsListUpdateOnCore),o.publish(n),this.ioc=new tb(i.value),this.room=this.ioc.createRoom("launcher","unlimited"),this.slotService=new nb(this.room,this.useStore),i.publish({...i.value,slot:this.slotService.slot,activeComponents:[]}),this.participant=i.value,this.eventBus=new Bl,this.logger.log("launcher created"),this.startIOC()}},ZI=t=>{if(typeof window<"u"&&window.SUPERVIZ)return console.warn("[SUPERVIZ] Room already initialized"),{destroy:window.SUPERVIZ.destroy,subscribe:window.SUPERVIZ.subscribe,unsubscribe:window.SUPERVIZ.unsubscribe,addComponent:window.SUPERVIZ.addComponent,removeComponent:window.SUPERVIZ.removeComponent};let r=new Aw(t);return typeof window<"u"&&(window.SUPERVIZ=r),{destroy:r.destroy,subscribe:r.subscribe,unsubscribe:r.unsubscribe,addComponent:r.addComponent,removeComponent:r.removeComponent}};function JI(t){let r=/^.{2,64}$/,e=/^[-_&@+=,(){}\[\]\/.:|'"#a-zA-Z0-9-\s]*$/;return!(!r.test(t)||!e.test(t))}function Iie(t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)}var kie=({group:t,participant:r,roomId:e,customColors:n})=>{if(n&&Lie(n),!t||!t.name||!t.id)throw new Error("[SuperViz] Group fields is required");if(!r||!r.id)throw new Error("[SuperViz] Participant id is required");if(!e)throw new Error("[SuperViz] Room id is required");if(!JI(e))throw new Error(`[SuperViz] Room id is invalid, it should be between 2 and 64 characters and only accept letters, numbers and special characters: -_&@+=,(){}[]/\xAB\xBB.:|'"`);if(!JI(r.id))throw new Error(`[SuperViz] Participant id is invalid, it should be between 2 and 64 characters and only accept letters, numbers and special characters: -_&@+=,(){}[]/\xAB\xBB.:|'"`);if(r.email&&!Iie(r.email))throw new Error("[SuperViz] Participant email is invalid")},Lie=t=>{Object.entries(t).forEach(([r,e])=>{if(!Object.values(s_).includes(r))throw new Error(`[SuperViz] Color ${r} is not a valid color variable name. Please check the documentation for more information.`);if(!/^(\d{1,3}\s){2}\d{1,3}$/.test(e))throw new Error(`[SuperViz] Color ${r} is not a valid color variable value. Please check the documentation for more information.`)})},Rie=t=>{t&&Object.entries(t).forEach(([r,e])=>{let n=e.replace(/\s/g,", ");document.documentElement.style.setProperty(`--${r}`,n)})},Nie=async(t,r)=>{var b;if(!(t&&t.trim()))throw new Error("API key is required");if(!r)throw new Error("Options is required");kie(r),r.debug?Cw.debug.enable("*"):Cw.debug.disable();let[{apiUrl:n,conferenceLayerUrl:i},o]=await Promise.all([hs.getRemoteConfig(r.environment),hs.getFeatures(t)]);if(!await cT(n,t))throw new Error("Failed to validate API key");let[a,c]=await Promise.all([Ot.fetchWaterMark(n,t),Ot.fetchLimits(n,t)]).catch(()=>{throw new Error("[SuperViz] Failed to load configuration from server")}),{participant:l,roomId:p,customColors:h}=r;me.setConfig({apiUrl:n,apiKey:t,conferenceLayerUrl:i,environment:r.environment??"prod",roomId:p,debug:r.debug,limits:c,waterMark:a,colors:h,features:o}),Rie(h);let f=await Ot.fetchParticipant(l.id).catch(()=>null);if(!f&&!l.name)throw new Error("[SuperViz] - Participant does not exist, create the user in the API or add the name in the initialization to initialize the SuperViz room.");return f||await Ot.createParticipant({participantId:l.id,name:l==null?void 0:l.name,avatar:(b=l.avatar)==null?void 0:b.imageUrl,email:l==null?void 0:l.email}),ZI({...r,participant:{id:l.id,name:l.name??(f==null?void 0:f.name),avatar:l.avatar??(f==null?void 0:f.avatar),email:l.email??(f==null?void 0:f.email)}})},Mw=Nie;v();typeof window<"u"&&typeof HTMLElement<"u"&&(Promise.resolve().then(()=>Dk()),Promise.resolve().then(()=>zk()),Promise.resolve().then(()=>Yk()),Promise.resolve().then(()=>rL()),Promise.resolve().then(()=>gL()),Promise.resolve().then(()=>_L()),Promise.resolve().then(()=>CL()),Promise.resolve().then(()=>VR()),Promise.resolve().then(()=>XR()),Promise.resolve().then(()=>tN()),Promise.resolve().then(()=>iN()),Promise.resolve().then(()=>aN()),Promise.resolve().then(()=>lN()),Promise.resolve().then(()=>fN()),Promise.resolve().then(()=>vN()),Promise.resolve().then(()=>yN()),Promise.resolve().then(()=>IN()),Promise.resolve().then(()=>(LN(),kN)));v();v();function RN(t){if(typeof document<"u"){let r=document.createElement("style");r.id="superviz-style";let e=document.createTextNode(t);r.appendChild(e),document.head.appendChild(r)}}var NN=`@import"https://unpkg.com/@superviz/sv-icons@0.8.13/css/style.css";@import"https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap";:root{--sv-primary: 98, 16, 204}html,body{width:100%;height:100%;overflow:hidden}#sv-video-wrapper iframe{position:fixed;border:none;margin:0;padding:0;overflow:hidden;z-index:1000}#sv-video-wrapper iframe.sv-video-frame--right{top:var(--superviz-offset-top);right:var(--superviz-offset-right)}#sv-video-wrapper iframe.sv-video-frame--left{top:var(--superviz-offset-top);left:var(--superviz-offset-left)}#sv-video-wrapper iframe.sv-video-frame--bottom{bottom:var(--superviz-offset-bottom);right:var(--superviz-offset-right);width:100%}#sv-video-wrapper iframe.sv-video-frame--top{top:var(--superviz-offset-top);right:var(--superviz-offset-right);width:100%}#sv-video-wrapper iframe.sv-video-frame--no-overlay{display:none}.pointer-mouse{display:flex;height:15px;width:16px;background-image:url(https://production.cdn.superviz.com/static/pointers/0.svg);background-repeat:no-repeat}.mouse-user-name{display:block;position:absolute;border-radius:30px;padding:2px 8px;font-weight:700;font-size:14px;font-family:Roboto,sans-serif;line-height:22px;margin-left:10px;margin-top:-6px;background:#ff0;white-space:nowrap}.mouse-follower{position:absolute;display:block;z-index:2}
`;RN(NN);Rr();v();var cc=(n=>(n.RIGHT="right",n.CENTER="center",n.LEFT="left",n))(cc||{}),Nd=(e=>(e.GRID="grid",e.LIST="list",e))(Nd||{}),Fd=(i=>(i.RIGHT="right",i.LEFT="left",i.TOP="top",i.BOTTOM="bottom",i))(Fd||{});v();var jd=(e=>(e.STARTED="STARTED",e.STOPPED="STOPPED",e))(jd||{});var Dd=(r=>(r.REALTIME_STATE_CHANGED="realtime-component.state-changed",r))(Dd||{});$t();v();var qd=(i=>(i.BLUR="field.blur",i.FOCUS="field.focus",i.CONTENT_CHANGE="field.content-change",i.INTERACTION="field.interaction",i))(qd||{});qn();v();v();Rr();$t();An();v();Rr();$t();Ds();An();var vr=class extends Mi{constructor(){super(...arguments);this.isAttached=!1;this.unsubscribeFrom=[];this.useStore=Lt.bind(this);this.attach=e=>{if(Object.values(e).includes(null)||Object.values(e).includes(void 0)){let c=`${this.name} @ attach - params are required`;throw this.logger.log(c),new Error(c)}let{config:n,eventBus:i,ioc:o}=e,{isDomainWhitelisted:s,hasJoinedRoom:a}=this.useStore("global-store");if(!s.value){let c=`Component ${this.name} can't be used because this website's domain is not whitelisted. Please add your domain in https://dashboard.superviz.com/developer`;this.logger.log(c);return}if(me.setConfig(n),this.eventBus=i,this.isAttached=!0,this.ioc=o,this.connectionLimit=e.connectionLimit??50,this.room=o.createRoom(this.name,this.connectionLimit),!a.value){this.logger.log(`${this.name} @ attach - not joined yet`),setTimeout(()=>{this.logger.log(`${this.name} @ attach - retrying`),this.attach(e)},1e3);return}this.logger.log(`${this.name} @ attached`),this.observers={},this.start(),this.publish("mount")};this.detach=()=>{if(!this.isAttached){this.logger.log(`${this.name} @ detach - component is not attached`);return}this.logger.log("detached"),this.publish("unmount"),this.destroy(),this.room.disconnect(),this.room=void 0,this.unsubscribeFrom.forEach(e=>e(this)),Object.values(this.observers).forEach(e=>{e.reset(),e.destroy()}),this.observers=void 0,this.isAttached=!1}}};Qw();var lc=class extends vr{constructor(e,n){super();this.sidebarOpen=!1;this.layoutOptions={};this.openThreads=()=>{var e;this.sidebarOpen||((e=this.element)==null||e.setAttribute("open",""),this.sidebarOpen=!0,document.body.dispatchEvent(new CustomEvent("toggle-annotation-sidebar",{detail:{open:this.sidebarOpen},composed:!0,bubbles:!0})))};this.closeThreads=()=>{var e;this.sidebarOpen&&((e=this.element)==null||e.removeAttribute("open"),this.sidebarOpen=!1,document.body.dispatchEvent(new CustomEvent("toggle-annotation-sidebar",{detail:{open:this.sidebarOpen},composed:!0,bubbles:!0})))};this.togglePinActive=()=>{if(this.pinActive){this.disable();return}this.enable()};this.onPinFixed=e=>{this.coordinates=e};this.toggleAnnotationSidebar=()=>{this.element.toggleAttribute("open"),this.sidebarOpen=this.element.hasAttribute("open"),document.body.dispatchEvent(new CustomEvent("prepare-to-create-annotation",{detail:void 0,composed:!0,bubbles:!0})),document.body.dispatchEvent(new CustomEvent("toggle-annotation-sidebar",{detail:{open:this.sidebarOpen},composed:!0,bubbles:!0}))};this.onSelectAnnotation=e=>{this.sidebarOpen||this.toggleAnnotationSidebar()};this.positionFloatingButton=()=>{var c,l;this.button=document.createElement("superviz-comments-button");let e=(c=this.layoutOptions)==null?void 0:c.buttonLocation,n=(l=this.layoutOptions)==null?void 0:l.position;if(!e){document.body.appendChild(this.button),this.button.commentsPosition=n;return}let i="",o=Object.values(Xw),s=!1,a=!o.includes(e.toLocaleLowerCase());if(a){let p=window.document.body.querySelector(`#${e}`);p?(p.appendChild(this.button),i="position: relative"):(s=!0,e="top-left")}if(!a||s){document.body.appendChild(this.button);let[p,h]=e.split("-");i=`${p}: 20px; ${h}: 20px;`}this.button.positionStyles=i,this.button.commentsPosition=n};this.positionComments=()=>{var i;this.element=document.createElement("superviz-comments"),this.element.setAttribute("comments",JSON.stringify([])),this.element.side="left",this.element.offset=this.offset,document.body.appendChild(this.element);let e=(i=this.layoutOptions)==null?void 0:i.position;if(!e)return;let n=e.toUpperCase();Kl[n]&&(this.element.side=Kl[n])};this.createAnnotation=async({detail:e})=>{try{let{text:n,mentions:i}=e,o={...this.coordinates},s=await Ot.createAnnotations(me.get("apiUrl"),me.get("apiKey"),{roomId:me.get("roomId"),position:JSON.stringify(o),userId:this.localParticipantId}),a=await this.createComment(s.uuid,n,i);this.addAnnotation({...s,comments:[a]}),this.pinAdapter.removeAnnotationPin("temporary-pin"),document.body.dispatchEvent(new CustomEvent("select-annotation",{detail:{uuid:s.uuid,haltGoToPin:!0,newPin:!0},composed:!0,bubbles:!0}))}catch(n){this.logger.log("error when creating annotation",n)}};this.deleteAnnotation=async({detail:e})=>{try{let{uuid:n}=e;await Ot.deleteAnnotation(me.get("apiUrl"),me.get("apiKey"),n);let i=this.annotations.filter(o=>o.uuid!==n);this.updateAnnotationList(i),this.pinAdapter.removeAnnotationPin(n),this.element.updateAnnotations(this.annotations)}catch(n){this.logger.log("error when deleting annotation",n)}};this.updateComment=async({detail:e})=>{try{let{uuid:n,text:i,mentions:o}=e,s=await Ot.updateComment(me.get("apiUrl"),me.get("apiKey"),n,i);await Ot.createMentions({commentsId:s.uuid,participants:o.map(c=>({id:c.userId}))});let a=this.annotations.map(c=>Object.assign({},c,{comments:c.comments.map(l=>l.uuid===n?Object.assign({},l,{text:i,mentions:o}):l)}));this.updateAnnotationList(a)}catch(n){this.logger.log("error when updating comment",n)}};this.resolveAnnotation=async({detail:e})=>{try{let{uuid:n}=e,{resolved:i}=await Ot.resolveAnnotation(me.get("apiUrl"),me.get("apiKey"),n),o=this.annotations.map(s=>s.uuid===n?Object.assign({},s,{resolved:i}):s);if(this.updateAnnotationList(o),i){this.pinAdapter.removeAnnotationPin(n);return}this.pinAdapter.updateAnnotations(this.annotations)}catch(n){this.logger.log("error when resolve annotation",n)}};this.deleteComment=async({detail:e})=>{try{let{uuid:n,annotationId:i}=e;if(!n||!i)return;await Ot.deleteComment(me.get("apiUrl"),me.get("apiKey"),n);let o=this.annotations.find(a=>a.uuid===i);o.comments=o.comments.filter(a=>a.uuid!==n);let s=this.annotations.map(a=>a.uuid===i?o:a);this.element.updateAnnotations(s),this.updateAnnotationList(s)}catch(n){this.logger.log("error when deleting comment",n)}};this.onAnnotationListUpdate=e=>{let{data:n,clientId:i}=e;this.localParticipantId!==i&&(this.annotations=n,this.element.updateAnnotations(this.annotations),this.pinAdapter.updateAnnotations(this.annotations))};this.name="comments",this.logger=new He("@superviz/sdk/comments-component"),this.annotations=[],this.layoutOptions={buttonLocation:(n==null?void 0:n.buttonLocation)??"top-left",position:(n==null?void 0:n.position)??"left"},this.hideDefaultButton=(n==null?void 0:n.hideDefaultButton)??!1,this.setStyles(n==null?void 0:n.styles),this.offset=n==null?void 0:n.offset,setTimeout(()=>{var s;e.setCommentsMetadata(((s=this.layoutOptions)==null?void 0:s.position)??"left")}),this.pinAdapter=e;let{group:i,localParticipant:o}=this.useStore("global-store");i.subscribe(),o.subscribe(s=>{this.localParticipantId=s.id})}enable(){this.pinAdapter.setActive(!0),this.pinActive=!0,this.publish("pin-mode.active"),document.body.dispatchEvent(new CustomEvent("toggle-pin-active",{detail:{isActive:!0}}))}disable(){this.pinAdapter.setActive(!1),this.pinActive=!1,this.publish("pin-mode.inactive"),document.body.dispatchEvent(new CustomEvent("toggle-pin-active",{detail:{isActive:!1}}))}start(){typeof window>"u"||(this.clientUrl=window.location.href,this.positionComments(),this.hideDefaultButton||this.positionFloatingButton(),this.fetchAnnotations(),this.waterMarkState(),this.participantsList(),this.addListeners(),this.pinAdapter.setPinsVisibility(!0))}destroy(){var e;this.logger.log("comments component @ destroy"),this.destroyListeners(),(e=this.button)==null||e.remove(),this.element.remove(),this.element=void 0,this.pinAdapter.destroy()}addListeners(){var e;(e=this.button)==null||e.addEventListener("toggle",this.togglePinActive),this.element.addEventListener("close-threads",this.closeThreads),document.body.addEventListener("create-annotation",this.createAnnotation),this.element.addEventListener("resolve-annotation",this.resolveAnnotation),this.element.addEventListener("delete-annotation",this.deleteAnnotation),this.element.addEventListener("create-comment",({detail:n})=>{this.createComment(n.uuid,n.text,n.mentions,!0)}),this.element.addEventListener("update-comment",this.updateComment),this.element.addEventListener("delete-comment",this.deleteComment),document.body.addEventListener("select-annotation",this.onSelectAnnotation),this.room.on("update-comments",this.onAnnotationListUpdate),this.pinAdapter.onPinFixedObserver.subscribe(this.onPinFixed)}destroyListeners(){var e;(e=this.button)==null||e.removeEventListener("toggle",this.togglePinActive),this.element.removeEventListener("close-threads",this.closeThreads),this.element.removeEventListener("resolve-annotation",this.resolveAnnotation),this.element.removeEventListener("create-comment",({detail:n})=>{this.createComment(n.uuid,n.text,n.mentions,!0)}),this.element.removeEventListener("update-comment",this.updateComment),this.element.removeEventListener("delete-comment",this.deleteComment),document.body.removeEventListener("select-annotation",this.onSelectAnnotation),document.body.removeEventListener("create-annotation",this.createAnnotation),this.room.off("update-comments",this.onAnnotationListUpdate),this.pinAdapter.onPinFixedObserver.unsubscribe(this.onPinFixed)}setStyles(e=""){if(!e)return;let n=document.createElement("style");n.textContent=e,n.id="superviz-comments-styles",document.head.appendChild(n)}async createComment(e,n,i=[],o=!1){try{let s=await Ot.createComment(me.get("apiUrl"),me.get("apiKey"),{annotationId:e,userId:this.localParticipantId,text:n});return await Ot.createMentions({commentsId:s.uuid,participants:i.map(a=>({id:a.userId,readed:0}))}),s.mentions=i,o&&this.addComment(e,s),s}catch(s){this.logger.log("error when creating comment",s)}}addAnnotation(e){let n=[e,...this.annotations];this.element.updateAnnotations(n),this.pinAdapter.updateAnnotations(n),this.updateAnnotationList(n)}updateAnnotationList(e){this.annotations=e,this.room.emit("update-comments",e)}addComment(e,n){let i=this.annotations.find(s=>s.uuid===e);i.comments.push(n);let o=this.annotations.map(s=>s.uuid===e?i:s);this.updateAnnotationList(o),this.element.updateAnnotations(o)}async fetchAnnotations(){try{let e=await Ot.fetchAnnotation(me.get("apiUrl"),me.get("apiKey"),{roomId:me.get("roomId")});this.annotations=e,this.element.updateAnnotations(this.annotations),this.pinAdapter.updateAnnotations(this.annotations)}catch(e){this.logger.log("error when fetching annotations",e)}}async waterMarkState(){try{let e=await Ot.fetchWaterMark(me.get("apiUrl"),me.get("apiKey"));this.element.waterMarkStatus(e)}catch(e){this.logger.log("error when fetching waterMark",e)}}async participantsList(){try{let n=(await Ot.fetchParticipantsByGroup(this.group.id)).data;this.pinAdapter.participantsList=n,this.element.participantsList=n}catch(e){this.logger.log("error when fetching participantsList",e)}}};v();qn();var dc=class{constructor(r,e){this.isPinsVisible=!0;this.selectedPin=null;this.temporaryPinCoordinates=null;this.commentsSide="left";this.setCommentsMetadata=r=>{this.commentsSide=r};this.resetPins=r=>{r&&(r==null?void 0:r.key)!=="Escape"||(this.resetSelectedPin(),this.removeAnnotationPin("temporary-pin"),this.temporaryPinCoordinates=null)};this.animate=()=>{(this.isActive||this.isPinsVisible)&&(this.renderAnnotationsPins(),this.divWrapper=this.renderDivWrapper()),this.temporaryPinCoordinates&&this.renderTemporaryPin(),this.animateFrame=requestAnimationFrame(this.animate)};this.setMouseDownCoordinates=({x:r,y:e})=>{this.mouseDownCoordinates={x:r,y:e}};this.annotationSelected=({detail:{uuid:r,haltGoToPin:e,newPin:n}})=>{var s;if(!r)return;n&&this.pins.get(r).setAttribute("newPin","");let i=JSON.parse(((s=this.selectedPin)==null?void 0:s.getAttribute("annotation"))??"{}");if(this.resetPins(),(i==null?void 0:i.uuid)===r)return;document.body.dispatchEvent(new CustomEvent("close-temporary-annotation"));let o=this.pins.get(r);o&&(o.setAttribute("active",""),this.selectedPin=o,!e&&this.goToPin(r))};this.onClick=r=>{if(!this.isActive)return;let e=this.canvas.getBoundingClientRect(),{x:n,y:i}=this.mouseDownCoordinates,o=n-e.x,s=i-e.y,a=r.clientX-e.left,c=r.clientY-e.top;if(Math.hypot(a-o,c-s)>10)return;let f=this.canvas.getContext("2d").getTransform().inverse(),b=new DOMPoint(a,c-31).matrixTransform(f);this.onPinFixedObserver.publish({x:b.x,y:b.y,type:"canvas"}),this.resetSelectedPin(),this.temporaryPinCoordinates={x:b.x,y:b.y},this.renderTemporaryPin();let g=document.getElementById("superviz-temporary-pin");this.movedTemporaryPin=!this.movedTemporaryPin,g.setAttribute("movedPosition",String(this.movedTemporaryPin)),!this.selectedPin&&document.body.dispatchEvent(new CustomEvent("unselect-annotation"))};this.onToggleAnnotationSidebar=({detail:r})=>{let{open:e}=r;e||(this.pins.forEach(n=>{n.removeAttribute("active")}),this.pins.has("temporary-pin")&&this.removeAnnotationPin("temporary-pin"))};this.hideTemporaryPin=r=>{var h;let e=r.target,n=e.contains(this.canvas),{x:i,y:o}=r,{left:s,top:a,right:c,bottom:l}=this.canvas.getBoundingClientRect(),p=i>s&&i<c&&o>a&&o<l;this.canvas.contains(e)||(h=this.pins.get("temporary-pin"))!=null&&h.contains(e)||n&&p||(this.removeAnnotationPin("temporary-pin"),this.temporaryPinCoordinates=null)};if(this.logger=new He("@superviz/sdk/comments-component/canvas-pin-adapter"),this.canvas=document.getElementById(r),this.isActive=!1,this.pins=new Map,this.goToPinCallback=e==null?void 0:e.onGoToPin,!this.canvas){let n=`Canvas with id ${r} not found`;throw this.logger.log(n),new Error(n)}this.canvasSides=this.canvas.getBoundingClientRect(),document.body.style.position="relative",this.onPinFixedObserver=new tt({logger:this.logger}),this.divWrapper=this.renderDivWrapper(),this.annotations=[],this.renderAnnotationsPins(),this.animateFrame=requestAnimationFrame(this.animate),document.body.addEventListener("select-annotation",this.annotationSelected),document.body.addEventListener("keyup",this.resetPins)}destroy(){this.isActive=!1,this.removeListeners(),this.removeAnnotationsPins(),this.pins=new Map,this.divWrapper.remove(),this.divWrapper=null,this.onPinFixedObserver.destroy(),this.onPinFixedObserver=null,this.canvas.style.cursor="default",this.annotations=[],cancelAnimationFrame(this.animateFrame),document.body.removeEventListener("select-annotation",this.annotationSelected),document.body.removeEventListener("keyup",this.resetPins)}setPinsVisibility(r){if(this.isPinsVisible=r,this.isPinsVisible){this.renderAnnotationsPins();return}this.removeAnnotationsPins()}setActive(r){if(this.isActive!==r){if(this.isActive=r,this.isActive){this.originalCanvasCursor=this.canvas.style.cursor,this.canvas.style.cursor='url("https://production.cdn.superviz.com/static/pin-html.png") 0 100, pointer',this.addListeners();return}this.resetPins(),this.removeListeners(),this.canvas.style.cursor=this.originalCanvasCursor}}updateAnnotations(r){this.logger.log("updateAnnotations",r),this.annotations=r,!(!this.isActive&&!this.isPinsVisible)&&(this.removeAnnotationsPins(),this.renderAnnotationsPins())}removeAnnotationPin(r){let e=this.pins.get(r);e&&(e.remove(),this.pins.delete(r),r!=="temporary-pin"&&(this.annotations=this.annotations.filter(n=>n.uuid!==r)))}renderTemporaryPin(){let r=document.getElementById("superviz-temporary-pin");r||(r=document.createElement("superviz-comments-annotation-pin"),r.id="superviz-temporary-pin",r.setAttribute("type","add"),r.setAttribute("showInput",""),r.setAttribute("containerSides",JSON.stringify(this.canvasSides)),r.setAttribute("commentsSide",this.commentsSide),r.setAttribute("position",JSON.stringify(this.temporaryPinCoordinates)),r.setAttribute("annotation",JSON.stringify({})),r.setAttribute("participantsList",JSON.stringify(this.participants)),r.setAttributeNode(document.createAttribute("active")),this.divWrapper.appendChild(r));let{x:e,y:n}=this.temporaryPinCoordinates,o=this.canvas.getContext("2d").getTransform(),s=o.e,a=o.f,c=o.a,l=o.d,p=e*c+s,h=n*l+a;r.setAttribute("position",JSON.stringify({x:p,y:h})),this.pins.set("temporary-pin",r)}addListeners(){this.canvas.addEventListener("click",this.onClick),this.canvas.addEventListener("mousedown",this.setMouseDownCoordinates),document.body.addEventListener("toggle-annotation-sidebar",this.onToggleAnnotationSidebar),document.body.addEventListener("click",this.hideTemporaryPin)}removeListeners(){this.canvas.removeEventListener("click",this.onClick),this.canvas.removeEventListener("mousedown",this.setMouseDownCoordinates),document.body.removeEventListener("toggle-annotation-sidebar",this.onToggleAnnotationSidebar),document.body.addEventListener("click",this.hideTemporaryPin)}resetSelectedPin(){this.selectedPin&&(this.selectedPin.removeAttribute("active"),this.selectedPin=null)}renderDivWrapper(){let r=this.canvas.getBoundingClientRect(),e=this.divWrapper;return e||(e=document.createElement("div"),e.id="superviz-canvas-wrapper",["","static"].includes(this.canvas.parentElement.style.position)&&(this.canvas.parentElement.style.position="relative")),e.style.position="absolute",e.style.top=`${this.canvas.offsetTop}px`,e.style.left=`${this.canvas.offsetLeft}px`,e.style.width=`${r.width}px`,e.style.height=`${r.height}px`,e.style.pointerEvents="none",e.style.overflow="hidden",document.getElementById("superviz-canvas-wrapper")||this.canvas.parentElement.appendChild(e),e}renderAnnotationsPins(){if((!this.annotations.length||this.canvas.style.display==="none")&&!this.pins.get("temporary-pin")){this.removeAnnotationsPins();return}this.annotations.forEach(r=>{if(r.resolved)return;let e=JSON.parse(r.position);if((e==null?void 0:e.type)!=="canvas")return;let{x:n,y:i}=e,s=this.canvas.getContext("2d").getTransform(),a=s.e,c=s.f,l=s.a,p=s.d,h=n*l+a,f=i*p+c;if(this.pins.has(r.uuid)){let g=this.pins.get(r.uuid);if(this.divWrapper.clientWidth>h&&this.divWrapper.clientHeight>f){g.setAttribute("style","opacity: 1"),this.pins.get(r.uuid).setAttribute("position",JSON.stringify({x:h,y:f}));return}g.setAttribute("style","opacity: 0");return}let b=document.createElement("superviz-comments-annotation-pin");b.setAttribute("type","show"),b.setAttribute("participantsList",JSON.stringify(this.participants)),b.setAttribute("annotation",JSON.stringify(r)),b.setAttribute("position",JSON.stringify({x:h,y:f})),b.id=r.uuid,this.divWrapper.appendChild(b),this.pins.set(r.uuid,b)})}removeAnnotationsPins(){this.pins.forEach(r=>{r.remove()}),this.pins.clear()}set participantsList(r){this.participants=r}goToPin(r){let e=this.annotations.find(b=>b.uuid===r);if(!e)return;let n=JSON.parse(e.position);if((n==null?void 0:n.type)!=="canvas")return;let i=this.canvas.getBoundingClientRect(),{width:o,height:s}=i,{x:a,y:c}=n,l=o/2,p=s/2,h=l-a,f=p-c;this.goToPinCallback&&this.goToPinCallback({x:h,y:f})}};v();var FN=wr(fs());qn();var pc=class{constructor(r,e={}){this.isPinsVisible=!0;this.selectedPin=null;this.dataAttribute="data-superviz-id";this.commentsSide="left";this.temporaryPinCoordinates={};this.elementsWithDataId={};this.divWrappers=new Map;this.voidElementsWrappers=new Map;this.VOID_ELEMENTS=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","svg","rect","ellipse"];this.animate=()=>{this.voidElementsWrappers&&(this.updatePinsPositions(),this.animateFrame=requestAnimationFrame(this.animate))};this.setCommentsMetadata=r=>{this.commentsSide=r};this.hideTemporaryPin=r=>{var s;let e=r.target,n=this.divWrappers.get(this.temporaryPinCoordinates.elementId);if(!n)return;let i=n.contains(e),o=(s=this.pins.get("temporary-pin"))==null?void 0:s.contains(e);i||o||(this.removeAnnotationPin("temporary-pin"),this.temporaryPinCoordinates={})};this.resetPins=r=>{r&&(r==null?void 0:r.key)!=="Escape"||(this.resetSelectedPin(),this.resetHoveredWrapper(),this.temporaryPinCoordinates.elementId&&(this.removeAnnotationPin("temporary-pin"),this.temporaryPinCoordinates={}))};this.annotationSelected=({detail:{uuid:r,newPin:e}})=>{if(!r)return;e&&this.pins.get(r).setAttribute("newPin","");let n=this.annotations.find(s=>{var a;return s.uuid===((a=this.selectedPin)==null?void 0:a.id)});if(this.resetPins(),(n==null?void 0:n.uuid)===r)return;document.body.dispatchEvent(new CustomEvent("close-temporary-annotation"));let i=this.pins.get(r);if(!i)return;i.setAttribute("active",""),this.selectedPin=i;let o=this.annotations.find(s=>s.uuid===r);this.selectedPin.setAttribute("elementId",JSON.parse(o.position).elementId)};this.onClick=r=>{if(!this.isActive||r.target===this.pins.get("temporary-pin"))return;let e=r.target,n=r.currentTarget;if(e!==n&&this.pins.has(e.id))return;let i=n.getAttribute("data-wrapper-id"),o=n.getBoundingClientRect(),{x:s,y:a}=this.mouseDownCoordinates,c=r.clientX-o.left,l=r.clientY-o.top,p=s-o.x,h=a-o.y;if(Math.hypot(c-p,l-h)>10)return;let{width:b,height:g}=n.getBoundingClientRect(),w=32,_=n.getBoundingClientRect().width/n.offsetWidth||1;c=c*100/b,l=(l-w*_)*100/g,this.onPinFixedObserver.publish({x:c,y:l,type:"html",elementId:i}),this.resetSelectedPin(),this.temporaryPinCoordinates={...this.temporaryPinCoordinates,x:c,y:l},this.renderTemporaryPin(i);let S=this.pins.get("temporary-pin");this.movedTemporaryPin=!this.movedTemporaryPin,S.setAttribute("movedPosition",String(this.movedTemporaryPin)),document.body.dispatchEvent(new CustomEvent("unselect-annotation"))};this.onMouseDown=({x:r,y:e})=>{this.mouseDownCoordinates={x:r,y:e}};this.handleMutationObserverChanges=r=>{r.forEach(e=>{var l;let{target:n,oldValue:i}=e,o=n.getAttribute(this.dataAttribute);if(!o&&!i||o===i)return;let s=this.dataAttributeValueFilters.some(p=>i.match(p));if(!o&&i&&!s){this.removeAnnotationPin("temporary-pin"),this.clearElement(i),((l=this.selectedPin)==null?void 0:l.getAttribute("elementId"))===i&&(document.body.dispatchEvent(new CustomEvent("unselect-annotation")),this.selectedPin=null);return}let c=this.dataAttributeValueFilters.some(p=>o.match(p));(i&&this.elementsWithDataId[i]||c)&&this.clearElement(i),!c&&(this.setElementReadyToPin(n,o),this.renderAnnotationsPins())})};this.onToggleAnnotationSidebar=({detail:r})=>{let{open:e}=r;e||(this.resetSelectedPin(),this.pins.has("temporary-pin")&&(this.removeAnnotationPin("temporary-pin"),this.temporaryPinCoordinates.elementId=void 0))};this.onMouseEnter=r=>{var o;let e=r.target;if(this.hoveredWrapper=e,!((o=e.getAttribute("data-wrapper-type"))==null?void 0:o.includes("ellipse"))){this.hoveredWrapper.style.setProperty("outline","1px solid rgb(var(--sv-primary))");return}let i=e.querySelector("ellipse");i.setAttribute("stroke","rgb(var(--sv-primary))"),i.setAttribute("stroke-width","1")};this.onMouseLeave=r=>{var o;let e=r.target;if(this.hoveredWrapper=e,!((o=e.getAttribute("data-wrapper-type"))==null?void 0:o.includes("ellipse"))){this.hoveredWrapper.style.setProperty("outline","");return}let i=e.querySelector("ellipse");i.removeAttribute("stroke"),i.removeAttribute("stroke-width")};if(this.logger=new He("@superviz/sdk/comments-component/container-pin-adapter"),this.container=document.getElementById(r),!this.container){let o=`Element with id ${r} not found`;throw this.logger.log(o),new Error(o)}if(typeof e!="object")throw new Error("Second argument of the HTMLPin constructor must be an object");let{dataAttributeName:n,dataAttributeValueFilters:i}=e;if(n==="")throw new Error("dataAttributeName must be a non-empty string");if(n===null)throw new Error("dataAttributeName cannot be null");if(n!==void 0&&typeof n!="string")throw new Error("dataAttributeName must be a non-empty string");this.dataAttribute=n||this.dataAttribute,this.dataAttributeValueFilters=i||[],this.isActive=!1,this.prepareElements(),this.mutationObserver=new MutationObserver(this.handleMutationObserverChanges),this.observeContainer(),this.pins=new Map,this.onPinFixedObserver=new tt({logger:this.logger}),this.annotations=[],document.body.addEventListener("select-annotation",this.annotationSelected),document.body.addEventListener("keyup",this.resetPins),this.voidElementsWrappers.size&&(this.animateFrame=requestAnimationFrame(this.animate))}destroy(){var r;this.logger.log("Destroying HTML Pin Adapter for Comments"),this.removeListeners(),this.removeObservers(),this.divWrappers.forEach(e=>e.remove()),this.divWrappers.clear(),this.pins.forEach(e=>e.remove()),this.pins.clear(),this.divWrappers=void 0,this.pins=void 0,this.elementsWithDataId=void 0,this.logger=void 0,this.onPinFixedObserver.destroy(),this.onPinFixedObserver=void 0,this.container=void 0,this.voidElementsWrappers.clear(),this.voidElementsWrappers=void 0,this.annotations=[],(r=this.svgWrappers)==null||r.remove(),this.svgWrappers=void 0,document.body.removeEventListener("select-annotation",this.annotationSelected),document.body.removeEventListener("toggle-annotation-sidebar",this.onToggleAnnotationSidebar),cancelAnimationFrame(this.animateFrame)}addElementListeners(r){this.divWrappers.get(r).addEventListener("click",this.onClick,!0),this.divWrappers.get(r).addEventListener("mousedown",this.onMouseDown),this.divWrappers.get(r).addEventListener("mouseenter",this.onMouseEnter),this.divWrappers.get(r).addEventListener("mouseleave",this.onMouseLeave)}removeElementListeners(r){this.divWrappers.get(r).removeEventListener("click",this.onClick,!0),this.divWrappers.get(r).removeEventListener("mousedown",this.onMouseDown),this.divWrappers.get(r).removeEventListener("mouseenter",this.onMouseEnter),this.divWrappers.get(r).removeEventListener("mouseleave",this.onMouseLeave)}set participantsList(r){this.participants=r}removeObservers(){this.mutationObserver.disconnect(),this.mutationObserver=void 0}addListeners(){this.divWrappers.forEach((r,e)=>this.addElementListeners(e)),document.body.addEventListener("toggle-annotation-sidebar",this.onToggleAnnotationSidebar),document.body.addEventListener("click",this.hideTemporaryPin)}removeListeners(){this.divWrappers.forEach((r,e)=>this.removeElementListeners(e)),document.body.removeEventListener("keyup",this.resetPins),document.body.removeEventListener("click",this.hideTemporaryPin)}observeContainer(){this.mutationObserver.observe(this.container,{subtree:!0,attributes:!0,attributeFilter:[this.dataAttribute],attributeOldValue:!0})}prepareElements(){this.container.querySelectorAll(`[${this.dataAttribute}]`).forEach(e=>{let n=e.getAttribute(this.dataAttribute);this.dataAttributeValueFilters.some(o=>n.match(o))||this.setElementReadyToPin(e,n)})}addAllCursors(){this.divWrappers.forEach((r,e)=>{this.addCursor(r,e)})}removeAddCursor(){this.divWrappers.forEach((r,e)=>{let n=r,i=r.getAttribute("data-wrapper-type");if(i){let o=i.split("-")[1];n=this.divWrappers.get(e).querySelector(o)}n.style.setProperty("cursor","default"),n.style.setProperty("pointer-events","none")})}setPinsVisibility(r){this.isPinsVisible=r,this.isPinsVisible&&this.renderAnnotationsPins(),this.removeAnnotationsPins()}removeAnnotationPin(r){let e=this.pins.get(r);!e&&r==="temporary-pin"||(e&&(e.remove(),this.pins.delete(r)),r!=="temporary-pin"&&(this.annotations=this.annotations.filter(n=>n.uuid!==r)))}updateAnnotations(r){this.logger.log("updateAnnotations",r),this.annotations=r,this.isPinsVisible&&(this.removeAnnotationsPins(),this.renderAnnotationsPins())}setActive(r){if(this.isActive!==r){if(this.isActive=r,this.isActive){this.addListeners(),this.addAllCursors(),this.prepareElements();return}this.resetPins(),this.removeListeners(),this.removeAddCursor()}}renderTemporaryPin(r){var o;this.temporaryPinCoordinates.elementId||=r;let e=this.pins.get("temporary-pin");if(r&&r!==this.temporaryPinCoordinates.elementId&&(this.pins.get("temporary-pin").remove(),this.pins.delete("temporary-pin"),this.temporaryPinCoordinates.elementId=r,e=null),!e){let s=(o=this.elementsWithDataId[r])==null?void 0:o.getBoundingClientRect();e=document.createElement("superviz-comments-annotation-pin"),e.id="superviz-temporary-pin",e.setAttribute("type","add"),e.setAttribute("showInput",""),e.setAttribute("containerSides",JSON.stringify(s)),e.setAttribute("commentsSide",this.commentsSide),e.setAttribute("position",JSON.stringify(this.temporaryPinCoordinates)),e.setAttribute("annotation",JSON.stringify({})),e.setAttribute("participantsList",JSON.stringify(this.participants)),e.setAttribute("keepPositionRatio",""),e.setAttributeNode(document.createAttribute("active")),this.addTemporaryPinToElement(r,e)}let{x:n,y:i}=this.temporaryPinCoordinates;e.setAttribute("position",JSON.stringify({x:n,y:i})),this.pins.set("temporary-pin",e)}renderAnnotationsPins(){if(!this.annotations.length){this.removeAnnotationsPins();return}this.annotations.forEach(r=>{if(r.resolved)return;let{x:e,y:n,elementId:i,type:o}=JSON.parse(r.position);if(o!=="html"||this.pins.has(r.uuid)||!this.elementsWithDataId[i])return;let a=this.divWrappers.get(i);if(!a)return;let c=this.createPin(r,e,n);a.appendChild(c),this.pins.set(r.uuid,c)})}updatePinsPositions(){this.voidElementsWrappers.forEach((r,e)=>{let n=JSON.stringify(r.getBoundingClientRect()),i=this.elementsWithDataId[e].getBoundingClientRect();this.elementsWithDataId[e].tagName.toLowerCase()==="ellipse"&&(i=this.elementsWithDataId[e].viewportElement.getBoundingClientRect()),!(0,FN.isEqual)(JSON.stringify(i),n)&&(r.style.setProperty("top",`${i.top}px`),r.style.setProperty("left",`${i.left}px`),r.style.setProperty("width",`${i.width}px`),r.style.setProperty("height",`${i.height}px`))})}clearElement(r){if(!this.elementsWithDataId[r])return;let n=this.divWrappers.get(r);if(n){let i=n.children,{length:o}=i;for(let s=0;s<o;++s){let a=i.item(s);this.pins.delete(a.id)}n.remove()}this.voidElementsWrappers.delete(r),this.removeElementListeners(r),this.divWrappers.delete(r),this.elementsWithDataId[r]=void 0,this.voidElementsWrappers.size||(cancelAnimationFrame(this.animateFrame),this.animateFrame=void 0)}resetSelectedPin(){this.selectedPin&&(this.selectedPin.removeAttribute("active"),this.selectedPin=null)}resetHoveredWrapper(){this.hoveredWrapper&&this.onMouseLeave({target:this.hoveredWrapper})}removeAnnotationsPins(){this.pins.forEach(r=>{r.remove()}),this.pins.clear()}setElementReadyToPin(r,e){if(!this.elementsWithDataId[e]){if(this.elementsWithDataId[e]=r,!this.divWrappers.get(e)){let n=this.createWrapper(r,e);this.divWrappers.set(e,n)}!this.isActive||!this.isPinsVisible||(this.addCursor(this.divWrappers.get(e),e),this.addElementListeners(e))}}handleSvgElement(r,e){let n=r.viewportElement;if(n===void 0)return;if(r.tagName.toLowerCase()==="svg"){let S=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");return S.setAttribute("height","100%"),S.setAttribute("width","100%"),S.style.setProperty("overflow","visible"),S.appendChild(e),r.appendChild(S),r.style.setProperty("overflow","visible"),e}let s=r.tagName.toLowerCase(),a=s==="ellipse",c=s==="rect";if(!a&&!c)return;let l=document.createElementNS("http://www.w3.org/2000/svg","svg"),p=document.createElementNS("http://www.w3.org/2000/svg",s),h,f,b,g,w,_;if(c){let S=r;h=S.getAttribute("x"),f=S.getAttribute("y"),b=S.getAttribute("width"),g=S.getAttribute("height"),w=S.getAttribute("rx"),_=S.getAttribute("ry"),p.setAttribute("fill","transparent"),p.setAttribute("stroke","transparent"),p.setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("rx",w),p.setAttribute("ry",_)}if(a){let S=r.getAttribute("cx"),x=r.getAttribute("cy");w=r.getAttribute("rx"),_=r.getAttribute("ry"),h=Number(S)-Number(w),f=Number(x)-Number(_);let{width:C,height:I}=n.getBoundingClientRect();b=`${C}px`,g=`${I}px`,p.setAttribute("fill","transparent"),p.setAttribute("stroke","transparent"),p.setAttribute("cx",S),p.setAttribute("cy",x),p.setAttribute("rx",w),p.setAttribute("ry",_)}return p.setAttribute("height",g),p.setAttribute("width",b),l.setAttribute("height",g),l.setAttribute("width",b),l.appendChild(p),e.appendChild(l),r.style.setProperty("overflow","visible"),e.setAttribute("data-wrapper-type",`svg-${s}`),e}addTemporaryPinToElement(r,e){if(!this.elementsWithDataId[r])return;let i=this.divWrappers.get(r);i&&i.appendChild(e)}createPin(r,e,n){let i=document.createElement("superviz-comments-annotation-pin");return i.setAttribute("type","show"),i.setAttribute("annotation",JSON.stringify(r)),i.setAttribute("position",JSON.stringify({x:e,y:n})),i.setAttribute("keepPositionRatio",""),i.setAttribute("participantsList",JSON.stringify(this.participants)),i.id=r.uuid,i}addCursor(r,e){let n=r,i=r.getAttribute("data-wrapper-type");if(i){let o=i.split("-")[1];n=this.divWrappers.get(e).querySelector(o)}n.style.setProperty("cursor",'url("https://production.cdn.superviz.com/static/pin-html.png") 0 100, pointer'),n.style.setProperty("pointer-events","auto")}createWrapper(r,e){let n=`superviz-id-${e}`;if(this.divWrappers.get(e))return;let i=r.getBoundingClientRect(),o=document.createElement("div");o.setAttribute("data-wrapper-id",e),o.id=n,o.style.position="absolute",o.style.pointerEvents="none",o.style.transform="translateX(0) translateY(0) scale(1)",o.style.cursor="default",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.pointerEvents="none";let s=window.getComputedStyle(r).getPropertyValue("border-radius");if(o.style.borderRadius=s,!this.VOID_ELEMENTS.includes(this.elementsWithDataId[e].tagName.toLowerCase()))return this.elementsWithDataId[e].appendChild(o),this.setPositionNotStatic(this.elementsWithDataId[e]),o;o=this.handleSvgElement(r,o)??o,o.style.position="fixed",o.style.top=`${i.top}px`,o.style.left=`${i.left}px`,o.style.width=`${i.width}px`,o.style.height=`${i.height}px`;let a=this.elementsWithDataId[e].parentElement;return(!a||r.viewportElement)&&(a=document.body),this.setPositionNotStatic(a),a.appendChild(o),this.voidElementsWrappers.set(e,o),this.animateFrame||(this.animateFrame=requestAnimationFrame(this.animate)),o}setPositionNotStatic(r){let{position:e}=window.getComputedStyle(r);e==="static"&&r.style.setProperty("position","relative")}};v();Rr();$t();v();var mi=wr(jN()),zb=class{constructor(){this.browser=mi.default.getParser(navigator.userAgent)}get clientStats(){return this.browser.getResult()}get isFirefox(){return this.browser.isBrowser(mi.default.BROWSER_MAP.firefox)}get isSafari(){return this.browser.isBrowser(mi.default.BROWSER_MAP.safari)}get isChrome(){return this.browser.isBrowser(mi.default.BROWSER_MAP.chrome)}get isIE(){return this.browser.isBrowser(mi.default.BROWSER_MAP.ie)}get isEdge(){return this.browser.isBrowser(mi.default.BROWSER_MAP.edge)}get isMobileDevice(){return(this.browser.is(mi.default.PLATFORMS_MAP.mobile)||this.browser.is(mi.default.PLATFORMS_MAP.tablet))&&!navigator.userAgent.match(/iPad/i)}get isTabletDevice(){return this.browser.is(mi.default.PLATFORMS_MAP.tablet)}get isAndroid(){return this.isMobileDevice&&!!navigator.userAgent.match(/Android/i)}get isIpad(){return!!navigator.userAgent.match(/iPad/i)}get isIphone(){return this.isMobileDevice&&!!navigator.userAgent.match(/iPhone/i)}get isAppleMobileDevice(){return this.isIpad||this.isIphone}};An();v();Rr();var Vb=class{constructor(){this.updateMeetingConnectionStatus=r=>{this.oldConnectionStatus=this.connectionStatus,this.connectionStatus=r,this.connectionStatusObserver.publish(r),this.logger.log("CONNECTION STATUS CHANGE",r)};this.onUpdateBrowserOnlineStatus=r=>{let{type:e}=r;if(e==="online"){this.updateMeetingConnectionStatus(1);return}this.updateMeetingConnectionStatus(4)};this.logger=new He("@superviz/sdk/connection-service"),this.connectionStatus=0,this.connectionStatusObserver=new tt({logger:this.logger})}addListeners(){typeof window<"u"&&(window.addEventListener("online",this.onUpdateBrowserOnlineStatus),window.addEventListener("offline",this.onUpdateBrowserOnlineStatus))}removeListeners(){typeof window<"u"&&(window.removeEventListener("online",this.onUpdateBrowserOnlineStatus),window.removeEventListener("offline",this.onUpdateBrowserOnlineStatus))}};v();Rr();Sw();$t();Ds();v();var Hb=class{constructor(r,e,n){this.myParticipant={};this.localRoomProperties=null;this.drawingData=null;this.state=0;this.MESSAGE_SIZE_LIMIT=6e4;this.useStore=Lt.bind(this);this.join=()=>{this.room.presence.on(ge.LEAVE,this.onParticipantLeave),this.room.presence.on(ge.JOINED_ROOM,this.onPresenceEnter),this.enableSync&&(this.room.on("update",this.updateLocalRoomState),this.drawingRoom.presence.on(ge.UPDATE,this.updateDrawing))};this.updateMyProperties=r=>{let e=r??{};this.isMessageTooBig(e)||this.left||!this.enableSync||this.isSyncFrozen||(e.avatar===void 0&&delete e.avatar,this.myParticipant={...this.myParticipant,...e},this.room.presence.update(this.myParticipant),this.logger.log("REALTIME","updating my properties",this.myParticipant))};this.isMessageTooBig=(r,e=this.MESSAGE_SIZE_LIMIT)=>{let n=JSON.stringify(r);return new TextEncoder().encode(n).length>e?(this.logger.log("Message too long, the message limit size is 60kb."),!0):!1};this.updateRoomProperties=r=>{if(this.isMessageTooBig(r)||this.isSyncFrozen||this.left)return;let e={...this.localRoomProperties,...r};this.localRoomProperties=e,this.room.emit("update",e)};this.updateDrawingProperties=r=>{this.isMessageTooBig(r)||this.isSyncFrozen||this.left||(this.drawingData={...this.drawingData,...r},this.drawingRoom.presence.update(this.drawingData))};this.setHost=r=>{this.updateRoomProperties({hostClientId:r})};this.setKickParticipant=r=>{if(!r)return;let{participants:e}=Lt("global-store"),n=e.value[r];this.updateRoomProperties({kickParticipant:n})};this.initializeRoomProperties=()=>{let r={isGridModeEnabled:!1,hostClientId:null,followParticipantId:null,gather:!1,transcript:"transcript.stop",kickParticipant:null};this.localRoomProperties=r,this.updateRoomProperties(r)};this.onParticipantLeave=r=>{var n;r.id===this.myParticipant.id&&(this.left=!0),r.id===((n=this.localRoomProperties)==null?void 0:n.followParticipantId)&&this.setFollowParticipant()};this.start=async()=>{this.started||(this.started=!0,this.room.isJoined||(this.logger.log("room state service - not joined room yet"),setTimeout(()=>{this.logger.log("room state service - retrying"),this.start()},2e3)),this.localRoomProperties=await this.fetchRoomProperties(),this.localRoomProperties?this.updateLocalRoomState({data:this.localRoomProperties}):this.initializeRoomProperties(),this.publishStateUpdate(4),this.logger.log("REALTIME","Joined realtime room"))};this.onPresenceEnter=()=>{this.updateMyProperties()};this.updateLocalRoomState=async({data:r})=>{this.logger.log("REALTIME","Room update received",r),this.localRoomProperties=Object.assign({},this.localRoomProperties,r);let{followParticipantId:e,gather:n,hostId:i,isGridModeEnabled:o,transcript:s}=this.useStore("video-store");e.publish(r.followParticipantId),n.publish(r.gather),i.publish(r.hostClientId),o.publish(r.isGridModeEnabled),s.publish(r.transcript),r.kickParticipant&&r.kickParticipant.id===this.myParticipant.id&&(this.updateRoomProperties({kickParticipant:null}),this.kickParticipantObserver.publish(this.myParticipant.id))};this.updateDrawing=r=>{if(r.id===this.myParticipant.id)return;let{drawing:e}=this.useStore("video-store");e.publish(r.data)};this.freezeSync=r=>{if(this.isSyncFrozen=r,r){this.destroy();return}this.join()};this.room=r,this.drawingRoom=e,this.logger=n,this.kickParticipantObserver=new tt({logger:this.logger});let{localParticipant:i,participants:o}=this.useStore("global-store");i.subscribe(s=>{this.enableSync=s.type!=="audience",this.myParticipant={...this.myParticipant,...s}}),o.subscribe(),this.join()}setGridMode(r){this.updateRoomProperties({isGridModeEnabled:r})}setDrawing(r){this.updateDrawingProperties(r)}setTranscript(r){this.updateRoomProperties({transcript:r})}async fetchRoomProperties(){if(await new Promise(o=>{this.room.presence.get(s=>{s||o(0),o(s.length)})})<=1)return null;let e=await new Promise((o,s)=>{this.room.history(a=>{a||s(a),a.events.length||o(null);let c=a.events.pop();o(c)})}),n=1e3*60*60,i=(e==null?void 0:e.timestamp)<Date.now()-n;return!(e!=null&&e.data)||i?null:e.data}publishStateUpdate(r){if(this.state===r)return;this.state=r,this.logger.log("REALTIME",`Realtime state did change. New state: ${eb[this.state]}`);let{meetingState:e}=this.useStore("video-store");e.publish(this.state)}setFollowParticipant(r){this.updateRoomProperties({followParticipantId:r})}setGather(r){this.updateRoomProperties({gather:r})}destroy(){this.room.presence.off(ge.LEAVE),this.room.presence.off(ge.JOINED_ROOM),this.drawingRoom.presence.off(ge.UPDATE),this.room.off("update",this.updateLocalRoomState)}};v();Rr();An();v();var Gb=class{build(r,e,n,i={},o={}){let s=document.querySelector(`#${r}`),a=new URL(e);if(this.wrapperId||this.element)throw new Error("Tried to initialize two frames with the same FrameBricklayer instance");this.element=document.createElement("iframe"),Object.entries(i).forEach(([c,l])=>{a.searchParams.set(c,l)}),Object.entries(o).forEach(([c,l])=>{this.element.setAttribute(c,l)}),this.element.src=a.toString(),this.element.id=n,s.appendChild(this.element),this.wrapperId=r}destroy(){if(!this.wrapperId)throw new Error("Tried to destroy a frame before it was initialized");let r=document.querySelector(`#${this.wrapperId}`);r&&r.querySelector(`#${this.element.id}`)&&r.removeChild(this.element),this.wrapperId=null,this.element=null}};v();var Zb=class{constructor(r){this.observers={};this.sourceBlockList=["vue-devtools-proxy","vue-devtools-backend"];this.originBlockList=["https://sketchfab.com"];this.publish=(r,e={})=>{this.logger.log("MessageBridge","Posting message to frame",r,e),this.contentWindow.postMessage({type:r,data:e},this.allowedOrigins)};this.listen=(r,e)=>{this.observers[r]||(this.observers[r]=new tt({logger:this.logger})),this.observers[r].subscribe(e)};this.onReceiveMessage=r=>{let{type:e,data:n,source:i}=r.data;if(this.sourceBlockList.includes(i)||this.originBlockList.includes(r.origin))return;let o=!!e,s=!this.domains.length||this.domains.includes(r.origin),a=this.observers.hasOwnProperty(e);if(this.logger.log("MessageBridge",`Message received -
        TYPE: ${r.type}
        ORIGIN: ${r.origin}
        DATA: ${JSON.stringify(r.data)} `),!o||!s||!a){this.logger.log("MessageBridge","Message discarded");return}this.observers[e].publish(n)};let{contentWindow:e,domains:n=[],allowedOrigins:i="*",sourceBlockList:o=[],logger:s}=r;if(this.logger=s,this.domains=n,this.allowedOrigins=i,this.sourceBlockList.push(...o),typeof window>"u")throw new Error("MessageBridge: window is undefined");this.contentWindow=e,window.addEventListener("message",this.onReceiveMessage)}destroy(){Object.entries(this.observers).forEach(([r,e])=>{e.reset(),delete this.observers[r]}),typeof window<"u"&&window.removeEventListener("message",this.onReceiveMessage),delete this.logger,delete this.allowedOrigins,delete this.contentWindow,delete this.domains,delete this.observers,delete this.sourceBlockList}};var DN="sv-video-frame",Wd=class{constructor(r){this.logger=new He("@superviz/sdk/video-conference-manager");this.frameStateObserver=new tt({logger:this.logger});this.frameSizeObserver=new tt({logger:this.logger});this.waitingForHostObserver=new tt({logger:this.logger});this.realtimeEventsObserver=new tt({logger:this.logger});this.sameAccountErrorObserver=new tt({logger:this.logger});this.devicesObserver=new tt({logger:this.logger});this.meetingStateObserver=new tt({logger:this.logger});this.meetingConnectionObserver=new tt({logger:this.logger});this.participantJoinedObserver=new tt({logger:this.logger});this.participantLeftObserver=new tt({logger:this.logger});this.participantListObserver=new tt({logger:this.logger});this.frameState=0;this.layoutModalsAndCamerasConfig=(r,e)=>{let n=r,i=e,o=["left","right","bottom","top"].includes(i),s=["left","right","center"].includes(n);return o||(i="right"),s||(n="right"),this.browserService.isMobileDevice?(i="bottom",{layoutPosition:n,camerasPosition:i}):(n==="left"&&i==="right"&&(n="right"),n==="right"&&i==="left"&&(n="left"),{layoutPosition:n,camerasPosition:i})};this.onFrameLoad=()=>{this.messageBridge=new Zb({logger:this.logger,contentWindow:this.bricklayer.element.contentWindow}),this.addMessagesListeners(),this.updateFrameState(2),this.updateFrameLocale(),this.updateMeetingAvatars(),this.onWindowResize(),this.setCustomColors(),this.setCallbacks()};this.setFrameOffset=r=>{let e=r??{};["top","bottom","left","right"].forEach(n=>{Object.keys(e).includes(n)||(e[n]=0)}),this.frameOffset=e};this.setCustomColors=()=>{this.customColors&&this.messageBridge.publish("frame.color-list-update",this.customColors),this.styles&&this.messageBridge.publish("frame.styles-update",this.styles)};this.setCallbacks=()=>{if(!this.callbacks)return;let r={onToggleMicrophone:!!this.callbacks.onToggleMicrophone,onToggleCam:!!this.callbacks.onToggleCam,onToggleRecording:!!this.callbacks.onToggleRecording,onToggleChat:!!this.callbacks.onToggleChat,onToggleScreenShare:!!this.callbacks.onToggleScreenShare,onClickHangup:!!this.callbacks.onClickHangup,onToggleMeetingSetup:!!this.callbacks.onToggleMeetingSetup};this.messageBridge.listen("callback-called",e=>{var n,i;(i=(n=this.callbacks)[e])==null||i.call(n)}),this.messageBridge.publish("frame.callbacks-update",JSON.stringify(r))};this.setFrameStyle=r=>{let e=document.createElement("style"),{bottom:n,left:i,right:o,top:s}=this.frameOffset;if(e.innerHTML=`
      :root {
        --superviz-offset-top: ${s}px;
        --superviz-offset-right: ${o}px;
        --superviz-offset-left: ${i}px;
        --superviz-offset-bottom: ${n}px;
      }     
    `,document.head.appendChild(e),this.browserService.isMobileDevice){this.bricklayer.element.classList.add("sv-video-frame--bottom");return}this.bricklayer.element.classList.add(`sv-video-frame--${r}`)};this.onFrameDimensionsUpdate=({width:r,height:e})=>{if(typeof window>"u")return;let n=document.getElementById(DN),{bottom:i,right:o,left:s,top:a}=this.frameOffset,c=this.isWaterMarkEnabled?40:0,l=`${r}px`,p=`${e+c}px`;(r>=window.innerWidth||this.isHorizontalCameraEnabled)&&(l=`calc(100% - ${o}px - ${s}px)`),e>=window.innerHeight&&(p=`calc(100% - ${a}px - ${i}px)`),n.style.width=l,n.style.height=p,this.frameSizeObserver.publish({width:n.offsetWidth,height:n.offsetHeight})};this.onWindowResize=()=>{let{top:r,bottom:e,right:n,left:i}=this.frameOffset,{innerHeight:o,innerWidth:s}=window,a=o-r-e,c=s-n-i;this.messageBridge&&this.messageBridge.publish("frame.parent-window-size-update",{height:a,width:c})};this.updateFrameLocale=()=>{var o,s;if(!this.frameLocale||!((o=this.frameLocale)!=null&&o.language)&&((s=this.frameLocale)!=null&&s.locales))return;let{language:r,locales:e}=this.frameLocale,i=["en",...e.map(a=>a==null?void 0:a.language)];if(r&&!i.includes(r))throw new Error("The default language is not available in the language listing.");this.messageBridge.publish("frame.locales-update",this.frameLocale)};this.updateMeetingAvatars=()=>{this.messageBridge.publish("frame.avatar-list-update",this.meetingAvatars)};this.onParticipantJoined=r=>{this.participantJoinedObserver.publish(r)};this.onParticipantLeft=r=>{this.participantLeftObserver.publish(r)};this.onMeetingHostChange=r=>{this.realtimeEventsObserver.publish({event:"realtime.host-change",data:r})};this.onMeetingKickParticipant=r=>{this.realtimeEventsObserver.publish({event:"meeting.kick-participant",data:r})};this.onFollowParticipantDidChange=r=>{this.realtimeEventsObserver.publish({event:"realtime.follow-participant",data:r})};this.onGoToDidChange=r=>{this.realtimeEventsObserver.publish({event:"realtime.go-to-participant",data:r})};this.onGather=()=>{this.realtimeEventsObserver.publish({event:"realtime.gather",data:!0})};this.onGridModeChange=r=>{this.realtimeEventsObserver.publish({event:"realtime.grid-mode-change",data:r})};this.onDrawingChange=r=>{this.realtimeEventsObserver.publish({event:"realtime.drawing-change",data:r})};this.onTranscriptChange=r=>{this.realtimeEventsObserver.publish({event:"realtime.transcript-change",data:r})};this.onSameAccountError=r=>{this.sameAccountErrorObserver.publish(r)};this.onDevicesChange=r=>{this.devicesObserver.publish(r)};this.meetingStateUpdate=r=>{this.meetingStateObserver.publish(r)};this.onConnectionStatusChange=r=>{this.meetingConnectionObserver.publish(r)};this.onWaitingForHostDidChange=r=>{this.waitingForHostObserver.publish(r)};this.onParticipantListUpdate=r=>{this.participantListObserver.publish(r)};let{language:e,canUseCams:n,canUseChat:i,canUseScreenshare:o,canUseDefaultAvatars:s,canUseFollow:a,canUseGoTo:c,canUseGather:l,canShowAudienceList:p,canUseDefaultToolbar:h,canUseRecording:f,browserService:b,offset:g,locales:w,avatars:_,customColors:S,styles:x,waterMark:C,layoutPosition:I,camerasPosition:k,skipMeetingSettings:P,devices:D,layoutMode:j,collaborationMode:L,callbacks:B}=r;this.browserService=b;let Q=this.layoutModalsAndCamerasConfig(I,k),ie=document.createElement("div");this.frameConfig={apiKey:me.get("apiKey"),apiUrl:me.get("apiUrl"),debug:me.get("debug"),roomId:me.get("roomId"),limits:me.get("limits"),collaborationMode:L,canUseFollow:a,canUseGoTo:c,canUseCams:n,canUseChat:i,canUseGather:l,canUseScreenshare:o,canUseDefaultAvatars:s,canUseRecording:f,canShowAudienceList:p,camerasPosition:Q.camerasPosition??"right",canUseDefaultToolbar:h,devices:{audioInput:(D==null?void 0:D.audioInput)??!0,audioOutput:(D==null?void 0:D.audioOutput)??!0,videoInput:(D==null?void 0:D.videoInput)??!0},waterMark:C,layoutMode:j,skipMeetingSettings:P,layoutPosition:Q.layoutPosition,transcriptLangs:me.get("features.transcriptLangs")},this.customColors=S,this.callbacks=B,this.styles=x,ie.classList.add("sv_video_wrapper"),ie.id="sv-video-wrapper",document.body.appendChild(ie),this.updateFrameState(1),this.bricklayer=new Gb,this.bricklayer.build(ie.id,me.get("conferenceLayerUrl"),DN,void 0,{allow:"camera *;microphone *; display-capture *;"}),this.setFrameOffset(g),this.setFrameStyle(Q.camerasPosition),this.bricklayer.element.addEventListener("load",this.onFrameLoad),this.frameLocale={language:e,locales:w},this.meetingAvatars=_,typeof window<"u"&&(window.addEventListener("resize",this.onWindowResize),window.addEventListener("orientationchange",this.onWindowResize))}get isWaterMarkEnabled(){return this.browserService.isMobileDevice?!1:this.frameConfig.waterMark}get isHorizontalCameraEnabled(){return this.browserService.isMobileDevice?!1:["top","bottom"].includes(this.frameConfig.camerasPosition)}addMessagesListeners(){this.messageBridge.listen("meeting.waiting-for-host",this.onWaitingForHostDidChange),this.messageBridge.listen("meeting.participant-joined",this.onParticipantJoined),this.messageBridge.listen("meeting.participant-list-update",this.onParticipantListUpdate),this.messageBridge.listen("meeting.participant-left",this.onParticipantLeft),this.messageBridge.listen("meeting.host-change",this.onMeetingHostChange),this.messageBridge.listen("meeting.kick-participant",this.onMeetingKickParticipant),this.messageBridge.listen("meeting.same-participant-error",this.onSameAccountError),this.messageBridge.listen("meeting.state-update",this.meetingStateUpdate),this.messageBridge.listen("meeting.connection-status-change",this.onConnectionStatusChange),this.messageBridge.listen("meeting.devices-change",this.onDevicesChange),this.messageBridge.listen("realtime.grid-mode-change",this.onGridModeChange),this.messageBridge.listen("realtime.drawing-change",this.onDrawingChange),this.messageBridge.listen("realtime.transcript-change",this.onTranscriptChange),this.messageBridge.listen("frame.dimensions-update",this.onFrameDimensionsUpdate),this.messageBridge.listen("realtime.follow-participant",this.onFollowParticipantDidChange),this.messageBridge.listen("realtime.go-to-participant",this.onGoToDidChange),this.messageBridge.listen("realtime.gather",this.onGather)}updateFrameState(r){r!==this.frameState&&(this.frameState=r,this.frameStateObserver.publish(this.frameState));let e={1:6,2:7,0:8};this.meetingStateUpdate(e[r])}start(r){this.messageBridge.publish("meeting.start",{...r,config:this.frameConfig})}leave(){this.messageBridge.publish("meeting.leave"),this.destroy()}destroy(){var r,e,n,i,o,s,a,c,l,p;(r=this.messageBridge)==null||r.destroy(),(e=this.bricklayer)==null||e.destroy(),(n=this.frameSizeObserver)==null||n.destroy(),(i=this.realtimeEventsObserver)==null||i.destroy(),(o=this.sameAccountErrorObserver)==null||o.destroy(),(s=this.devicesObserver)==null||s.destroy(),(a=this.meetingStateObserver)==null||a.destroy(),(c=this.meetingConnectionObserver)==null||c.destroy(),(l=this.participantJoinedObserver)==null||l.destroy(),(p=this.participantLeftObserver)==null||p.destroy(),this.bricklayer=null,this.frameState=null,typeof window<"u"&&(window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("orientationchange",this.onWindowResize))}publishMessageToFrame(r,e){this.messageBridge&&this.messageBridge.publish(r,e)}};Wu();v();$t();Ds();var pO=class{constructor(){this.logger=new He("@superviz/sdk/core-bridge"),this.logger.log("CoreBridge initialized")}updateLocalParticipant(r){this.logger.log("updateLocalParticipant",r);let{localParticipant:e}=Lt("core-store");e.publish(r)}updateParticipantsList(r){this.logger.log("updateParticipantsList",r);let{participants:e}=Lt("core-store");e.publish(r)}},$d=new pO;var Kse=1e3*60,ts=null,fc=class extends vr{constructor(e){super();this.participantsOnMeeting=[];this.kickParticipantsOnHostLeave=!1;this.startVideo=()=>{var n,i,o,s,a,c,l,p,h,f,b,g,w,_,S,x,C,I,k,P,D,j,L,B,Q,ie,te,be,we,ke,oe;let e=((n=this.params)==null?void 0:n.userType)!=="audience"&&((i=this.params)==null?void 0:i.defaultAvatars)===!0;this.videoConfig={language:(o=this.params)==null?void 0:o.language,canUseRecording:!!((s=this.params)!=null&&s.enableRecording),canShowAudienceList:((a=this.params)==null?void 0:a.showAudienceList)??!0,canUseChat:!((c=this.params)!=null&&c.chatOff),canUseCams:!((l=this.params)!=null&&l.camsOff),canUseScreenshare:!((p=this.params)!=null&&p.screenshareOff),canUseDefaultAvatars:e&&!((f=(h=this.localParticipant)==null?void 0:h.avatar)!=null&&f.model3DUrl),canUseGather:!!((b=this.params)!=null&&b.enableGather),canUseFollow:!!((g=this.params)!=null&&g.enableFollow),canUseGoTo:!!((w=this.params)!=null&&w.enableGoTo),canUseDefaultToolbar:((_=this.params)==null?void 0:_.defaultToolbar)??!0,camerasPosition:(x=(S=this.params)==null?void 0:S.collaborationMode)==null?void 0:x.position,devices:(C=this.params)==null?void 0:C.devices,skipMeetingSettings:(I=this.params)==null?void 0:I.skipMeetingSettings,browserService:this.browserService,offset:(k=this.params)==null?void 0:k.offset,locales:((P=this.params)==null?void 0:P.locales)??[],avatars:((D=this.params)==null?void 0:D.avatars)??[],customColors:me.get("colors"),waterMark:me.get("waterMark"),styles:(j=this.params)==null?void 0:j.styles,collaborationMode:((B=(L=this.params)==null?void 0:L.collaborationMode)==null?void 0:B.enabled)??!0,layoutPosition:((ie=(Q=this.params)==null?void 0:Q.collaborationMode)==null?void 0:ie.enabled)===!1?"center":((be=(te=this.params)==null?void 0:te.collaborationMode)==null?void 0:be.modalPosition)??"center",layoutMode:((ke=(we=this.params)==null?void 0:we.collaborationMode)==null?void 0:ke.initialView)??"list",callbacks:(oe=this.params)==null?void 0:oe.callbacks},this.logger.log("video conference @ start video",this.videoConfig),this.videoManager=new Wd(this.videoConfig),this.subscribeToVideoEvents()};this.subscribeToVideoEvents=()=>{this.logger.log("video conference @ subscribe to video events"),this.videoManager.meetingConnectionObserver.subscribe(this.connectionService.updateMeetingConnectionStatus),this.videoManager.participantListObserver.subscribe(this.onParticipantListUpdate),this.videoManager.waitingForHostObserver.subscribe(this.onWaitingForHost),this.videoManager.frameSizeObserver.subscribe(this.onFrameSizeDidChange),this.videoManager.meetingStateObserver.subscribe(this.onMeetingStateChange),this.videoManager.frameStateObserver.subscribe(this.onFrameStateChange),this.videoManager.realtimeEventsObserver.subscribe(this.onRealtimeEventFromFrame),this.videoManager.participantJoinedObserver.subscribe(this.onParticipantJoined),this.videoManager.participantLeftObserver.subscribe(this.onParticipantLeft),this.videoManager.sameAccountErrorObserver.subscribe(this.onSameAccountError),this.videoManager.devicesObserver.subscribe(this.onDevicesChange)};this.unsubscribeFromVideoEvents=()=>{this.videoManager&&(this.logger.log("video conference @ unsubscribe from video events"),this.videoManager.meetingConnectionObserver.unsubscribe(this.connectionService.updateMeetingConnectionStatus),this.videoManager.participantListObserver.unsubscribe(this.onParticipantListUpdate),this.videoManager.waitingForHostObserver.unsubscribe(this.onWaitingForHost),this.videoManager.frameSizeObserver.unsubscribe(this.onFrameSizeDidChange),this.videoManager.meetingStateObserver.unsubscribe(this.onMeetingStateChange),this.videoManager.frameStateObserver.unsubscribe(this.onFrameStateChange),this.videoManager.realtimeEventsObserver.unsubscribe(this.onRealtimeEventFromFrame),this.videoManager.participantJoinedObserver.unsubscribe(this.onParticipantJoined),this.videoManager.participantLeftObserver.unsubscribe(this.onParticipantLeft),this.videoManager.sameAccountErrorObserver.unsubscribe(this.onSameAccountError),this.videoManager.devicesObserver.unsubscribe(this.onDevicesChange))};this.suscribeToRealtimeEvents=()=>{this.logger.log("video conference @ subscribe to realtime events"),this.room.presence.on(ge.UPDATE,this.onParticipantUpdateOnRealtime),this.room.presence.on(ge.JOINED_ROOM,this.onParticipantJoinedOnRealtime),this.room.presence.on(ge.LEAVE,this.onParticipantLeftOnRealtime)};this.unsubscribeFromRealtimeEvents=()=>{var e;this.logger.log("video conference @ unsubscribe from realtime events"),this.room.presence.off(ge.UPDATE),this.room.presence.off(ge.LEAVE),this.room.presence.off(ge.JOINED_ROOM),(e=this.roomState)==null||e.kickParticipantObserver.unsubscribe(this.onKickLocalParticipant)};this.subscribeToStoreUpdates=()=>{let{localParticipant:e,group:n,participants:i}=this.useStore("global-store");i.subscribe(h=>{let f=Object.values(h);this.onRealtimeParticipantsDidChange(f)});let{drawing:o,hostId:s,isGridModeEnabled:a,transcript:c,followParticipantId:l,gather:p}=this.useStore("video-store");e.subscribe(h=>{this.localParticipant={...this.localParticipant,...h,type:this.params.userType}}),o.subscribe(this.setDrawing),s.subscribe(this.setHost),a.subscribe(this.setGridMode),c.subscribe(this.setTranscript),l.subscribe(this.setFollowParticipant),p.subscribe(this.setGather),n.subscribe()};this.createParticipantFromPresence=e=>{var n;return{participantId:e.id,id:e.id,color:((n=e.data.slot)==null?void 0:n.color)||Xt.gray,avatar:e.data.avatar,type:e.data.type,name:e.data.name,isHost:e.data.isHost,timestamp:e.timestamp,slot:e.data.slot}};this.onFrameSizeDidChange=e=>{this.publish("frame.dimensions-update",e)};this.onWaitingForHost=e=>{this.publish("meeting.waiting-for-host",e)};this.onConnectionStatusChange=e=>{this.logger.log("video conference @ on connection status change",e);let n=[2,4,3,6];n.includes(e)&&this.roomState.freezeSync(!0),n.includes(this.connectionService.oldConnectionStatus)&&!n.includes(e)&&this.roomState.freezeSync(!1),this.publish("meeting.connection-status-change",e)};this.onMeetingStateChange=e=>{this.logger.log("video conference @ on meeting state change",e),this.publish("meeting.state-update",e)};this.onSameAccountError=e=>{this.publish("meeting.same-participant-error",e),this.detach()};this.onDevicesChange=e=>{this.publish("meeting.devices-change",e)};this.onFrameStateChange=e=>{this.logger.log("video conference @ on frame state change",e),e===2&&(this.roomState=new Hb(this.room,this.drawingRoom,this.logger),this.roomState.kickParticipantObserver.subscribe(this.onKickLocalParticipant),this.roomState.start(),this.params.userType!=="guest"&&(this.localParticipant=Object.assign(this.localParticipant,{type:this.params.userType}),this.roomState.updateMyProperties({...this.localParticipant})),this.videoManager.start({group:this.group,participant:this.localParticipant,roomId:me.get("roomId")}),this.publish("meeting.start"))};this.onRealtimeEventFromFrame=({event:e,data:n})=>{this.logger.log("video conference @ on realtime event from frame",e,n);let i={"realtime.host-change":o=>this.roomState.setHost(o),"realtime.gather":o=>this.roomState.setGather(o),"realtime.grid-mode-change":o=>this.roomState.setGridMode(o),"realtime.drawing-change":o=>{this.roomState.setDrawing(o)},"realtime.follow-participant":o=>{this.roomState.setFollowParticipant(o)},"meeting.kick-participant":o=>{this.roomState.setKickParticipant(o)},"realtime.transcript-change":o=>{this.roomState.setTranscript(o)},"realtime.go-to-participant":o=>{this.eventBus.publish("realtime.go-to-participant",o)}}[e](n);this.publish(e,n)};this.onParticipantJoined=e=>{var s;this.logger.log("video conference @ on participant joined",e),this.publish("meeting.participant-joined",e),this.publish("my-participant.joined",e),this.kickParticipantsOnHostLeave=!((s=this.params)!=null&&s.allowGuests);let{localParticipant:n,participants:i}=this.useStore("global-store"),o=e.name.trim();if(this.videoConfig.canUseDefaultAvatars){this.roomState.updateMyProperties({avatar:e.avatar,name:e.name,type:e.type,joinedMeeting:!0}),$d.updateLocalParticipant({...n.value,avatar:e.avatar,name:e.name,type:this.params.userType}),$d.updateParticipantsList({...i.value,[e.id]:{...i.value[e.id],avatar:e.avatar,name:e.name}});return}$d.updateLocalParticipant({...n.value,name:o,type:this.params.userType}),$d.updateParticipantsList({...i.value,[e.id]:{...i.value[e.id],name:o,type:this.params.userType}}),this.roomState.updateMyProperties({name:e.name,type:e.type,joinedMeeting:!0})};this.onParticipantLeft=e=>{var o,s;this.logger.log("video conference @ on participant left",this.localParticipant);let{localParticipant:n,participants:i}=this.useStore("global-store");n.publish({...n.value,activeComponents:(o=n.value.activeComponents)==null?void 0:o.filter(a=>a!=="videoConference")}),i.publish({...i.value,[this.localParticipant.id]:{...n.value,activeComponents:(s=n.value.activeComponents)==null?void 0:s.filter(a=>a!=="videoConference")}}),this.connectionService.removeListeners(),this.publish("my-participant.left",this.localParticipant),this.unsubscribeFromVideoEvents(),this.videoManager.leave(),this.videoManager=void 0,this.connectionService=void 0,this.detach()};this.onParticipantListUpdate=e=>{this.logger.log("video conference @ on participant list update",e);let n=Object.values(e).map(i=>{var o;return{id:i.id,slot:i.slot,avatar:i.avatar,name:i.name,type:i.type,isHost:i.isHost??!1,timestamp:i.timestamp,color:((o=i.slot)==null?void 0:o.color)||Xt.gray}});this.publish("meeting.participant-list-update",n),this.participantsOnMeeting.length!==n.length&&this.publish("meeting.amount-of-participants-update",n.length),this.participantsOnMeeting=n,this.validateIfInTheRoomHasHost()};this.onKickLocalParticipant=()=>{this.logger.log("video conference @ on kick local participant"),this.publish("meeting.kick-participant",this.localParticipant),this.detach()};this.setDrawing=e=>{var n;(n=this.videoManager)==null||n.publishMessageToFrame("realtime.drawing-change",e)};this.setHost=e=>{var n;(n=this.videoManager)==null||n.publishMessageToFrame("realtime.host-change",e),this.onHostParticipantDidChange(e)};this.setGridMode=e=>{var n;(n=this.videoManager)==null||n.publishMessageToFrame("realtime.grid-mode-change",e)};this.setTranscript=e=>{var n;(n=this.videoManager)==null||n.publishMessageToFrame("realtime.transcript-change",e)};this.setFollowParticipant=e=>{var n;(n=this.videoManager)==null||n.publishMessageToFrame("realtime.follow-participant",e),this.eventBus.publish("realtime.follow-participant",e)};this.setGather=e=>{if(!this.videoManager||!e)return;let{hostId:n,gather:i}=this.useStore("video-store");if(i.publish(!1),n.value!==this.localParticipant.id){this.eventBus.publish("realtime.go-to-participant",n.value);return}this.videoManager.publishMessageToFrame("realtime.gather",e)};this.onRealtimeParticipantsDidChange=e=>{var i;this.logger.log("video conference @ on participants did change",e);let n=e.map(o=>{var s;return{id:o.id,timestamp:o.timestamp,participantId:o.id,color:((s=o.slot)==null?void 0:s.color)||Xt.gray,name:o.name,isHost:o.isHost??!1,avatar:o.avatar,type:o.type,slot:o.slot}});(i=this.videoManager)==null||i.publishMessageToFrame("realtime.participant-list-update",n)};this.onHostParticipantDidChange=e=>{var s,a;this.logger.log("video conference @ on host participant did change",e),(s=this.videoManager)==null||s.publishMessageToFrame("realtime.host-change",e);let{participants:n}=this.useStore("global-store"),i=Object.values(n.value).find(c=>c.id===e),o=i?{id:i.id,color:((a=i.slot)==null?void 0:a.color)||Xt.gray,avatar:i.avatar,type:i.type,name:i.name,isHost:i.id===e}:null;ts&&o&&(this.logger.log("video conference @ on host participant did change - clear kick all participants timeout"),clearTimeout(ts),ts=null),this.publish("meeting.host-change",o)};this.onHostAvailabilityChange=e=>{if(this.logger.log("launcher service @ onHostAvailabilityChange"),e){this.publish("meeting.host-available");return}this.publish("meeting.no-host-available")};this.onParticipantJoinedOnRealtime=e=>{this.logger.log("video conference @ on participant joined on realtime",e),this.publish("meeting.participant-joined",this.createParticipantFromPresence(e)),e.id===this.localParticipant.id&&this.room.presence.update(this.localParticipant)};this.onParticipantLeftOnRealtime=e=>{this.logger.log("video conference @ on participant left on realtime",e),this.publish("meeting.participant-left",this.createParticipantFromPresence(e))};this.onParticipantUpdateOnRealtime=e=>{this.logger.log("video conference @ on participant update on realtime",e);let{localParticipant:n,participants:i}=this.useStore("global-store");e.data.id===this.localParticipant.id&&this.publish("my-participant.update",this.createParticipantFromPresence(e)),i.publish({...i.value,[e.data.id]:{...n.value,...e.data}})};this.validateIfInTheRoomHasHost=()=>{var c,l;if(!this.roomState)return;let{hostId:e}=this.useStore("video-store"),{participants:n}=this.useStore("global-store"),i=Object.values(n.value),o=i.filter(p=>p.type==="host"&&this.participantsOnMeeting.some(h=>h.id===p.id));!o.length&&this.kickParticipantsOnHostLeave&&((c=this.localParticipant)==null?void 0:c.type)!=="host"&&!ts&&(this.logger.log("video conference @ validate if in the room has host - init kick all participants timeout"),ts=setTimeout(()=>{this.logger.log("video conference @ validate if in the room has host - kick all participants"),this.onKickLocalParticipant()},Kse)),o.length&&ts&&(this.logger.log("video conference @ validade if in the room has host - clear kick all participants timeout"),clearTimeout(ts),ts=null),this.onHostAvailabilityChange(!!o.length);let s=i.find(p=>(p==null?void 0:p.id)===(e==null?void 0:e.value));if(!o.length||s)return;let a=o.reduce((p,h)=>(this.logger.log("video conference @ validate if in the room has host - reducing participants",{previous:p,current:h}),!p||(h==null?void 0:h.id)===e.value?h:(h==null?void 0:h.timestamp)>p.timestamp?p:h),null);this.room.presence.update({...this.localParticipant,isHost:a.id===this.localParticipant.id}),!(!a||a.id!==((l=this.localParticipant)==null?void 0:l.id))&&(this.logger.log("video conference @ validate if in the room has host - set host",a),e.publish(a.id),this.roomState.setHost(a.id))};this.params={...e,userType:(e==null?void 0:e.participantType)??(e==null?void 0:e.userType)??"guest"},this.name="videoConference",this.logger=new He("@superviz/sdk/videoConference"),this.browserService=new zb,this.connectionService=new Vb,this.connectionService.addListeners(),this.connectionService.connectionStatusObserver.subscribe(this.onConnectionStatusChange)}toggleMeetingSetup(){var e;return(e=this.videoManager)==null?void 0:e.publishMessageToFrame("meeting-controls.toggle-setup")}toggleMicrophone(){var e;if(this.localParticipant.type==="audience"){console.warn("[SuperViz] Audience cannot toggle microphone");return}return(e=this.videoManager)==null?void 0:e.publishMessageToFrame("meeting-controls.toggle-microphone")}toggleCam(){var e;if(this.localParticipant.type==="audience"){console.warn("[SuperViz] Audience cannot toggle camera");return}(e=this.videoManager)==null||e.publishMessageToFrame("meeting-controls.toggle-cam")}toggleScreenShare(){var e;if(this.localParticipant.type==="audience"){console.warn("[SuperViz] Audience cannot toggle screen share");return}return(e=this.videoManager)==null?void 0:e.publishMessageToFrame("meeting-controls.toggle-screenshare")}toggleChat(){var e;return(e=this.videoManager)==null?void 0:e.publishMessageToFrame("meeting-controls.toggle-chat")}toggleRecording(){var e;if(this.localParticipant.isHost){console.warn("[SuperViz] Only host can toggle recording");return}return(e=this.videoManager)==null?void 0:e.publishMessageToFrame("meeting-controls.toggle-recording")}hangUp(){var e;(e=this.videoManager)==null||e.publishMessageToFrame("hang-up")}start(){this.logger.log("video conference @ start"),this.drawingRoom=this.ioc.createRoom("drawing"),this.subscribeToStoreUpdates(),this.suscribeToRealtimeEvents(),this.startVideo()}destroy(){var n,i,o;this.logger.log("video conference @ destroy");let{destroy:e}=this.useStore("video-store");e(),(n=this.roomState)==null||n.destroy(),this.drawingRoom.disconnect(),this.kickParticipantsOnHostLeave=!1,this.publish("destroy"),this.unsubscribeFromRealtimeEvents(),this.unsubscribeFromVideoEvents(),(i=this.videoManager)==null||i.leave(),(o=this.connectionService)==null||o.removeListeners()}};v();v();var qN=wr(fs());Rr();$t();Wu();var Jb=class extends vr{constructor(e,n){var o;super();this.camera={x:0,y:0,screen:{width:0,height:0},scale:1};this.subscribeToRealtimeEvents=()=>{this.logger.log("presence-mouse component @ subscribe to realtime events"),this.room.presence.on(ge.JOINED_ROOM,this.onPresenceJoinedRoom),this.room.presence.on(ge.LEAVE,this.onPresenceLeftRoom),this.room.presence.on(ge.UPDATE,this.onPresenceUpdate)};this.unsubscribeFromRealtimeEvents=()=>{this.logger.log("presence-mouse component @ unsubscribe from realtime events"),this.room.presence.off(ge.JOINED_ROOM),this.room.presence.off(ge.LEAVE),this.room.presence.off(ge.UPDATE)};this.setParticipantPrivate=e=>{this.isPrivate=e,this.room.presence.update({visible:!e})};this.onPresenceJoinedRoom=e=>{e.id===this.localParticipant.id&&this.room.presence.update(this.localParticipant)};this.onPresenceLeftRoom=e=>{this.removePresenceMouseParticipant(e.id)};this.onPresenceUpdate=e=>{if(this.following&&this.presences.get(this.following)&&this.goToMouse(this.following),e.id===this.localParticipant.id)return;let n=e.data;if(this.following&&n.id!==this.following&&this.presences.has(n.id)){this.removePresenceMouseParticipant(n.id);return}this.presences.set(n.id,n)};this.animate=()=>{this.getCamera(),this.renderDivWrapper(),this.updateParticipantsMouses(),requestAnimationFrame(this.animate)};this.goToMouse=e=>{let n=this.presences.get(e);if(!(n!=null&&n.camera))return;let i=n.camera.x,o=n.camera.y,s=this.divWrapper.clientHeight/n.camera.screen.height,a=Math.min(s,1),c=this.divWrapper.clientWidth/n.camera.screen.width,l=Math.min(c,1);this.goToMouseCallback&&this.goToMouseCallback({x:i,y:o,scaleX:a,scaleY:l})};this.onMyParticipantMouseMove=(0,qN.throttle)(e=>{let n=this.canvas.getContext("2d"),i=this.canvas.getBoundingClientRect(),o=e.x-i.left,s=e.y-i.top,c=(n==null?void 0:n.getTransform()).inverse(),l=new DOMPoint(o,s).matrixTransform(c),p={x:l.x,y:l.y};this.room.presence.update({...this.localParticipant,...p,visible:!this.isPrivate,camera:this.camera})},30);this.onMyParticipantMouseOut=e=>{let{x:n,y:i,width:o,height:s}=this.canvas.getBoundingClientRect();e.x>0&&e.y>0&&e.x<n+o&&e.y<i+s||this.room.presence.update({visible:!1})};this.updateParticipantsMouses=()=>{this.presences.forEach(e=>{if(!(e!=null&&e.visible)||this.following&&this.following!==e.id){this.removePresenceMouseParticipant(e.id);return}this.renderPresenceMouses(e)})};this.getCamera=()=>{var a;let e=(a=this.canvas)==null?void 0:a.getContext("2d"),n=e==null?void 0:e.getTransform(),i=n==null?void 0:n.e,o=n==null?void 0:n.f,s=n==null?void 0:n.a;this.camera={screen:{width:this.divWrapper.clientHeight,height:this.divWrapper.clientWidth},x:i,y:o,scale:s}};this.renderPresenceMouses=e=>{var I,k,P;let i=document.getElementById(`mouse-${e.id}`);i||(i=this.createMouseElement(e));let o=document.getElementById(`mouse-${e.id}`),s=document.getElementById(`mouse-${e.id}`);if(!o||!s)return;let a=o.getElementsByClassName("mouse-user-name")[0],c=s.getElementsByClassName("pointer-mouse")[0];c&&(c.style.backgroundImage=`url(https://production.cdn.superviz.com/static/mouse-pointers/${(I=e.slot)==null?void 0:I.colorName}.svg)`),a&&(a.style.color=((k=e.slot)==null?void 0:k.textColor)??"#fff",a.style.backgroundColor=((P=e.slot)==null?void 0:P.color)??Xt.gray,a.innerHTML=e.name);let{x:l,y:p}=e,h=this.canvas.getContext("2d"),f=h==null?void 0:h.getTransform(),b=f==null?void 0:f.e,g=f==null?void 0:f.f,w=f.a,_=f.d,S=l*w+b,x=p*_+g,C=this.divWrapper.clientWidth>S&&this.divWrapper.clientHeight>x&&e.visible;i.style.opacity=C?"1":"0",i.style.left=`${S}px`,i.style.top=`${x}px`};this.followMouse=e=>{this.following=e,this.goToMouse(e)};if(this.name="presence",this.logger=new He("@superviz/sdk/presence"),this.canvas=document.getElementById(e),this.presences=new Map,!this.canvas){let s=`Canvas with id ${e} not found`;throw this.logger.log(s),new Error(s)}this.divWrapper=this.renderDivWrapper(),this.animateFrame=requestAnimationFrame(this.animate),this.goToMouseCallback=(o=n==null?void 0:n.callbacks)==null?void 0:o.onGoToPresence;let{localParticipant:i}=this.useStore("global-store");i.subscribe(),this.getCamera()}start(){this.logger.log("presence-mouse component @ start"),this.canvas.addEventListener("mousemove",this.onMyParticipantMouseMove),this.canvas.addEventListener("mouseout",this.onMyParticipantMouseOut),this.eventBus.subscribe("realtime.go-to-participant",this.goToMouse),this.eventBus.subscribe("realtime.local-follow-participant",this.followMouse),this.eventBus.subscribe("realtime.private-mode",this.setParticipantPrivate),this.subscribeToRealtimeEvents()}destroy(){this.logger.log("presence-mouse component @ destroy"),this.eventBus.unsubscribe("realtime.go-to-participant",this.goToMouse),this.eventBus.unsubscribe("realtime.local-follow-participant",this.followMouse),this.eventBus.unsubscribe("realtime.private-mode",this.setParticipantPrivate),this.unsubscribeFromRealtimeEvents(),cancelAnimationFrame(this.animateFrame),this.canvas.removeEventListener("mousemove",this.onMyParticipantMouseMove),this.canvas.removeEventListener("mouseout",this.onMyParticipantMouseOut),this.divWrapper.remove()}renderDivWrapper(){let e=this.canvas.getBoundingClientRect(),n=document.getElementById("superviz-presence-mouse-wrapper");return n||(n=document.createElement("div"),n.id="superviz-presence-mouse-wrapper",this.canvas.parentElement.style.position="relative",this.canvas.parentElement.appendChild(n)),n.style.position="fixed",n.style.top=`${e.top}px`,n.style.left=`${e.left}px`,n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.pointerEvents="none",n.style.overflow="hidden",n.style.zIndex="2",n}removePresenceMouseParticipant(e){let n=document.getElementById(`mouse-${e}`);n&&(n.remove(),this.presences.delete(e))}createMouseElement(e){let n=document.createElement("div");n.setAttribute("id",`mouse-${e.id}`),n.setAttribute("class","mouse-follower");let i=document.createElement("div");i.setAttribute("class","pointer-mouse");let o=document.createElement("div");return o.setAttribute("class","mouse-user-name"),o.innerHTML=e.name,n.appendChild(i),n.appendChild(o),n.style.left="0px",n.style.top="0px",this.divWrapper.appendChild(n),n}transform(e){console.warn("[SuperViz] - transform method not available when container is a canvas element.")}};v();var BN=wr(fs()),Qb=wr(Kv());Rr();$t();v();var Yb=(g=>(g.AREA="area",g.BASE="base",g.BR="br",g.COL="col",g.EMBED="embed",g.HR="hr",g.IMG="img",g.INPUT="input",g.LINK="link",g.META="meta",g.PARAM="param",g.SOURCE="source",g.TRACK="track",g.WBR="wbr",g))(Yb||{}),Kb=(n=>(n.RECT="rect",n.ELLIPSE="ellipse",n.SVG="svg",n))(Kb||{});Wu();var Xb=class extends vr{constructor(e,n){var o;super();this.presences=new Map;this.mouses=new Map;this.transformation={translate:{x:0,y:0},scale:1};this.onMyParticipantMouseMove=e=>{if(this.isPrivate)return;let n=e.currentTarget,{left:i,top:o}=n.getBoundingClientRect(),s=(e.x-i-this.transformation.translate.x)/this.transformation.scale,a=(e.y-o-this.transformation.translate.y)/this.transformation.scale;this.room.presence.update({...this.localParticipant,x:s,y:a,visible:!0,camera:this.camera})};this.onMyParticipantMouseLeave=e=>{if(typeof window>"u")return;let{left:n,top:i,right:o,bottom:s}=this.container.getBoundingClientRect(),a=e.x>n&&e.y>i&&e.x<o&&e.y<s,c=e.x>0&&e.y>0&&e.x<window.innerWidth&&e.y<window.innerHeight;a&&c||this.room.presence.update({visible:!1})};this.goToMouse=e=>{let n=this.mouses.get(e),i=this.presences.get(e);if(i){if(this.goToPresenceCallback){let o=this.camera.screen.width/i.camera.screen.width,s=this.camera.screen.height/i.camera.screen.height,a=i.camera.x*o,c=i.camera.y*s,l=i.camera.scale*o,p=i.camera.scale*s;this.goToPresenceCallback({x:a,y:c,scaleX:l,scaleY:p});return}n&&n.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})}};this.followMouse=e=>{this.userBeingFollowedId=e,this.goToMouse(e)};this.setParticipantPrivate=e=>{this.isPrivate=e,this.room.presence.update({visible:!e})};this.onPresenceJoinedRoom=e=>{e.id===this.localParticipant.id&&this.room.presence.update(this.localParticipant)};this.onPresenceLeftRoom=e=>{this.removePresenceMouseParticipant(e.id)};this.onPresenceUpdate=e=>{if(e.id===this.localParticipant.id)return;let n=e.data;if(this.userBeingFollowedId&&n.id!==this.userBeingFollowedId&&this.presences.has(n.id)){this.removePresenceMouseParticipant(n.id);return}this.presences.set(n.id,n),this.animate(),this.updateParticipantsMouses()};this.animate=()=>{Yb[this.containerTagname]&&this.updateVoidElementWrapper(),Kb[this.containerTagname]&&this.updateSVGElementWrapper(),this.animationFrame=requestAnimationFrame(this.animate)};this.updateParticipantsMouses=e=>{if(this.presences.forEach(i=>{if(i.id!==this.localParticipant.id){if(!(i!=null&&i.visible)){this.removePresenceMouseParticipant(i.id);return}this.renderPresenceMouses(i)}}),e)return;this.presences.has(this.userBeingFollowedId)&&this.goToMouse(this.userBeingFollowedId)};this.renderPresenceMouses=e=>{var h,f,b;if(e.id===this.localParticipant.id)return;let n=document.getElementById(`mouse-${e.id}`);if(n||(n=this.createMouseElement(e)),!n)return;let i=n.getElementsByClassName("mouse-user-name")[0],o=n.getElementsByClassName("pointer-mouse")[0];o&&(o.style.backgroundImage=`url(https://production.cdn.superviz.com/static/mouse-pointers/${(h=e.slot)==null?void 0:h.colorName}.svg)`),i&&(i.style.color=((f=e.slot)==null?void 0:f.textColor)??Xt.gray,i.style.backgroundColor=((b=e.slot)==null?void 0:b.color)??"#fff",i.innerHTML=e.name);let{x:s,y:a}=e,{translate:{x:c,y:l},scale:p}=this.transformation;n.style.left=`${c+s*p}px`,n.style.top=`${l+a*p}px`};this.renderVoidElementWrapper=()=>{let e=document.createElement("div"),{width:n,height:i,left:o,top:s}=this.container.getBoundingClientRect();e.style.position="absolute",e.style.width=`${n}px`,e.style.height=`${i}px`,e.style.top=`${s}px`,e.style.left=`${o}px`,e.style.overflow="visible",e.style.pointerEvents="none",this.container.parentElement.appendChild(e),this.wrapper=e};this.renderSVGElementWrapper=()=>{let e=this.containerTagname.toLowerCase();if(e==="svg"){this.createSVGWrapper();return}if(e==="rect"){this.createRectWrapper();return}e==="ellipse"&&this.createEllipseWrapper()};if(this.container=document.getElementById(e),this.logger=new He("@superviz/sdk/presence"),!this.container){let s=`Element with id ${e} not found`;throw this.logger.log(s),new Error(s)}this.camera={x:0,y:0,scale:1,screen:{width:this.container.clientWidth,height:this.container.clientHeight}},this.name="presence";let{localParticipant:i}=this.useStore("global-store");i.subscribe(),this.containerTagname=this.container.tagName.toUpperCase(),this.goToPresenceCallback=(o=n==null?void 0:n.callbacks)==null?void 0:o.onGoToPresence}start(){this.logger.log("presence-mouse component @ start"),this.renderWrapper(),this.addListeners(),this.subscribeToRealtimeEvents(),this.eventBus.subscribe("realtime.private-mode",this.setParticipantPrivate),this.animationFrame=requestAnimationFrame(this.animate),this.eventBus.subscribe("realtime.go-to-participant",this.goToMouse),this.eventBus.subscribe("realtime.local-follow-participant",this.followMouse)}destroy(){cancelAnimationFrame(this.animationFrame),this.logger.log("presence-mouse component @ destroy"),this.removeListeners(),this.wrapper.remove(),this.presences.clear(),this.presences=void 0,this.container=void 0,this.wrapper=void 0,this.unsubscribeFromRealtimeEvents(),this.eventBus.unsubscribe("realtime.private-mode",this.setParticipantPrivate),this.eventBus.unsubscribe("realtime.go-to-participant",this.goToMouse),this.eventBus.unsubscribe("realtime.local-follow-participant",this.followMouse),this.logger=void 0}subscribeToRealtimeEvents(){this.logger.log("presence-mouse component @ subscribe to realtime events"),this.room.presence.on(ge.JOINED_ROOM,this.onPresenceJoinedRoom),this.room.presence.on(ge.LEAVE,this.onPresenceLeftRoom),this.room.presence.on(ge.UPDATE,this.onPresenceUpdate)}unsubscribeFromRealtimeEvents(){this.logger.log("presence-mouse component @ unsubscribe from realtime events"),this.room.presence.off(ge.JOINED_ROOM),this.room.presence.off(ge.LEAVE),this.room.presence.off(ge.UPDATE)}addListeners(){this.pointerMoveObserver=(0,Qb.fromEvent)(this.container,"pointermove").pipe((0,Qb.throttleTime)(30)).subscribe(this.onMyParticipantMouseMove),this.container.addEventListener("pointerleave",this.onMyParticipantMouseLeave)}removeListeners(){var e;(e=this.pointerMoveObserver)==null||e.unsubscribe(),this.container.removeEventListener("pointerleave",this.onMyParticipantMouseLeave)}setPositionNotStatic(){let{position:e}=window.getComputedStyle(this.container);e==="static"&&this.container.style.setProperty("position","relative")}createMouseElement(e){if(!this.wrapper)return;let n=document.createElement("div");n.setAttribute("id",`mouse-${e.id}`),n.setAttribute("class","mouse-follower");let i=document.createElement("div");i.setAttribute("class","pointer-mouse");let o=document.createElement("div");return o.setAttribute("class","mouse-user-name"),o.innerHTML=e.name,n.appendChild(i),n.appendChild(o),n.style.left="0px",n.style.top="0px",this.wrapper.appendChild(n),this.mouses.set(e.id,n),n}updateSVGPosition(){let e=this.container.parentElement.getBoundingClientRect(),n=this.container.getBoundingClientRect(),i=n.left-e.left,o=n.top-e.top,{width:s,height:a}=this.container.getBoundingClientRect();this.wrapper.style.setProperty("width",`${s}px`),this.wrapper.style.setProperty("height",`${a}px`),this.wrapper.style.setProperty("top",`${o}px`),this.wrapper.style.setProperty("left",`${i}px`)}createSVGWrapper(){let e=document.createElement("div"),n=this.container.parentElement.getBoundingClientRect(),i=this.container.getBoundingClientRect(),o=i.left-n.left,s=i.top-n.top,{width:a,height:c}=this.container.getBoundingClientRect();e.style.position="fixed",e.style.width=`${a}px`,e.style.height=`${c}px`,e.style.top=`${s}px`,e.style.left=`${o}px`,e.style.overflow="visible",e.style.pointerEvents="none",e.id="superviz-svg-wrapper",this.container.parentElement.appendChild(e),this.wrapper=e}createRectWrapper(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","rect"),i=document.createElement("div"),o=this.container.getAttribute("width"),s=this.container.getAttribute("height"),a=this.container.getAttribute("rx"),c=this.container.getAttribute("ry");n.setAttribute("fill","transparent"),n.setAttribute("stroke","transparent"),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("rx",a),n.setAttribute("ry",c),n.setAttribute("height",s),n.setAttribute("width",o),e.setAttribute("height",s),e.setAttribute("width",o),e.appendChild(n),i.appendChild(e);let l=this.container.getBoundingClientRect();i.style.position="fixed",i.style.top=`${l.top}px`,i.style.left=`${l.left}px`,i.style.width=`${l.width}px`,i.style.height=`${l.height}px`,i.style.overflow="visible",i.style.pointerEvents="none",i.id="superviz-rect-wrapper";let p=this.container.viewportElement;for(;p.viewportElement;)p=p.viewportElement;p.parentElement.appendChild(i),this.wrapper=i}createEllipseWrapper(){let e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),i=document.createElement("div"),o=this.container.getAttribute("cx"),s=this.container.getAttribute("cy"),a=this.container.getAttribute("rx"),c=this.container.getAttribute("ry"),l=Number(o)-Number(a),p=Number(s)-Number(c),h=String(2*Number(o)),f=String(2*Number(s));n.setAttribute("fill","transparent"),n.setAttribute("stroke","transparent"),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("rx",a),n.setAttribute("ry",c),n.setAttribute("cx",`${Number(o)-l}`),n.setAttribute("cy",`${Number(s)-p}`),n.setAttribute("height",f),n.setAttribute("width",h),e.setAttribute("height",f),e.setAttribute("width",h),e.appendChild(n),i.appendChild(e);let b=this.container.getBoundingClientRect();i.style.position="fixed",i.style.top=`${b.top}px`,i.style.left=`${b.left}px`,i.style.width=`${b.width}px`,i.style.height=`${b.height}px`,i.style.overflow="visible",i.style.pointerEvents="none",i.id="superviz-ellipse-wrapper";let g=this.container.viewportElement;for(;g.viewportElement;)g=g.viewportElement;g.parentElement.appendChild(i),this.wrapper=i}transform(e){var n,i;this.transformation=e,this.camera={x:e.translate.x,y:e.translate.y,scale:e.scale,screen:{width:((n=this.wrapper)==null?void 0:n.clientWidth)||1,height:((i=this.wrapper)==null?void 0:i.clientHeight)||1}},this.updateParticipantsMouses(!0)}updateVoidElementWrapper(){let e=this.container.getBoundingClientRect(),n=this.wrapper.getBoundingClientRect(),i=this.container;if((0,BN.isEqual)(e,n))return;let o=i.offsetLeft,s=i.offsetTop;this.wrapper.style.setProperty("width",`${e.width}px`),this.wrapper.style.setProperty("height",`${e.height}px`),this.wrapper.style.setProperty("top",`${s}px`),this.wrapper.style.setProperty("left",`${o}px`),this.wrapper.id="superviz-void-wrapper"}updateSVGElementWrapper(){let{left:e,top:n,width:i,height:o}=this.container.getBoundingClientRect(),{left:s,top:a,width:c,height:l}=this.wrapper.getBoundingClientRect();if(!(e===s&&n===a&&i===c&&o===l)){if(this.containerTagname.toLowerCase()==="svg"){this.updateSVGPosition();return}this.wrapper.style.setProperty("width",`${i}px`),this.wrapper.style.setProperty("height",`${o}px`),this.wrapper.style.setProperty("top",`${n}px`),this.wrapper.style.setProperty("left",`${e}px`)}}renderWrapper(){if(!this.wrapper){if(Yb[this.containerTagname]){this.renderVoidElementWrapper();return}if(Kb[this.containerTagname]){this.renderSVGElementWrapper();return}this.renderElementWrapper()}}removePresenceMouseParticipant(e){let n=document.getElementById(`mouse-${e}`);n&&(n.remove(),this.presences.delete(e),this.mouses.delete(e))}renderElementWrapper(){let e=document.createElement("div");e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.left="0",e.style.overflow="visible",e.style.pointerEvents="none",this.setPositionNotStatic(),this.container.appendChild(e),this.wrapper=e}};var hc=class{constructor(r,e){let n=document.getElementById(r);if(!n)throw new Error(`[Superviz] Container with id ${r} not found`);return n.tagName.toLowerCase()==="canvas"?new Jb(r,e):new Xb(r,e)}transform(r){}};v();Rr();$t();v();var WN=wr(l_());v();var eg=class{constructor(r){this.room=r;this.logger=new He("@superviz/sdk/realtime-presence")}update(r){this.logger.log("Realtime Presence @ update presence",r),this.room.presence.update(r)}subscribe(r,e){this.logger.log("Realtime Presence @ subscribe",r),this.room.presence.on(r,e)}unsubscribe(r){this.logger.log("Realtime Presence @ unsubscribe",r),this.room.presence.off(r)}async getAll(){return this.logger.log("Realtime Presence @ get all"),new Promise((r,e)=>{this.room.presence.get(n=>r(n),n=>{let i=`[SuperViz] ${n.name} - ${n.message}`;this.logger.log(n),console.error(i),e(n)})})}};var Ud=class extends Mi{constructor(e,n,i,o){super();this.state="DISCONNECTED";this.callbacksToSubscribeWhenJoined=[];this.publish=(0,WN.default)((e,n)=>{if(this.state!=="CONNECTED"){let i=`Realtime channel ${this.name} is not started yet. You can't publish event ${e} before start`;this.logger.log(i),console.warn(`[SuperViz] ${i}`);return}this.channel.emit(`message:${this.name}`,{name:e,payload:n})},30);this.subscribe=(e,n)=>{if(this.state!=="CONNECTED"){this.callbacksToSubscribeWhenJoined.push({event:e,callback:n});return}this.observers[e]||(this.observers[e]=new tt),this.observers[e].subscribe(n)};this.unsubscribe=(e,n)=>{var i;(i=this.observers[e])==null||i.unsubscribe(n)};this.fetchHistory=async e=>{if(this.state!=="CONNECTED"){let i="Realtime component is not started yet. You can't retrieve history before start";return this.logger.log(i),console.warn(`[SuperViz] ${i}`),null}return await new Promise((i,o)=>{let s=a=>{var l;(l=a.events)!=null&&l.length||i(null);let c=a.events.reduce((p,h)=>{var f;return p[h.data.name]||(p[h.data.name]=[]),p[h.data.name].push({data:h.data.payload,connectionId:h.connectionId,name:h.data.name,participantId:(f=h.presence)==null?void 0:f.id,timestamp:h.timestamp}),p},{});e&&!c[e]&&o(new Error(`Event ${e} not found in the history`)),e&&i(c[e]),i(c)};this.channel.history(s)})};this.publishEventToClient=(e,n)=>{var i;this.logger.log("realtime channel @ publishEventToClient",{event:e,data:n}),(i=this.observers[e])==null||i.publish(n)};this.name=e,this.ioc=n,this.logger=new He("@superviz/sdk/realtime-channel"),this.channel=this.ioc.createRoom(`realtime:${this.name}`,o),this.localParticipant=i,this.subscribeToRealtimeEvents(),this.logger.log("started"),this.participant=new eg(this.channel)}async disconnect(){if(this.state==="DISCONNECTED"){this.logger.log("Realtime channel is already disconnected");return}this.logger.log("destroyed"),this.changeState("DISCONNECTED"),this.channel.disconnect()}changeState(e){this.logger.log("realtime component @ changeState - state changed",e),this.state=e,this.publishEventToClient("realtime-channel.state-changed",this.state)}subscribeToRealtimeEvents(){this.channel.presence.on(ge.JOINED_ROOM,e=>{e.id===this.localParticipant.id&&(this.changeState("CONNECTED"),this.callbacksToSubscribeWhenJoined.forEach(({event:n,callback:i})=>{this.subscribe(n,i)}),this.logger.log("joined room"),this.changeState("CONNECTED"))}),this.channel.on(`message:${this.name}`,e=>{var n;this.logger.log("message received",e),this.publishEventToClient(e.data.name,{data:e.data.payload,participantId:((n=e==null?void 0:e.presence)==null?void 0:n.id)??null,name:e.data.name,timestamp:e.timestamp,connectionId:e.connectionId})})}};var mc=class extends vr{constructor(){super();this.state="STOPPED";this.channels=new Map;this.callbacksToSubscribeWhenJoined=[];this.subscribe=(e,n)=>{if(!this.channel){this.callbacksToSubscribeWhenJoined.push({event:e,callback:n});return}this.channel.subscribe(e,n)};this.publish=(e,n)=>{var i;if(Ss[e.toUpperCase()]){this.channel.publishEventToClient(e,n);return}(i=this.channel)==null||i.publish(e,n)};this.unsubscribe=(e,n)=>{var i;(i=this.channel)==null||i.unsubscribe(e,n)};this.name="realtime",this.logger=new He("@superviz/sdk/realtime-component");let{localParticipant:e}=this.useStore("global-store");e.subscribe()}connect(e){if(!this.channel)return new Promise(i=>{let{localParticipant:o}=js();o.subscribe("connect-after-init",s=>{s.activeComponents.includes("realtime")&&(o.unsubscribe("connect-after-init"),i(this.connect(e)))})});let n=this.channels.get(e);return n||(n=new Ud(e,this.ioc,this.localParticipant,this.connectionLimit),this.channels.set(e,n),this.state==="STARTED")?n:new Promise(i=>{this.subscribe("realtime-component.state-changed",o=>{o==="STARTED"&&i(n)})})}start(){this.logger.log("started"),this.channel=new Ud("default",this.ioc,this.localParticipant,this.connectionLimit),this.channel.subscribe("realtime-channel.state-changed",e=>{e==="CONNECTED"&&(this.callbacksToSubscribeWhenJoined.forEach(({event:n,callback:i})=>{this.channel.subscribe(n,i)}),this.changeState("STARTED"),this.callbacksToSubscribeWhenJoined=[],this.channel.unsubscribe("realtime-channel.state-changed"),this.participant=this.channel.participant,this.channels.set("default",this.channel))})}destroy(){this.logger.log("destroyed"),this.changeState("STOPPED"),this.disconnectFromAllChannels()}disconnectFromAllChannels(){this.channels.forEach(e=>e.disconnect())}changeState(e){var n;this.logger.log("realtime component @ changeState - state changed",e),this.state=e,(n=this.channel)==null||n.publishEventToClient("realtime-component.state-changed",this.state)}};v();Rr();$t();sO();var vc=class extends vr{constructor(e){super();this.onParticipantListUpdate=e=>{if(this.localParticipantId===void 0||this.localParticipantId==="")return;if(!this.initialized){this.initialized=!0,this.initializeList();return}let n={...e.data,tooltip:this.getTooltipData(e.data),controls:this.getControls(e.data)},{participants:i,extras:o}=this.useStore("who-is-online-store");if(i.value.some(({id:l})=>l===e.data.id)){this.updateParticipant(n);return}if(o.value.some(({id:l})=>l===e.data.id)){this.updateExtra(n);return}if(i.value.length<4){i.publish([...i.value,n]);return}o.publish([...o.value,n])};this.onParticipantLeave=e=>{let{participants:n,extras:i}=this.useStore("who-is-online-store");if(n.value.findIndex(a=>a.id===e.id)===-1){let a=i.value.filter(c=>c.id!==e.id);i.publish(a);return}let s=n.value.filter(a=>a.id!==e.id);if(i.value.length){s.push(i.value[0]);let a=i.value.slice(1);i.publish(a)}n.publish(s)};this.updateParticipant=e=>{let{participants:n,extras:i}=this.useStore("who-is-online-store");if(e.isPrivate&&e.id!==this.localParticipantId){let s=n.value.filter(({id:c})=>c!==e.id),a=i.value.splice(0,1);n.publish([...s,...a]),i.publish([...i.value]);return}let o=n.value.map(s=>s.id===e.id?e:s);n.publish(o)};this.updateExtra=e=>{let{extras:n}=this.useStore("who-is-online-store");if(e.isPrivate&&e.id!==this.localParticipantId){let o=n.value.filter(({id:s})=>s!==e.id);n.publish(o);return}let i=n.value.map(o=>o.id===e.id?e:o);n.publish(i)};this.subscribeToLocalParticipantUpdates=e=>{if(!e.slot)return;this.localParticipantId=e.id;let{privateMode:n,joinedPresence:i}=this.useStore("who-is-online-store"),o=this.isInPresence(e.activeComponents);i.publish(o);let s=this.getParticipant(e);this.room.presence.update({...s,isPrivate:n.value})};this.goToMousePointer=e=>{var i,o;let n=((i=e.presence)==null?void 0:i.id)??((o=e.detail)==null?void 0:o.id);n!==this.localParticipantId&&(this.eventBus.publish("realtime.go-to-participant",n),this.publish("who-is-online.go-to-participant",n))};this.followMousePointer=({detail:e})=>{this.eventBus.publish("realtime.local-follow-participant",e.id),this.following&&this.publish("who-is-online.start-following-participant",this.following),this.following||this.publish("who-is-online.stop-following-participant"),e.source==="extras"&&this.highlightParticipantBeingFollowed(),this.updateParticipantsControls(e.id)};this.setPrivate=({detail:{isPrivate:e,id:n}})=>{let{privateMode:i,participants:o}=this.useStore("who-is-online-store"),s=o.value.find(a=>a.id===n);i.publish(e),this.eventBus.publish("realtime.private-mode",e),this.room.presence.update({...s,isPrivate:e}),e&&this.publish("who-is-online.enter-private-mode"),e||this.publish("who-is-online.leave-private-mode")};this.setFollow=e=>{let{id:n}=e.presence;if(n===this.localParticipantId)return;let{data:i}=e,{following:o}=this.useStore("who-is-online-store");o.publish(i),this.followMousePointer({detail:{id:i}})};this.follow=({detail:e})=>{let{everyoneFollowsMe:n}=this.useStore("who-is-online-store");n.publish(!!(e!=null&&e.id)),this.room.emit("who-is-online.start-follow-me",e),this.following&&this.publish("who-is-online.start-follow-me",this.following),this.following||this.publish("who-is-online.stop-follow-me"),this.updateParticipantsControls(e==null?void 0:e.id)};this.stopFollowing=e=>{var i;if(e.id!==((i=this.following)==null?void 0:i.id))return;let{following:n}=this.useStore("who-is-online-store");n.publish(void 0),this.eventBus.publish("realtime.local-follow-participant",void 0),this.publish("who-is-online.stop-following-participant")};this.gather=e=>{this.room.emit("who-is-online.gather-all",e.detail.id),this.publish("who-is-online.gather-all",e.detail.id)};this.onJoinedRoom=e=>{if(e.id!==this.localParticipantId)return;let{localParticipant:n}=this.useStore("global-store");n.subscribe(this.subscribeToLocalParticipantUpdates)};this.name="whoIsOnline",this.logger=new He("@superviz/sdk/who-is-online-component");let{disablePresenceControls:n,disableGoToParticipant:i,disableFollowParticipant:o,disablePrivateMode:s,disableGatherAll:a,disableFollowMe:c,following:l}=this.useStore("who-is-online-store");if(l.subscribe(),typeof e!="object"){this.position=e??"top-right";return}typeof e=="object"&&(this.position=e.position??"top-right",this.setStyles(e.styles),n.publish(e.disablePresenceControls),i.publish(e.disableGoToParticipant),o.publish(e.disableFollowParticipant),s.publish(e.disablePrivateMode),a.publish(e.disableGatherAll),c.publish(e.disableFollowMe))}start(){let{localParticipant:e}=this.useStore("global-store");this.localParticipantId=e.value.id,this.subscribeToRealtimeEvents(),this.positionWhoIsOnline(),this.addListeners()}destroy(){this.unsubscribeFromRealtimeEvents(),this.removeListeners(),this.element.remove(),this.element=null,this.initialized=!1;let{destroy:e}=this.useStore("who-is-online-store");e()}addListeners(){this.element.addEventListener("realtime.local-follow-participant",this.followMousePointer),this.element.addEventListener("realtime.go-to-participant",this.goToMousePointer),this.element.addEventListener("realtime.private-mode",this.setPrivate),this.element.addEventListener("realtime.follow-participant",this.follow),this.element.addEventListener("realtime.gather",this.gather)}removeListeners(){this.element.removeEventListener("realtime.local-follow-participant",this.followMousePointer),this.element.removeEventListener("realtime.go-to-participant",this.goToMousePointer),this.element.removeEventListener("realtime.private-mode",this.setPrivate),this.element.removeEventListener("realtime.follow-participant",this.follow),this.element.removeEventListener("realtime.gather",this.gather)}subscribeToRealtimeEvents(){this.room.presence.on(ge.UPDATE,this.onParticipantListUpdate),this.room.presence.on(ge.LEAVE,this.onParticipantLeave),this.room.presence.on(ge.LEAVE,this.stopFollowing),this.room.presence.on(ge.JOINED_ROOM,this.onJoinedRoom),this.room.on("who-is-online.gather-all",this.goToMousePointer),this.room.on("who-is-online.start-follow-me",this.setFollow)}unsubscribeFromRealtimeEvents(){this.room.presence.off(ge.UPDATE),this.room.presence.off(ge.LEAVE),this.room.presence.off(ge.JOINED_ROOM),this.room.off("who-is-online.gather-all",this.goToMousePointer),this.room.off("who-is-online.start-follow-me",this.setFollow)}initializeList(){let{participants:e,extras:n}=this.useStore("who-is-online-store");this.room.presence.get(i=>{let o=i.filter(l=>l.data.id).map(({data:l})=>{let p=l.avatar;p||(p=this.getAvatar({avatar:l.avatar,color:l.slot.color,name:l.name,letterColor:l.slot.textColor}));let h=this.getTooltipData(l),f=this.getControls(l);return{...l,tooltip:h,controls:f,avatar:p,isLocalParticipant:l.id===this.localParticipantId}});if(!o.length)return;let s=o.findIndex(l=>l.id===this.localParticipantId),a=o.splice(s,1)[0],c=o.splice(0,3);e.publish([a,...c]),n.publish(o)})}setStyles(e=""){if(!e)return;let n=document.createElement("style");n.textContent=e,n.id="superviz-who-is-online-styles",document.head.appendChild(n)}positionWhoIsOnline(){if(this.element=document.createElement("superviz-who-is-online"),Object.values(oO).includes(this.position.toLowerCase())){document.body.appendChild(this.element);let[i,o]=this.position.split("-");this.element.position=`${i}: 20px; ${o}: 40px;`;return}let n=document.getElementById(this.position);if(!n){this.element.position="top: 20px; right: 40px;",document.body.appendChild(this.element);return}n.appendChild(this.element),this.element.position="position: relative;"}getParticipant(e){let{avatar:n,activeComponents:i,id:o,name:s,slot:{color:a,textColor:c}}=e,l=this.shouldDisableDropdown({activeComponents:i,participantId:o}),p=this.getAvatar({avatar:n,color:a,name:s,letterColor:c});return{id:o,name:s,avatar:p,disableDropdown:l,activeComponents:i,isPrivate:!1}}shouldDisableDropdown({activeComponents:e,participantId:n}){let{joinedPresence:{value:i},disablePresenceControls:{value:o},disableFollowMe:{value:s},disableFollowParticipant:{value:a},disableGoToParticipant:{value:c},disableGatherAll:{value:l},disablePrivateMode:{value:p}}=this.useStore("who-is-online-store");return i===!1||o===!0||n===this.localParticipantId&&s&&p&&l||n!==this.localParticipantId&&a&&c?!0:!(e!=null&&e.some(h=>h.toLowerCase().includes("presence")))}getTooltipData(e){let{name:n,disableDropdown:i,id:o}=e,s=o===this.localParticipantId,a={name:n};return s&&(a.name+=" (You)"),!i&&!s&&(a.info="Click to follow"),a}getAvatar({avatar:e,color:n,name:i,letterColor:o}){var c;let s=e==null?void 0:e.imageUrl,a=((c=i==null?void 0:i.at(0))==null?void 0:c.toUpperCase())??"A";return{imageUrl:s,firstLetter:a,color:n,letterColor:o}}getControls(e){let{disablePresenceControls:n}=this.useStore("who-is-online-store"),{disableDropdown:i,id:o}=e;return n.value||i?[]:o===this.localParticipantId?this.getLocalParticipantControls():this.getOtherParticipantsControls(o)}getOtherParticipantsControls(e){var a;let{disableGoToParticipant:n,disableFollowParticipant:i,following:o}=this.useStore("who-is-online-store"),s=[];if(n.value||s.push({label:"go to",icon:"place"}),!i.value){let c=((a=o.value)==null?void 0:a.id)===e,l=c?"unfollow":"follow",p=c?"send-off":"send";s.push({label:l,icon:p})}return s}getLocalParticipantControls(){let{disableFollowMe:{value:e},disableGatherAll:{value:n},disablePrivateMode:{value:i},everyoneFollowsMe:{value:o},privateMode:{value:s}}=this.useStore("who-is-online-store"),a=[];if(n||a.push({label:"gather all",icon:"gather"}),!e){let c=o?"send-off":"send",l=o?"stop followers":"everyone follows me";a.push({label:l,icon:c})}if(!i){let c=s?"eye_inative":"eye",l=s?"leave private mode":"private mode";a.push({label:l,icon:c})}return a}updateParticipantsControls(e){let{participants:n}=this.useStore("who-is-online-store"),i=n.value.map(o=>{if(e&&o.id!==e)return o;let{id:s}=o,a=this.getControls(o);return{...o,controls:a}});n.publish(i)}highlightParticipantBeingFollowed(){let{extras:e,participants:n,following:{value:i}}=this.useStore("who-is-online-store"),o=n.value[0],s=e.value.findIndex(l=>l.id===i.id),a=e.value.splice(s,1)[0];n.value.unshift(o),n.value[1]=a;let c=n.value.pop();e.value.push(c),e.publish(e.value),n.publish(n.value)}isInPresence(e){return e==null?void 0:e.some(n=>n.includes("presence"))}};v();$t();var bc=class extends vr{constructor(e={}){super();this.fields={};this.fieldsOriginalOutline={};this.focusList={};this.enabledOutlineFields={};this.enabledRealtimeSyncFields={};this.flags={};this.allowedTagNames=["input","textarea"];this.allowedInputTypes=["text","email","date","color","datetime-local","month","number","password","range","search","tel","time","url","week","checkbox","radio"];this.throwError={onInvalidFieldsProp:e=>{throw new Error(`"Fields" property must be either a string or an array of strings. Received type: ${e}`)},onFieldNotFound:e=>{throw new Error(`You must pass the id of an existing element. Element with id ${e} not found`)},onInvalidTagName:e=>{throw new Error(`You can't register an element with tag ${e}. Only the tags "${this.allowedTagNames.join(", ")}" are allowed`)},onInvalidInputType:e=>{throw new Error(`You can't register an input element of type ${e}. Only the types "${this.allowedInputTypes.join(", ")}" are allowed`)},onDeregisterInvalidField:e=>{throw new Error(`You can't deregister field of id ${e}. No field was registered with id ${e} `)}};this.sync=e=>{var a,c;let n=this.fields[e],i=this.hasCheckedProperty(n),s={value:i?n.checked:n.value,color:this.localParticipant.slot.color,fieldId:e,showOutline:this.canUpdateColor(e),syncContent:this.canSyncContent(e),attribute:i?"checked":"value"};(a=this.room)==null||a.emit("field.content-change"+e,s),(c=this.room)==null||c.emit("field.interaction"+e,s)};this.handleInput=e=>{var s,a,c,l;let n=e.target;(a=this.room)==null||a.emit("field.interaction"+n.id,{fieldId:n.id,color:(s=this.localParticipant.slot)==null?void 0:s.color});let i=this.canSyncContent(n.id);if(!i)return;let o={value:n.value,color:(c=this.localParticipant.slot)==null?void 0:c.color,fieldId:n.id,showOutline:this.canUpdateColor(n.id),syncContent:i,attribute:"value"};(l=this.room)==null||l.emit("field.content-change"+n.id,o)};this.handleChange=e=>{var s;let n=e.target;if(!this.canSyncContent(n.id))return;let o={fieldId:n.id,value:n.checked,color:this.localParticipant.slot.color,showOutline:this.canUpdateColor(n.id),syncContent:this.canSyncContent(n.id),attribute:"checked"};(s=this.room)==null||s.emit("field.content-change"+n.id,o)};this.handleFocus=e=>{var o;let n=e.target,i={color:this.localParticipant.slot.color,fieldId:n.id};(o=this.room)==null||o.emit("field.focus"+n.id,i)};this.handleBlur=e=>{var o;let n=e.target,i={fieldId:n.id};(o=this.room)==null||o.emit("field.blur"+n.id,i)};this.removeFieldColor=({presence:e,data:{fieldId:n}})=>{var i;((i=this.focusList[n])==null?void 0:i.id)!==e.id||!this.fields[n]||(this.fields[n].style.outline=this.fieldsOriginalOutline[n]??"",delete this.fieldsOriginalOutline[n],delete this.focusList[n])};this.updateFieldColor=({presence:e,data:{color:n,fieldId:i},timestamp:o})=>{let s=this.focusList[i]??{},a=!s.id,c=e.id===this.localParticipant.id;if(a&&c){this.focusList[i]={id:e.id,color:n,firstInteraction:o,lastInteraction:o};return}if(s.id===e.id){this.focusList[i].lastInteraction=o;return}let p=o-s.lastInteraction>=3e3,h=o-s.firstInteraction>=1e4;if(!(p||h||a))return;this.focusList[i]={id:e.id,color:n,firstInteraction:o,lastInteraction:o};let b=c?this.fieldsOriginalOutline[i]:`1px solid ${n}`;this.fields[i].style.outline=b};this.updateFieldContent=({presence:e,data:{value:n,fieldId:i,color:o,showOutline:s,syncContent:a,attribute:c},timestamp:l,...p})=>{this.publish("field.content-change",{value:n,fieldId:i,attribute:c,userId:e.id,userName:e.name,timestamp:l}),a&&this.canSyncContent(i)&&e.id!==this.localParticipant.id&&(this.fields[i][c]=n),s&&this.canUpdateColor(i)&&this.updateFieldColor({presence:e,data:{color:o,fieldId:i},timestamp:l,...p})};this.publishTypedEvent=({presence:e,data:{fieldId:n,color:i}})=>{this.publish("field.interaction",{fieldId:n,userId:e.id,userName:e.name,color:i})};this.canSyncContent=e=>!this.flags.disableRealtimeSync&&this.enabledRealtimeSyncFields[e]!==!1||!!this.enabledRealtimeSyncFields[e];this.name="formElements",this.logger=new He("@superviz/sdk/presence-input-component");let{fields:n,...i}=e;if(this.flags=i??{},typeof n=="string"){this.validateField(n),this.fields[n]=null;return}if(Array.isArray(n)){n.forEach(o=>{this.validateField(o),this.fields[o]=null});return}n!==void 0&&this.throwError.onInvalidFieldsProp(typeof n)}enableOutline(e){let n=this.fields[e];n&&(this.enabledOutlineFields[e]=!0,this.fieldsOriginalOutline[e]=n.style.outline,n.addEventListener("focus",this.handleFocus),n.addEventListener("blur",this.handleBlur),this.room.on("field.focus"+e,this.updateFieldColor),this.room.on("field.blur"+e,this.removeFieldColor))}disableOutline(e){var i;let n=this.fields[e];n&&(this.enabledOutlineFields[e]=!1,n.style.outline=this.fieldsOriginalOutline[e]??"",n.removeEventListener("focus",this.handleFocus),n.removeEventListener("blur",this.handleBlur),this.room.off("field.focus"+e,this.updateFieldColor),this.room.off("field.blur"+e,this.removeFieldColor),(i=this.room)==null||i.emit("field.blur"+e,{fieldId:e}))}enableRealtimeSync(e){this.enabledRealtimeSyncFields[e]=!0}disableRealtimeSync(e){this.enabledRealtimeSyncFields[e]=!1}registerField(e){this.validateField(e);let n=document.getElementById(e);this.fields[e]=n,this.addListenersToField(n),this.addRealtimeListenersToField(e),this.fieldsOriginalOutline[e]=n.style.outline}deregisterField(e){var n;this.fields[e]||this.throwError.onDeregisterInvalidField(e),this.removeListenersFromField(this.fields[e]),this.removeRealtimeListenersFromField(e),this.fields[e].style.outline=this.fieldsOriginalOutline[e],this.fields[e]=void 0,delete this.enabledOutlineFields[e],delete this.enabledRealtimeSyncFields[e],delete this.fieldsOriginalOutline[e],delete this.focusList[e],(n=this.room)==null||n.emit("field.blur"+e,{fieldId:e})}start(){let{localParticipant:e}=this.useStore("global-store");e.subscribe(),Object.entries(this.fields).forEach(([n])=>{this.registerField(n)})}destroy(){this.restoreOutlines(),this.deregisterAllFields(),this.fieldsOriginalOutline=void 0,this.focusList=void 0}addListenersToField(e){let{type:n}=e;this.hasCheckedProperty(e)?e.addEventListener("change",this.handleChange):e.addEventListener("input",this.handleInput),!this.flags.disableOutline&&(e.addEventListener("focus",this.handleFocus),e.addEventListener("blur",this.handleBlur))}addRealtimeListenersToField(e){this.room&&(this.room.on("field.content-change"+e,this.updateFieldContent),this.room.on("field.interaction"+e,this.publishTypedEvent),!this.flags.disableOutline&&(this.room.on("field.focus"+e,this.updateFieldColor),this.room.on("field.blur"+e,this.removeFieldColor)))}removeListenersFromField(e){this.hasCheckedProperty(e)?e.removeEventListener("change",this.handleChange):e.removeEventListener("input",this.handleInput),!this.flags.disableOutline&&(e.removeEventListener("focus",this.handleFocus),e.removeEventListener("blur",this.handleBlur))}removeRealtimeListenersFromField(e){this.room&&(this.room.off("field.content-change"+e,this.updateFieldContent),this.room.off("field.interaction"+e,this.publishTypedEvent),!this.flags.disableOutline&&(this.room.off("field.focus"+e,this.updateFieldColor),this.room.off("field.blur"+e,this.removeFieldColor)))}deregisterAllFields(){Object.keys(this.fields).forEach(e=>{this.deregisterField(e)}),this.fields=void 0}validateField(e){this.validateFieldId(e);let n=document.getElementById(e);this.validateFieldTagName(n),this.validateFieldType(n)}validateFieldTagName(e){let n=e.tagName.toLowerCase();this.allowedTagNames.includes(n)||(this.logger.log("invalid element tagname"),this.throwError.onInvalidTagName(n))}validateFieldType(e){if(e.tagName.toLowerCase()!=="input")return;let n=e.getAttribute("type"),i=this.allowedInputTypes.includes(n);n&&!i&&(this.logger.log("invalid input type"),this.throwError.onInvalidInputType(n))}validateFieldId(e){document.getElementById(e)||this.throwError.onFieldNotFound(e)}restoreOutlines(){Object.entries(this.fields).forEach(([e])=>{this.fields[e].style.outline=this.fieldsOriginalOutline[e]})}hasCheckedProperty(e){let n=e.tagName.toLowerCase(),i=e.getAttribute("type");return n==="input"&&(i==="radio"||i==="checkbox")}canUpdateColor(e){return!this.flags.disableOutline&&this.enabledOutlineFields[e]!==!1||this.enabledOutlineFields[e]}};typeof window<"u"&&(window.SuperVizRoom={init:Mw,CommentEvent:El,MeetingEvent:Ka,DeviceEvent:Wf,RealtimeEvent:ai,MeetingState:_l,MeetingConnectionStatus:eu,MeetingControlsEvent:Qa,ParticipantEvent:wl,FrameEvent:Xa,LayoutMode:Nd,VideoConference:fc,MousePointers:hc,Realtime:mc,Comments:lc,CanvasPin:dc,HTMLPin:pc,WhoIsOnline:vc,FormElements:bc,ParticipantType:qs,LayoutPosition:cc,CamerasPosition:Fd,RealtimeComponentState:jd,RealtimeComponentEvent:Dd,ComponentLifeCycleEvent:Ss,WhoIsOnlineEvent:Ol,StoreType:kt,PresenceEvents:ge,FieldEvents:qd,PinMode:Xs,Comment});var eae=Mw;0&&(module.exports={CamerasPosition,CanvasPin,CommentEvent,Comments,ComponentLifeCycleEvent,DeviceEvent,FieldEvents,FormElements,FrameEvent,HTMLPin,LayoutMode,LayoutPosition,MeetingConnectionStatus,MeetingControlsEvent,MeetingEvent,MeetingState,MousePointers,ParticipantEvent,ParticipantType,PinMode,PresenceEvents,Realtime,RealtimeComponentEvent,RealtimeComponentState,RealtimeEvent,StoreType,VideoConference,WhoIsOnline,WhoIsOnlineEvent});
/*! Bundled license information:

xmlhttprequest-ssl/lib/XMLHttpRequest.js:
  (**
   * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
   *
   * This can be used with JS designed for browsers to improve reuse of code and
   * allow the use of existing libraries.
   *
   * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
   *
   * @author Dan DeFelippi <dan@driverdan.com>
   * @contributor David Ellis <d.f.ellis@ieee.org>
   * @license MIT
   *)
*/
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

@lit-labs/ssr-dom-shim/lib/element-internals.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit-labs/ssr-dom-shim/index.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/node/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/node/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
//# sourceMappingURL=index.cjs.js.map
