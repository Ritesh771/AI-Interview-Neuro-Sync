"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=require("./room-DPWLzMyU.cjs"),s=require("react"),P=require("./index-N3n6WSly.cjs");function p({children:T,elementId:n,onMount:i,onUnmount:a,...r}){var m;const[l,f]=s.useState(null),{room:c,component:e,addComponent:d}=u.useInternalFeatures("presence"),x={mount:i,unmount:a},E=s.useCallback(t=>{var o,b;(o=r.callbacks)!=null&&o.onGoToPresence&&((b=r.callbacks)==null||b.onGoToPresence(t))},[(m=r.callbacks)==null?void 0:m.onGoToPresence]);return s.useEffect(()=>{e&&Object.entries(x).forEach(([t,o])=>{e.unsubscribe(t,o),o&&e.subscribe(t,o)})},[e,c,i,a]),s.useEffect(()=>{if(!c||l||!document.getElementById(n))return;const t=new P.Ft(n,{callbacks:{onGoToPresence:E}});d(t),f(Date.now())},[c,n]),s.useEffect(()=>{!e&&l&&f(null)},[e]),T??u.jsxRuntimeExports.jsx(u.jsxRuntimeExports.Fragment,{})}exports.MousePointers=p;
