import { u as x, j as p } from "./room-BEOW-846.js";
import { useState as E, useEffect as o } from "react";
import { M as w } from "./index-CtPfqlcy.js";
function I({
  pin: s,
  children: d,
  onPinActive: r,
  onPinInactive: i,
  onMount: u,
  onUnmount: a,
  ...l
}) {
  const { room: m, component: t, addComponent: b } = x("comments"), [c, f] = E(null), j = {
    "pin-mode.active": r,
    "pin-mode.inactive": i,
    mount: u,
    unmount: a
  };
  return o(() => {
    t && Object.entries(j).forEach(([e, n]) => {
      t.unsubscribe(e, n), n && t.subscribe(e, n);
    });
  }, [t, m, r, i, u, a]), o(() => {
    if (!m || c || !s) return;
    const e = new w(s, { ...l });
    b(e), f(Date.now());
  }, [m, s]), o(() => {
    !t && c && f(null);
  }, [t]), d ?? /* @__PURE__ */ p.jsx(p.Fragment, {});
}
export {
  I as Comments
};
