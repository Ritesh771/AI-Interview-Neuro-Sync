import { u as b, j as a } from "./room-BEOW-846.js";
import { useState as d, useEffect as i } from "react";
import { U as j } from "./index-CtPfqlcy.js";
function E({ position: f, styles: c, onMount: o, onUnmount: r, ...p }) {
  const { room: n, component: t, addComponent: l } = b("whoIsOnline"), [m, u] = d(null), I = {
    mount: o,
    unmount: r
  };
  return i(() => {
    t && Object.entries(I).forEach(([e, s]) => {
      t.unsubscribe(e, s), s && t.subscribe(e, s);
    });
  }, [t, n, o, r]), i(() => {
    if (!n || m) return;
    const e = new j({ position: f, styles: c, ...p });
    l(e), u(Date.now());
  }, [n]), i(() => {
    !t && m && u(null);
  }, [t]), /* @__PURE__ */ a.jsx(a.Fragment, {});
}
export {
  E as WhoIsOnline
};
