"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=require("react"),b=require("./room-DPWLzMyU.cjs");function g(){const{component:n,room:c,...S}=b.useInternalFeatures("yjsProvider"),e=r.useRef(null),[u,o]=r.useState(!1);r.useEffect(()=>{n&&(e.current=n,o(!0)),!c&&u&&(e.current=null,o(!1))},[n]);const l=r.useCallback(()=>{var t;return(t=e.current)!=null&&t.awareness?e.current.awareness.getLocalState():null},[e.current]),i=r.useCallback(t=>{var a,s;(s=(a=e.current)==null?void 0:a.awareness)==null||s.setLocalState(t)},[e.current]),d=r.useCallback((t,a)=>{var s,f;(f=(s=e.current)==null?void 0:s.awareness)==null||f.setLocalStateField(t,a)},[l,i]),w=r.useCallback(()=>{var t;return(t=e.current)!=null&&t.awareness?e.current.awareness.getStates():new Map},[e.current]);return r.useMemo(()=>({isReady:u,getLocalState:l,getStates:w,setLocalState:i,setLocalStateField:d,provider:e.current}),[c,S.activeComponents,n,u])}exports.useYjsProvider=g;
