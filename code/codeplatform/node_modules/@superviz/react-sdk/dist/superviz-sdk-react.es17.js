import { G as l } from "./index-BRfuTawZ.js";
import { useRef as i, useEffect as p, useMemo as m } from "react";
import { u as d } from "./room-BEOW-846.js";
function h({
  scene: n,
  renderer: e,
  camera: o,
  player: s,
  controls: c
}) {
  const { room: f } = d(), u = i(!1), t = i(null);
  return p(() => {
    var r;
    !f && u.current && (u.current = !1, (r = t.current) == null || r.destroy(), t.current = null);
  }, [f]), m(() => {
    if (!n || !e || !o)
      return {
        pin: null,
        destroy: () => {
        }
      };
    if (!u.current) {
      u.current = !0;
      const r = new l(n, e, o, s, c);
      t.current = r;
    }
    return {
      pin: t.current,
      destroy: () => {
        var r;
        (r = t.current) == null || r.destroy(), t.current = null;
      }
    };
  }, [n, e, o, s, c]);
}
export {
  h as useThreeJsPin
};
