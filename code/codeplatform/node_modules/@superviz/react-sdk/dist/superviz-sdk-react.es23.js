import { M as f } from "./index-ad0DlQ-s.js";
import { useRef as c, useEffect as l, useMemo as s } from "react";
import { u as i } from "./room-BEOW-846.js";
function a({ matterportInstance: u, showcaseWindow: n }) {
  const { room: o } = i(), t = c(!1), e = c(null);
  return l(() => {
    var r;
    !o && t.current && (t.current = !1, (r = e.current) == null || r.destroy(), e.current = null);
  }, [o]), s(() => {
    if (!n || !u)
      return {
        pin: null,
        destroy: () => {
        }
      };
    if (!t.current) {
      t.current = !0;
      const r = new f(u, n);
      e.current = r;
    }
    return {
      pin: e.current,
      destroy: () => {
        var r;
        (r = e.current) == null || r.destroy(), e.current = null;
      }
    };
  }, [n, u]);
}
export {
  a as useMatterportPin
};
