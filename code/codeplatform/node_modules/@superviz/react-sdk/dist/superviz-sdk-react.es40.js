import { u, j as o } from "./room-BEOW-846.js";
import { useState as p, useEffect as f } from "react";
import { B as c, b as E } from "./index-CtPfqlcy.js";
function I({ onStateChange: e, onMount: t, onUnmount: i }) {
  const { room: s, component: r, addComponent: l } = u("realtime"), [m, a] = p(null);
  return f(() => {
    if (!s || m) return;
    const n = new c();
    l(n), a(Date.now()), e && n.subscribe(
      E.REALTIME_STATE_CHANGED,
      e
    ), t && t();
  }, [s]), f(() => {
    !r && m && (a(null), i && i());
  }, [r]), /* @__PURE__ */ o.jsx(o.Fragment, {});
}
export {
  I as Realtime
};
