import { useRef as s, useEffect as f } from "react";
import { u as i } from "./room-BEOW-846.js";
import { L as l } from "./index-CtPfqlcy.js";
function a({ canvasId: n, onGoToPin: u }) {
  const { room: o } = i(), t = s(!1), r = s(null);
  function c(e) {
    u && u(e);
  }
  if (f(() => {
    !o && r.current && (t.current = !1, r.current = null);
  }, [o]), !n || !document.getElementById(n))
    return {
      pin: null,
      destroy: () => {
      }
    };
  if (!t.current) {
    t.current = !0;
    const e = new l(n, {
      onGoToPin: c
    });
    r.current = e;
  }
  return {
    pin: r.current,
    destroy: () => {
      var e;
      (e = r.current) == null || e.destroy(), r.current = null;
    }
  };
}
export {
  a as useCanvasPin
};
