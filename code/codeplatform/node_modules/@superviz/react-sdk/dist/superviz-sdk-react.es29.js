import { Q as c } from "./index-BqPoy8ey.js";
import { useRef as o, useEffect as s, useMemo as f } from "react";
import { u as l } from "./room-BEOW-846.js";
function d({ autodeskInstance: t }) {
  const { room: u } = l(), n = o(!1), r = o(null);
  return s(() => {
    var e;
    !u && n.current && (n.current = !1, (e = r.current) == null || e.destroy(), r.current = null);
  }, [u]), f(() => {
    if (!t)
      return {
        pin: null,
        destroy: () => {
        }
      };
    if (!n.current) {
      n.current = !0;
      const e = new c(t);
      r.current = e;
    }
    return {
      pin: r.current,
      destroy: () => {
        var e;
        (e = r == null ? void 0 : r.current) == null || e.destroy(), r.current = null;
      }
    };
  }, [t, u, r.current]);
}
export {
  d as useAutodeskPin
};
