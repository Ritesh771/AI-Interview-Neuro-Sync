import { ObservableV2 } from 'lib0/observable';
import * as Y from 'yjs';
import { RealtimeRoom } from '../../provider/types';
import { Logger } from '../logger';
import { Events } from './types';
export declare class Awareness extends ObservableV2<Events> {
    doc: Y.Doc;
    private logger;
    clientID: number;
    states: Map<number, any>;
    _checkInterval: ReturnType<typeof setInterval> | null;
    meta: Map<number, {
        clock: number;
        lastUpdated: number;
    }>;
    private participantIdToClientId;
    private room;
    private visibilityTimeout;
    private readonly TIMEOUT_TIMER_MS;
    private readonly YJS_STATE;
    private previousState;
    private participantId;
    constructor(doc: Y.Doc, logger: Logger);
    /**
     * @function connect
     * @description Start the awareness service
     * @param {RealtimeRoom} room Main room in which it will propagate presence
     * @returns {void}
     */
    connect(participantId: string, room: RealtimeRoom): void;
    /**
     * @function destroy
     * @description Destroy the awareness service and clean up all the listeners, states, etc
     * @returns {void}
     */
    destroy(): void;
    /**
     * @function getLocalState
     * @description Get the local state of the current participant, stores in the field yjs_state
     * @returns
     */
    getLocalState(): Record<string, any> | null;
    getStates(): Map<number, Record<string, any>>;
    setLocalState: (state: Record<string, any> | null) => void;
    setLocalStateField(field: string, value: any): void;
    private addRoomListeners;
    private removeRoomListeners;
    private addDocumentListeners;
    private removeDocumentListeners;
    private onLeave;
    private onUpdate;
    private onVisibilityChange;
    private initializePresences;
    private removeAwarenessStates;
}
