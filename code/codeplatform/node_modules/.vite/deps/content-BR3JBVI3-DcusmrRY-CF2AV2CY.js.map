{
  "version": 3,
  "sources": ["../../@superviz/react-sdk/dist/content-BR3JBVI3-DcusmrRY.js"],
  "sourcesContent": ["import { j as c } from \"./chunk-DX57ODX6-DAIpi7BW.js\";\nimport { y as d, e as u } from \"./index-CtPfqlcy.js\";\nimport \"./chunk-3MEZQQ2J-CHe_tQrN.js\";\nimport { a as m } from \"./chunk-SDMTFDEM-n5DHnLs2.js\";\nimport { D as h } from \"./chunk-MVFOLHBC-BeDRo2V6.js\";\nimport { V as l, a as p, t as y } from \"./chunk-WG46WHJF-JdNs68CV.js\";\nd();\nvar r = h(p), v = [r.styles, m], s = class extends r {\n  constructor() {\n    super(), this.unselectAnnotation = () => {\n      this.selectedAnnotation = null;\n    }, this.unselectAnnotationEsc = (t) => {\n      t && (t == null ? void 0 : t.key) !== \"Escape\" || (this.selectedAnnotation = null);\n    }, this.selectAnnotation = ({ detail: t }) => {\n      let { uuid: n } = t;\n      if (this.selectedAnnotation === n) {\n        this.selectedAnnotation = null;\n        return;\n      }\n      this.selectedAnnotation = n;\n    }, this.checkLastAnnotation = (t) => {\n      var n, i;\n      let o = this.annotations.filter((a) => a.resolved), e = this.annotations.filter((a) => !a.resolved);\n      return this.annotationFilter === \"All comments\" ? t === ((n = o[o.length - 1]) == null ? void 0 : n.uuid) : t === ((i = e[e.length - 1]) == null ? void 0 : i.uuid);\n    }, this.annotations = [], this.participantsList = [];\n  }\n  updated(t) {\n    super.updated(t), this.updateComplete.then(() => {\n      let n = this.shadowRoot.querySelector(`[uuid='${this.selectedAnnotation}']`);\n      if (!n) return;\n      let i = this.lastCommentId === this.selectedAnnotation, o = i ? 0 : -150, e = n.getClientRects()[0];\n      e && (this.scrollBy(0, e.y + o), i && setTimeout(() => {\n        this.scrollBy(0, e.y + o);\n      }, 200));\n    });\n  }\n  connectedCallback() {\n    super.connectedCallback(), window.document.body.addEventListener(\"select-annotation\", this.selectAnnotation), window.document.body.addEventListener(\"keyup\", this.unselectAnnotationEsc), window.document.body.addEventListener(\"unselect-annotation\", this.unselectAnnotation);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback(), window.document.body.removeEventListener(\"select-annotation\", this.selectAnnotation), window.document.body.removeEventListener(\"keyup\", this.unselectAnnotationEsc), window.document.body.removeEventListener(\"unselect-annotation\", this.unselectAnnotation);\n  }\n  render() {\n    return l` ${c(this.annotations.filter((t) => {\n      var n;\n      return (n = t.comments) == null ? void 0 : n.length;\n    }), (t) => t.uuid, (t) => l`\n        <superviz-comments-annotation-item\n          annotation=${JSON.stringify(t)}\n          selected=\"${this.selectedAnnotation}\"\n          annotationFilter=${this.annotationFilter}\n          uuid=${t.uuid}\n          ?resolved=${t.resolved}\n          isLastComment=${this.checkLastAnnotation(t.uuid)}\n          participantsList=${JSON.stringify(this.participantsList)}\n        >\n        </superviz-comments-annotation-item>\n      `)}`;\n  }\n};\ns.styles = v, s.properties = { annotations: { type: Object }, selectedAnnotation: { type: String }, annotationFilter: { type: String }, participantsList: { type: Object } }, s = u([y(\"superviz-comments-content\")], s);\nexport {\n  s as CommentsContent\n};\n"],
  "mappings": "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",
  "names": ["s"]
}
