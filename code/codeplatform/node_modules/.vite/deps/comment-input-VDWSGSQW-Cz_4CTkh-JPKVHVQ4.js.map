{
  "version": 3,
  "sources": ["../../@superviz/react-sdk/dist/comment-input-VDWSGSQW-Cz_4CTkh.js"],
  "sourcesContent": ["import { y as h, A as C, e as I } from \"./index-CtPfqlcy.js\";\nimport { u as v } from \"./chunk-K5TMEGOR-DaSvC8Mu.js\";\nimport \"./chunk-3MEZQQ2J-CHe_tQrN.js\";\nimport { s as x } from \"./chunk-SDMTFDEM-n5DHnLs2.js\";\nimport { n as k } from \"./chunk-6U6BYUHV-TZ4JwLT4.js\";\nimport { D as L } from \"./chunk-MVFOLHBC-BeDRo2V6.js\";\nimport { V as u, a as E, t as H } from \"./chunk-WG46WHJF-JdNs68CV.js\";\nh();\nh();\nvar S = class {\n  constructor() {\n    this.keys = [\"@\"], this.input = null, this.mentions = [];\n  }\n  setInput(t) {\n    this.event = t, this.input = t.target, this.key = t.data;\n  }\n  getMentions(t, e = []) {\n    return e.length > 0 && (this.mentions = e), this.mentions.filter((i) => ((n, s) => s.includes(n.name))(i, t));\n  }\n  setMentions(t) {\n    this.mentions = t;\n  }\n  addMention(t) {\n    this.mentions.some((e) => e.userId === t.userId) || this.mentions.push(t);\n  }\n  clearMentions() {\n    this.mentions = [];\n  }\n  getSelectionPosition() {\n    var t;\n    let e = this.getSelectionStart(), i = this.getLastKeyBeforeCaret(e);\n    return { start: ((t = i == null ? void 0 : i.keyIndex) != null ? t : -1) + 1, end: e };\n  }\n  getSelectionStart() {\n    var t;\n    return (t = this.input) == null ? void 0 : t.selectionStart;\n  }\n  setCaretPosition(t) {\n    this.input.selectionEnd = t;\n  }\n  getValue() {\n    var t;\n    return (t = this.input) == null ? void 0 : t.value;\n  }\n  setValue(t) {\n    this.input.value = t;\n  }\n  getLastKeyBeforeCaret(t) {\n    let [e] = this.keys.map((i) => ({ key: i, keyIndex: this.getValue().lastIndexOf(i, t - 1) })).sort((i, n) => n.keyIndex - i.keyIndex);\n    return e;\n  }\n  searchMention(t, e) {\n    return e !== -1 ? this.getValue().substring(e + 1, t) : null;\n  }\n  isDeletion() {\n    return this.event.inputType === \"deleteContentBackward\" || this.event.inputType === \"deleteContentForward\" || this.event.inputType === \"deleteWordBackward\";\n  }\n  insertMention(t, e, i) {\n    if (this.isDeletion()) return;\n    let { id: n, name: s } = i, o = `${this.getValue().slice(0, t) + s} ${this.getValue().slice(e, this.getValue().length)}`;\n    this.setValue(o), this.input.focus(), this.addMention({ userId: n, name: s }), this.setCaretPosition(t + s.length + 1);\n  }\n};\nh();\nvar c = { SHOW: \"show\", HIDE: \"hide\" }, w = { action: c.HIDE, mentions: [], findDigitParticipant: !1 }, B = (t, e, i) => {\n  var n, s;\n  let o = [];\n  if (o = i == null ? void 0 : i.filter((a) => a == null ? void 0 : a.email), t.length > 0 && (o = o.filter((a) => (a == null ? void 0 : a.name.toLowerCase().search(t.toLowerCase())) !== -1), t === ((s = (n = o[0]) == null ? void 0 : n.name) == null ? void 0 : s.toLowerCase()))) {\n    let a = b(o, e);\n    return { action: c.HIDE, mentions: a, findDigitParticipant: !0 };\n  }\n  if (!((o == null ? void 0 : o.length) > 0)) return w;\n  let l = b(o, e);\n  return { action: c.SHOW, mentions: l, findDigitParticipant: !1 };\n}, b = (t, e) => t.map((i) => ({ id: i.id, name: i.name, avatar: i.avatar, email: i.email, position: e })), $ = { matchParticipant: (t, e, i) => B(t, e, i) }, _ = L(E), T = [_.styles, x], r = class extends _ {\n  constructor() {\n    super(), this.pinCoordinates = null, this.autoCompleteHandler = new S(), this.addAtSymbolInCaretPosition = () => {\n      let t = this.shadowRoot.querySelector(\".comments__input__textarea\"), e = new InputEvent(\"input\", { bubbles: !0, cancelable: !0 });\n      Object.defineProperty(e, \"data\", { value: \"@\", writable: !0 }), t.dispatchEvent(e);\n    }, this.getCommentInput = () => this.shadowRoot.querySelector(\".comments__input__textarea\"), this.userMentionedByTextInput = (t) => {\n      this.mentionList = [];\n      let e = { detail: C({}, t[0]) };\n      this.insertMention(e);\n    }, this.buttonAtSymbol = () => {\n      var t;\n      let e = this.autoCompleteHandler.getSelectionStart(), i = this.autoCompleteHandler.getValue();\n      this.autoCompleteHandler.setValue(`${i.slice(0, e)}@${i.slice(e, i.length)}`), e += 1;\n      let n = this.autoCompleteHandler.getLastKeyBeforeCaret(e), s = (t = n == null ? void 0 : n.keyIndex) != null ? t : -1, o = this.autoCompleteHandler.searchMention(e, s), l = { start: s + 1, end: e };\n      return { searchText: o, position: l };\n    }, this.focusInput = () => {\n      this.getCommentInput().focus();\n    }, this.handleInput = (t) => {\n      var e, i;\n      ((e = this.commentInput) == null ? void 0 : e.value.length) === 0 ? this.btnActive = !1 : this.btnActive = !0, this.autoCompleteHandler.setInput(t);\n      let n = this.autoCompleteHandler.getSelectionStart(), s = this.autoCompleteHandler.getLastKeyBeforeCaret(n), o = (i = s == null ? void 0 : s.keyIndex) != null ? i : -1;\n      if (n === -1) return;\n      let l = this.autoCompleteHandler.searchMention(n, o), a = this.autoCompleteHandler.getSelectionPosition(), g = t.data === \"@\" && o === -1, y = t.data === \"@\" && n - 1 !== o;\n      if (g || y) {\n        let p = this.buttonAtSymbol();\n        l = p.searchText, a = p.position;\n      }\n      if (l === null) {\n        this.mentionList = [];\n        return;\n      }\n      let { action: d, mentions: m, findDigitParticipant: f } = $.matchParticipant(l, a, this.participantsList);\n      if (f) {\n        this.userMentionedByTextInput(m);\n        return;\n      }\n      d === \"show\" && (this.mentionList = m), d === \"hide\" && (this.mentionList = []);\n    }, this.insertMention = (t) => {\n      let { id: e, name: i, avatar: n, email: s, position: o } = t.detail;\n      this.autoCompleteHandler.insertMention(o.start, o.end, { id: e, name: i, avatar: n, email: s }), this.mentionList = [], this.updateHeight();\n    }, this.sendEnter = (t) => {\n      var e;\n      if (t.key !== \"Escape\" && t.stopImmediatePropagation(), t.key === \"Enter\" && !t.shiftKey && t.preventDefault(), t.key !== \"Enter\" || t.shiftKey || ((e = this.mentionList) == null ? void 0 : e.length) > 0) return;\n      let i = this.commentInput, n = i.value.trim();\n      if (!n) return;\n      let s = this.autoCompleteHandler.getMentions(n);\n      this.emitEvent(this.eventType, { text: n, mentions: s, position: this.pinCoordinates }, { composed: !1, bubbles: !1 }), i.value = \"\", this.sendBtn.disabled = !0, this.updateHeight();\n    }, this.closeEditMode = () => {\n      this.emitEvent(\"close-edit-mode\", {}, { composed: !1, bubbles: !1 }), this.hideInput = !0;\n    }, this.onTextareaFocus = () => {\n      let t = this.optionsContainer, e = this.horizontalRule, i = this.commentInput;\n      t.classList.add(\"active-textarea\"), e.classList.add(\"comments__input__divisor\"), i.classList.add(\"active-textarea\");\n    }, this.onTextareaLoseFocus = (t) => {\n      var e, i;\n      let n = (i = (e = t.explicitOriginalTarget) == null ? void 0 : e.parentNode) == null ? void 0 : i.host, s = this.mentionButton;\n      if (s === t.explicitOriginalTarget || s === t.relatedTarget) return;\n      if (this.closeButton.contains(n) || this.closeButton.contains(t.explicitOriginalTarget) || this.closeButton.contains(t.relatedTarget)) {\n        this.cancelComment();\n        return;\n      }\n      if (!this.shadowRoot.contains(t.target)) return;\n      let o = this.optionsContainer, l = this.horizontalRule, a = this.commentInput;\n      a.value.length || (o.classList.remove(\"active-textarea\"), l.classList.remove(\"comments__input__divisor\"), a.classList.remove(\"active-textarea\"));\n    }, this.cancelComment = () => {\n      document.body.dispatchEvent(new KeyboardEvent(\"keyup\", { key: \"Escape\" }));\n    }, this.commentInputEditableOptions = () => {\n      var t;\n      if (this.editable) return u`\n      <button\n        id=\"close\"\n        @click=${this.closeEditMode}\n        class=\"icon-button icon-button--medium icon-button--clickable comments__input__button comments__input__close-button\"\n      >\n        <superviz-icon name=\"close\" size=\"sm\"></superviz-icon>\n      </button>\n      <button\n        id=\"confirm\"\n        class=\"icon-button icon-button--medium icon-button--clickable icon-button--no-hover comments__input__button comments__input__send-button\"\n        disabled\n        @click=${this.send}\n      >\n        <superviz-icon\n          color=${(t = this.sendBtn) != null && t.disabled || !this.sendBtn ? \"black\" : \"white\"}\n          name=\"check\"\n          size=\"sm\"\n        ></superviz-icon>\n      </button>\n    `;\n    }, this.commentInputOptions = () => {\n      var t;\n      if (!this.editable) return u`\n      <button\n        class=\"icon-button icon-button--medium icon-button--clickable comments__input__button comments__input__close-button align-send-btn\"\n        @click=${this.cancelComment}\n      >\n        <superviz-icon name=\"close\" size=\"sm\"></superviz-icon>\n      </button>\n      <button\n        class=\"comments__input__button comments__input__send-button align-send-btn\"\n        disabled\n        @click=${this.send}\n      >\n        <superviz-icon\n          color=${(t = this.sendBtn) != null && t.disabled || !this.sendBtn ? \"black\" : \"white\"}\n          name=\"line-arrow-right\"\n          size=\"sm\"\n        ></superviz-icon>\n      </button>\n    `;\n    }, this.btnActive = !1, this.text = \"\", this.mentionList = [], this.mentions = [], this.mode = \"readonly\";\n  }\n  get commentInput() {\n    return this.shadowRoot.querySelector(\".comments__input__textarea\");\n  }\n  get mentionButton() {\n    return this.shadowRoot.querySelector(\".mention-button\");\n  }\n  get sendBtn() {\n    return this.shadowRoot.querySelector(\".comments__input__send-button\");\n  }\n  get optionsContainer() {\n    return this.shadowRoot.querySelector(\".comments__input__options\");\n  }\n  get horizontalRule() {\n    return this.shadowRoot.querySelector(\".sv-hr\");\n  }\n  get closeButton() {\n    return this.shadowRoot.querySelector(\".comments__input__close-button\");\n  }\n  connectedCallback() {\n    super.connectedCallback(), [\"create-annotation\", \"create-comment\"].includes(this.eventType) && this.addEventListener(\"keyup\", this.sendEnter);\n  }\n  disconnectedCallback() {\n    if (super.disconnectedCallback(), ![\"create-annotation\", \"create-comment\"].includes(this.eventType)) return;\n    let t = this.getCommentInput();\n    this.removeEventListener(\"keyup\", this.sendEnter), t.removeEventListener(\"keydown\", this.sendEnter), t.removeEventListener(\"click\", this.focusInput), t.addEventListener(\"input\", this.handleInput);\n  }\n  firstUpdated(t) {\n    this.updateComplete.then(() => {\n      this.emitEvent(\"comment-input-ready\", {}, { composed: !1, bubbles: !1 });\n      let e = this.getCommentInput();\n      if (e && (e.addEventListener(\"input\", this.handleInput), e.addEventListener(\"click\", this.focusInput), e.addEventListener(\"keydown\", this.sendEnter)), this.text.length > 0) {\n        let i = this.participantsList.map(({ id: n, name: s }) => ({ userId: n, name: s }));\n        this.mentions = this.autoCompleteHandler.getMentions(this.text, i), this.autoCompleteHandler.setMentions(this.mentions);\n      }\n      this.editable && this.focusInput(), k.call(this, [\"comments\"]);\n    });\n  }\n  updated(t) {\n    if (t.has(\"mode\") && this.mode === \"editable\" && (this.focusInput(), this.updateHeight(), this.sendBtn.disabled = !1, this.btnActive = !0), t.has(\"text\") && this.text.length > 0) {\n      let e = this.commentInput;\n      e.value = this.text, this.updateHeight();\n    }\n    t.has(\"btnActive\") && (this.sendBtn.disabled = !this.btnActive);\n  }\n  updateHeight() {\n    let t = this.commentInput;\n    t.style.height = \"40px\";\n    let e = t.scrollHeight + 14;\n    e === 47 && (e = 40), t.style.height = `${e}px`, this.sendBtn.disabled = !(t.value.length > 0);\n  }\n  send(t) {\n    var e;\n    if (t.preventDefault(), ((e = this.mentionList) == null ? void 0 : e.length) > 0) return;\n    let i = this.commentInput, n = i.value, s = this.autoCompleteHandler.getMentions(n);\n    this.emitEvent(this.eventType, { text: n, mentions: s, position: this.pinCoordinates }, { composed: !1, bubbles: !1 }), i.value = \"\", this.sendBtn.disabled = !0, this.updateHeight();\n  }\n  render() {\n    var t;\n    let e = { comments__input__textarea: !0, \"fixed-width\": this.eventType === \"create-annotation\" }, i = { comments__input: !0, \"comments__input--editable\": this.editable, \"hide-input\": this.hideInput };\n    return u`\n      <div class=\"${v(i)}\">\n        <textarea\n          id=\"comments__input__textarea\"\n          class=${v(e)}\n          placeholder=${(t = this.placeholder) != null ? t : \"Add comment...\"}\n          @input=${this.updateHeight}\n          @focus=${this.onTextareaFocus}\n          @blur=${this.onTextareaLoseFocus}\n          spellcheck=\"false\"\n        ></textarea>\n        <superviz-comments-mention-list\n          .participants=${this.mentionList}\n          @participant-selected=${this.insertMention}\n        ></superviz-comments-mention-list>\n        <div class=\"sv-hr\"></div>\n        <div class=\"comments__input__options\">\n          <button\n            @click=${this.addAtSymbolInCaretPosition}\n            class=\"mention-button icon-button icon-button--medium icon-button--clickable\"\n          >\n            <superviz-icon name=\"mention\" size=\"sm\"></superviz-icon>\n          </button>\n          <div class=\"comment-input-options\">\n            ${this.commentInputOptions()} ${this.commentInputEditableOptions()}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n};\nr.styles = T, r.properties = { eventType: { type: String }, text: { type: String }, btnActive: { type: Boolean }, editable: { type: Boolean }, placeholder: { type: String }, mentions: { type: Array }, mentionList: { type: Object }, participantsList: { type: Object }, hideInput: { type: Boolean }, mode: { type: String } }, r = I([H(\"superviz-comments-comment-input\")], r);\nexport {\n  r as CommentsCommentInput\n};\n"],
  "mappings": "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",
  "names": ["S", "c", "$", "T", "p", "f"]
}
