{
  "version": 3,
  "sources": ["../../@superviz/react-sdk/dist/comments-MGTDGIFZ-B7MhYZyz.js"],
  "sourcesContent": ["import { y as d, e as m } from \"./index-CtPfqlcy.js\";\nimport { u as f } from \"./chunk-K5TMEGOR-DaSvC8Mu.js\";\nimport \"./chunk-3MEZQQ2J-CHe_tQrN.js\";\nimport { i as u, x as v } from \"./chunk-SDMTFDEM-n5DHnLs2.js\";\nimport { n as y } from \"./chunk-6U6BYUHV-TZ4JwLT4.js\";\nimport { D as g } from \"./chunk-MVFOLHBC-BeDRo2V6.js\";\nimport { V as n, a as b, t as w } from \"./chunk-WG46WHJF-JdNs68CV.js\";\nd();\nd();\nvar p;\nfunction h(t) {\n  let e = t.querySelector(\"#superviz-comments\");\n  if (e && !p) {\n    let r = { childList: !0, attributes: !0, characterData: !0, subtree: !0 };\n    p = new MutationObserver((s) => {\n      s.forEach((i) => {\n        i.removedNodes.length && i.removedNodes.forEach((o) => {\n          o.id === \"poweredby-footer\" && z(t);\n        });\n      });\n    }), p.observe(e, r);\n  }\n}\nfunction z(t) {\n  let e = document.createElement(\"div\");\n  e.id = \"poweredby-footer\", e.className = \"footer\";\n  let r = document.createElement(\"div\");\n  r.className = \"powered-by powered-by--horizontal\";\n  let s = document.createElement(\"a\");\n  s.href = \"https://superviz.com/\", s.target = \"_blank\", s.className = \"link\";\n  let i = document.createElement(\"div\");\n  i.textContent = \"Powered by\";\n  let o = document.createElement(\"img\");\n  o.width = 48, o.height = 8.86, o.src = \"https://production.cdn.superviz.com/static/superviz-gray-logo.svg\", r.appendChild(s), s.appendChild(i), i.appendChild(o), e.appendChild(r);\n  let l = t.getElementById(\"superviz-comments\");\n  l && l.appendChild(e), h(t);\n}\nvar c = g(b), O = [c.styles, u, v], a = class extends c {\n  constructor() {\n    super(), this.annotations = [], this.annotationFilter = \"All comments\", this.waterMarkState = !1, this.participantsList = [], this.side = \"left\";\n  }\n  firstUpdated(t) {\n    super.firstUpdated(t), this.updateComplete.then(() => {\n      y.call(this, [\"comments\"]);\n    });\n  }\n  updated(t) {\n    super.updated(t), this.updateComplete.then(() => {\n      this.waterMarkState && h(this.shadowRoot), t.has(\"offset\") && this.applyOffset();\n    });\n  }\n  participantsListed(t) {\n    this.participantsList = t;\n  }\n  updateAnnotations(t) {\n    this.annotations = t;\n  }\n  close() {\n    this.emitEvent(\"close-threads\", {});\n  }\n  waterMarkStatus(t) {\n    this.waterMarkState = t;\n  }\n  setFilter({ detail: t }) {\n    let { filter: { label: e } } = t;\n    this.annotationFilter = e;\n  }\n  getOffset(t) {\n    return t == null || t < 0 ? \"10px\" : `${t}px`;\n  }\n  applyOffset() {\n    let t = this.shadowRoot.querySelector(\".superviz-comments\");\n    if (!t) return;\n    let { left: e, right: r, top: s, bottom: i } = this.offset;\n    t.style.setProperty(\"--offset-top\", this.getOffset(s)), t.style.setProperty(\"--offset-bottom\", this.getOffset(i)), t.style.setProperty(\"--offset-right\", this.getOffset(r)), t.style.setProperty(\"--offset-left\", this.getOffset(e));\n  }\n  get poweredBy() {\n    return this.waterMarkState ? n` <div id=\"poweredby-footer\" class=\"footer\">\n      <div class=\"powered-by powered-by--horizontal\">\n        <a href=\"https://superviz.com/\" target=\"_blank\" class=\"link\">\n          <div class=\"\">\n            Powered by\n            <img\n              width=\"48px\"\n              height=\"8.86px\"\n              src=\"https://production.cdn.superviz.com/static/superviz-gray-logo.svg\"\n            />\n          </div>\n        </a>\n      </div>\n    </div>` : n``;\n  }\n  render() {\n    let t = { \"superviz-comments\": !0, \"threads-on-left-side\": this.side === \"left\", \"threads-on-right-side\": this.side === \"right\", \"hide-at-right\": this.side === \"right\" && !this.open, \"hide-at-left\": this.side === \"left\" && !this.open };\n    return n`\n      <div id=\"superviz-comments\" class=${f(t)}>\n        <div class=\"header\">\n          <superviz-comments-topbar\n            @close-threads=${this.close}\n            side=${this.side.split(\":\")[0]}\n          ></superviz-comments-topbar>\n        </div>\n        <superviz-comments-annotation-filter\n          filter=${this.annotationFilter}\n          @select=${this.setFilter}\n        >\n        </superviz-comments-annotation-filter>\n        <superviz-comments-content\n          annotations=${JSON.stringify(this.annotations)}\n          annotationFilter=${this.annotationFilter}\n          participantsList=${JSON.stringify(this.participantsList)}\n          class=\"content\"\n        ></superviz-comments-content>\n        ${this.poweredBy}\n      </div>\n    `;\n  }\n};\na.styles = O, a.properties = { open: { type: Boolean }, annotations: { type: Object }, annotationFilter: { type: String }, waterMarkState: { type: Boolean }, side: { type: String }, participantsList: { type: Object }, offset: { type: Object } }, a = m([w(\"superviz-comments\")], a);\nexport {\n  a as Comments\n};\n"],
  "mappings": "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",
  "names": ["r", "c", "O"]
}
